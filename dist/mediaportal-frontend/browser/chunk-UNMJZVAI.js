import{a as J,b as K,c as _e}from"./chunk-5OWSCIVN.js";import{a as Pe}from"./chunk-47TLDLVH.js";import{c as B,e as x,f as $,g as q,h as ve,i as Ce,k as V,m as G,n as W,r as z,s as he,t as be}from"./chunk-YIOSBDZK.js";import{h as y,j as _}from"./chunk-BHYX23KN.js";import{b as Y,c as f,e as Se,h as ye}from"./chunk-F7OBSROU.js";import{$ as p,Aa as L,B as ie,Bb as P,G as E,Ga as k,H as M,Ha as m,Ia as le,Ja as ce,Ka as de,La as pe,Ma as ue,Na as ge,Qa as D,X as s,Xa as H,ba as v,ca as F,fa as d,fb as O,gb as R,hb as b,ja as l,kb as j,oa as n,pa as o,qa as u,rb as fe,ta as N,va as C,vb as A,wa as h,xb as I,y as se,yb as S,z as T}from"./chunk-KOGPXGXW.js";import{f as we}from"./chunk-GAL4ENT6.js";var g=class r{constructor(t,e){this.mAppContextService=t;this.http=e}allItems(t){let e=`${f.base_url}/content-categories`;return this.http.get(e+t,this.mAppContextService.getHttpOptions())}createItem(t){let e=`${f.base_url}/content-categories`;return this.http.post(e,t,this.mAppContextService.getHttpOptions())}getOneItem(t){let e=`${f.base_url}/content-categories/${t}`;return this.http.get(e,this.mAppContextService.getHttpOptions())}updateItem(t){let e=`${f.base_url}/content-categories/${t.id}`;return this.http.put(e,t,this.mAppContextService.getHttpOptions())}deleteItem(t){let e=`${f.base_url}/content-categories/${t.id}`;return this.http.delete(e,this.mAppContextService.getHttpOptions())}paginateItems(t){return this.http.get(t,this.mAppContextService.getHttpOptions())}unpaginatedItems(){let t=`${f.base_url}/unpaginated-items-content-categories`;return this.http.get(t,this.mAppContextService.getHttpOptions())}searchItems(t){let e=`${f.base_url}/search-content-categories`;return this.http.post(e,t,this.mAppContextService.getHttpOptions())}categorizedItems(t,e){let i=`${f.base_url}/categorized-items-content-categories/${e}`;return this.http.get(i+t,this.mAppContextService.getHttpOptions())}static \u0275fac=function(e){return new(e||r)(ie(Se),ie(fe))};static \u0275prov=se({token:r,factory:r.\u0275fac,providedIn:"root"})};var Ee=r=>({"is-invalid":r});function Me(r,t){r&1&&u(0,"app-progress")}function Fe(r,t){r&1&&(n(0,"div"),m(1,"This field is required."),o())}function Ne(r,t){if(r&1&&(n(0,"div",28),d(1,Fe,2,0,"div",0),o()),r&2){let e,i=h();s(),l("ngIf",(e=i.itemForm.get("name"))==null||e.errors==null?null:e.errors.required)}}var U=class r{constructor(t,e,i,a){this.mToastrService=t;this.mContentCategoryService=e;this.router=i;this.fb=a;this.itemForm=this.fb.group({name:["",x.required]})}itemForm;mProgress=!1;onSubmit(t){this.mProgress=!0,this.mContentCategoryService.createItem(t).subscribe({next:e=>{e.status==="success"?(this.mToastrService.success(e.message),this.router.navigateByUrl("/content-categories"),this.mProgress=!1):(this.mToastrService.error(e.message),this.mProgress=!1)},error:e=>{e.error.message&&this.mToastrService.error(e.error.message),this.mProgress=!1}})}static \u0275fac=function(e){return new(e||r)(p(y),p(g),p(I),p(z))};static \u0275cmp=v({type:r,selectors:[["app-create"]],standalone:!1,decls:40,vars:7,consts:[[4,"ngIf"],[1,"app-content-header"],[1,"container-fluid"],[1,"row"],[1,"col-sm-6"],[1,"mb-0"],[1,"breadcrumb","float-sm-end"],[1,"breadcrumb-item"],["href","#"],["aria-current","page",1,"breadcrumb-item"],["aria-current","page",1,"breadcrumb-item","active"],[1,"app-content"],[1,"col-lg-12","col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-tools"],[1,"card-body"],[3,"ngSubmit","formGroup"],[1,"row","mb-3"],[1,"col-md-12"],[1,"mb-3"],["for","name",1,"form-label","required"],["type","text","formControlName","name",1,"form-control",3,"ngClass"],["class","invalid-feedback d-block","role","alert",4,"ngIf"],[1,"text-end"],["routerLink","/content-categories",1,"btn","btn-warning","me-1"],["type","submit",1,"btn","btn-primary",3,"disabled"],["role","alert",1,"invalid-feedback","d-block"]],template:function(e,i){if(e&1&&(d(0,Me,1,0,"app-progress",0),n(1,"section")(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"h3",5),m(7,"Categories"),o()(),n(8,"div",4)(9,"ol",6)(10,"li",7)(11,"a",8),m(12,"Home"),o()(),n(13,"li",9),m(14,"Categories"),o(),n(15,"li",10),m(16,"Create"),o()()()()()(),n(17,"div",11)(18,"div",2)(19,"div",3)(20,"div",12)(21,"div",13)(22,"div",14)(23,"div",15),m(24," Create Category "),o(),u(25,"div",16),o(),n(26,"div",17)(27,"form",18),C("ngSubmit",function(){return i.onSubmit(i.itemForm.value)}),n(28,"div",19)(29,"div",20)(30,"div",21)(31,"label",22),m(32,"Name:"),o(),u(33,"input",23),d(34,Ne,2,1,"div",24),o()()(),n(35,"div",25)(36,"a",26),m(37,"Cancel"),o(),n(38,"button",27),m(39,"Submit"),o()()()()()()()()()()),e&2){let a,c;l("ngIf",i.mProgress),s(27),l("formGroup",i.itemForm),s(6),l("ngClass",D(5,Ee,((a=i.itemForm.get("name"))==null?null:a.invalid)&&(((a=i.itemForm.get("name"))==null?null:a.dirty)||((a=i.itemForm.get("name"))==null?null:a.touched)))),s(),l("ngIf",((c=i.itemForm.get("name"))==null?null:c.invalid)&&(((c=i.itemForm.get("name"))==null?null:c.dirty)||((c=i.itemForm.get("name"))==null?null:c.touched))),s(4),l("disabled",i.itemForm.invalid)}},dependencies:[O,b,S,V,B,$,q,G,W,_],encapsulation:2})};var Le=r=>({"is-invalid":r});function ke(r,t){r&1&&u(0,"app-progress")}function De(r,t){r&1&&(n(0,"div"),m(1,"This field is required."),o())}function He(r,t){if(r&1&&(n(0,"div",28),d(1,De,2,0,"div",0),o()),r&2){let e,i=h();s(),l("ngIf",(e=i.itemForm.get("name"))==null||e.errors==null?null:e.errors.required)}}var X=class r{constructor(t,e,i,a,c){this.mToastrService=t;this.mContentCategoryService=e;this.router=i;this.fb=a;this.route=c;this.itemForm=this.fb.group({name:["",x.required]})}itemForm;mProgress=!1;id;item={};ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),this.mProgress=!0,this.mContentCategoryService.getOneItem(this.id).subscribe({next:t=>{t&&(this.item=t,this.mProgress=!1)},error:t=>{t.error.message&&this.mToastrService.error(t.error.message),this.mProgress=!1}})}onSubmit(t){let e={id:this.id,name:t.name};this.mProgress=!0,this.mContentCategoryService.updateItem(e).subscribe({next:i=>{i&&(this.mToastrService.success(i.message),this.router.navigateByUrl("/content-categories"),this.mProgress=!1)},error:i=>{i.error.message&&this.mToastrService.error(i.error.message),this.mProgress=!1}})}static \u0275fac=function(e){return new(e||r)(p(y),p(g),p(I),p(z),p(A))};static \u0275cmp=v({type:r,selectors:[["app-edit"]],standalone:!1,decls:40,vars:8,consts:[[4,"ngIf"],[1,"app-content-header"],[1,"container-fluid"],[1,"row"],[1,"col-sm-6"],[1,"mb-0"],[1,"breadcrumb","float-sm-end"],[1,"breadcrumb-item"],["href","#"],["aria-current","page",1,"breadcrumb-item"],["aria-current","page",1,"breadcrumb-item","active"],[1,"app-content"],[1,"col-lg-12","col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-tools"],[1,"card-body"],[3,"ngSubmit","formGroup"],[1,"row","mb-3"],[1,"col-md-12"],[1,"mb-3"],["for","name",1,"form-label","required"],["type","text","formControlName","name",1,"form-control",3,"ngModelChange","ngModel","ngClass"],["class","invalid-feedback d-block","role","alert",4,"ngIf"],[1,"text-end"],["routerLink","/content-categories",1,"btn","btn-warning","me-1"],["type","submit",1,"btn","btn-primary",3,"disabled"],["role","alert",1,"invalid-feedback","d-block"]],template:function(e,i){if(e&1&&(d(0,ke,1,0,"app-progress",0),n(1,"section")(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"h3",5),m(7,"Categories"),o()(),n(8,"div",4)(9,"ol",6)(10,"li",7)(11,"a",8),m(12,"Home"),o()(),n(13,"li",9),m(14,"Categories"),o(),n(15,"li",10),m(16,"Edit"),o()()()()()(),n(17,"div",11)(18,"div",2)(19,"div",3)(20,"div",12)(21,"div",13)(22,"div",14)(23,"div",15),m(24," Edit Category "),o(),u(25,"div",16),o(),n(26,"div",17)(27,"form",18),C("ngSubmit",function(){return i.onSubmit(i.itemForm.value)}),n(28,"div",19)(29,"div",20)(30,"div",21)(31,"label",22),m(32,"Name:"),o(),n(33,"input",23),ge("ngModelChange",function(c){return ue(i.item.name,c)||(i.item.name=c),c}),o(),d(34,He,2,1,"div",24),o()()(),n(35,"div",25)(36,"a",26),m(37,"Cancel"),o(),n(38,"button",27),m(39,"Submit"),o()()()()()()()()()()),e&2){let a,c;l("ngIf",i.mProgress),s(27),l("formGroup",i.itemForm),s(6),pe("ngModel",i.item.name),l("ngClass",D(6,Le,((a=i.itemForm.get("name"))==null?null:a.invalid)&&(((a=i.itemForm.get("name"))==null?null:a.dirty)||((a=i.itemForm.get("name"))==null?null:a.touched)))),s(),l("ngIf",((c=i.itemForm.get("name"))==null?null:c.invalid)&&(((c=i.itemForm.get("name"))==null?null:c.dirty)||((c=i.itemForm.get("name"))==null?null:c.touched))),s(4),l("disabled",i.itemForm.invalid)}},dependencies:[O,b,S,V,B,$,q,G,W,_],encapsulation:2})};var Ie=we(Pe());function Ae(r,t){r&1&&u(0,"app-progress")}function Be(r,t){if(r&1&&(n(0,"div",16)(1,"a",17),u(2,"app-media-card",18),n(3,"h6",6),m(4),o(),n(5,"div",19),m(6),o()()()),r&2){let e=t.$implicit;s(),L("routerLink","/content-categories/show/",e.id,""),s(),l("data",e),s(2),le(e.name),s(2),ce("",e.total_media," media")}}function $e(r,t){if(r&1&&(n(0,"div",14),d(1,Be,7,5,"div",15),o()),r&2){let e=h();s(),l("ngForOf",e.mItems)}}function qe(r,t){r&1&&u(0,"app-loader")}function Ve(r,t){r&1&&(n(0,"p",20),m(1,"No items"),o())}var Z=class r{constructor(t,e){this.mContentCategoryService=t;this.mToastrService=e}mItems=[];itemForm;search_term;mProgress=!1;links=[];currentPage=1;mLoadingMore=!1;mHasMorePages=!0;ngOnInit(){this.index(this.currentPage),this.search_term=new Ce("",x.required),this.itemForm=new ve({search_term:this.search_term})}index(t){this.currentPage===1&&(this.mProgress=!0);let e=typeof t=="string"?t:`?page=${this.currentPage}`;this.mContentCategoryService.allItems(e).subscribe({next:i=>{this.currentPage===1?this.mItems=i.data:this.mItems=[...this.mItems,...i.data],this.mProgress=!1,this.links=i.links,this.mLoadingMore=!1;let a=this.links.find(c=>c.label==="Next &raquo;");this.mHasMorePages=!!a?.url},error:()=>{this.mLoadingMore=!1,this.mHasMorePages=!1}})}onLoadMore(){if(!this.mHasMorePages||this.mLoadingMore)return;let t=this.links.find(e=>e.label==="Next &raquo;");t?(this.mLoadingMore=!0,this.currentPage++,this.index(t)):this.mHasMorePages=!1}onDelete(t){Ie.default.mixin({customClass:{cancelButton:"btn btn-dark me-2",confirmButton:"btn btn-danger"},buttonsStyling:!1}).fire({title:"Remove?",text:"You won't be able to revert this!",icon:"error",showCancelButton:!0,reverseButtons:!0,cancelButtonText:"Cancel",confirmButtonText:"Delete"}).then(i=>{i.isConfirmed&&(this.mProgress=!0,this.mContentCategoryService.deleteItem(t).subscribe({next:a=>{a&&(this.mItems=this.mItems.filter(c=>c.id!==t.id),this.mToastrService.error(a.message),this.mProgress=!1)},error:a=>{a.error.message&&this.mToastrService.error(a.error.message),this.mProgress=!1}}))})}onSearch(t){this.mProgress=!0,this.mContentCategoryService.searchItems(t).subscribe({next:e=>{e&&(this.mItems=e.data,this.mToastrService.success(e.message),this.mProgress=!1)},error:e=>{e.error.message&&this.mToastrService.error(e.error.message),this.mProgress=!1}})}static \u0275fac=function(e){return new(e||r)(p(g),p(y))};static \u0275cmp=v({type:r,selectors:[["app-index"]],standalone:!1,decls:23,vars:7,consts:[["noItemsTemplate",""],[4,"ngIf"],[1,"app-content-header"],[1,"container-fluid"],[1,"row"],[1,"col-sm-6"],[1,"mb-0"],[1,"breadcrumb","float-sm-end"],[1,"breadcrumb-item"],["href","#"],["aria-current","page",1,"breadcrumb-item","active"],[1,"app-content"],["infiniteScroll","",1,"card-body",3,"scrolled","infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollDisabled"],["class","row row-cols-1 row-cols-sm-2 row-cols-md-4 g-4",4,"ngIf","ngIfElse"],[1,"row","row-cols-1","row-cols-sm-2","row-cols-md-4","g-4"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"row","text-decoration-none","text-reset",3,"routerLink"],[3,"data"],[1,"pt-0","text-muted"],[1,"p-5","text-center","text-muted"]],template:function(e,i){if(e&1){let a=N();d(0,Ae,1,0,"app-progress",1),n(1,"section")(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h3",6),m(7,"Categories"),o()(),n(8,"div",5)(9,"ol",7)(10,"li",8)(11,"a",9),m(12,"Home"),o()(),n(13,"li",10),m(14,"Categories"),o()()()()()(),n(15,"div",11)(16,"div",3)(17,"div",12),C("scrolled",function(){return E(a),M(i.onLoadMore())}),d(18,$e,2,1,"div",13),n(19,"div"),d(20,qe,1,0,"app-loader",1),o(),d(21,Ve,2,0,"ng-template",null,0,H),o()()()()}if(e&2){let a=k(22);l("ngIf",i.mProgress),s(17),l("infiniteScrollDistance",2)("infiniteScrollThrottle",150)("infiniteScrollDisabled",!i.mHasMorePages||i.mLoadingMore),s(),l("ngIf",i.mItems&&i.mItems.length>0)("ngIfElse",a),s(2),l("ngIf",i.mLoadingMore)}},dependencies:[R,b,S,_,J,Y,K],encapsulation:2})};function Ge(r,t){r&1&&u(0,"app-progress")}function We(r,t){if(r&1&&(n(0,"div",23)(1,"a",24),u(2,"app-media-card",25),o()()),r&2){let e=t.$implicit;s(),L("routerLink","/media/show/",e==null?null:e.media.id,""),s(),l("data",e==null?null:e.media)}}function ze(r,t){if(r&1&&(n(0,"div",21),d(1,We,3,3,"div",22),o()),r&2){let e=h();s(),l("ngForOf",e.mItems)}}function Ye(r,t){r&1&&u(0,"app-loader")}function Je(r,t){r&1&&(n(0,"p",26),m(1,"No items"),o())}var ee=class r{constructor(t,e,i,a){this.mToastrService=t;this.mContentCategoryService=e;this.router=i;this.route=a}id;item={};mItems=[];mProgress=!1;links=[];currentPage=1;mLoadingMore=!1;mHasMorePages=!0;ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),this.mProgress=!0,this.mContentCategoryService.getOneItem(this.id).subscribe({next:t=>{t&&(this.item=t,this.index(this.currentPage),this.mProgress=!1)},error:t=>{t.error.message&&this.mToastrService.error(t.error.message),this.mProgress=!1}})}index(t){this.currentPage===1&&(this.mProgress=!0);let e=typeof t=="string"?t:`?page=${this.currentPage}`;this.mContentCategoryService.categorizedItems(e,this.item.id).subscribe({next:i=>{this.currentPage===1?this.mItems=i.data:this.mItems=[...this.mItems,...i.data],this.mProgress=!1,this.links=i.links,this.mLoadingMore=!1;let a=this.links.find(c=>c.label==="Next &raquo;");this.mHasMorePages=!!a?.url},error:()=>{this.mLoadingMore=!1,this.mHasMorePages=!1}})}onLoadMore(){if(!this.mHasMorePages||this.mLoadingMore)return;let t=this.links.find(e=>e.label==="Next &raquo;");t?(this.mLoadingMore=!0,this.currentPage++,this.index(t)):this.mHasMorePages=!1}static \u0275fac=function(e){return new(e||r)(p(y),p(g),p(I),p(A))};static \u0275cmp=v({type:r,selectors:[["app-show"]],standalone:!1,decls:33,vars:9,consts:[["noItemsTemplate",""],[4,"ngIf"],[1,"app-content-header"],[1,"container-fluid"],[1,"row"],[1,"col-sm-6"],[1,"mb-0"],[1,"breadcrumb","float-sm-end"],[1,"breadcrumb-item"],["href","#"],["aria-current","page",1,"breadcrumb-item"],["aria-current","page",1,"breadcrumb-item","active"],[1,"app-content"],[1,"col-lg-12","col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-tools"],[1,"card-body"],["infiniteScroll","",1,"card-body",3,"scrolled","infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollDisabled"],["class","row row-cols-1 row-cols-sm-2 row-cols-md-4 g-4",4,"ngIf","ngIfElse"],[1,"row","row-cols-1","row-cols-sm-2","row-cols-md-4","g-4"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"row","text-decoration-none","text-reset","me-1",3,"routerLink"],[3,"data"],[1,"p-5","text-center","text-muted"]],template:function(e,i){if(e&1){let a=N();d(0,Ge,1,0,"app-progress",1),n(1,"section")(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h3",6),m(7,"Categories"),o()(),n(8,"div",5)(9,"ol",7)(10,"li",8)(11,"a",9),m(12,"Home"),o()(),n(13,"li",10),m(14,"Categories"),o(),n(15,"li",11),m(16,"Show"),o()()()()()(),n(17,"div",12)(18,"div",3)(19,"div",4)(20,"div",13)(21,"div",14)(22,"div",15)(23,"div",16),m(24),o(),u(25,"div",17),o(),n(26,"div",18)(27,"div",19),C("scrolled",function(){return E(a),M(i.onLoadMore())}),d(28,ze,2,1,"div",20),n(29,"div"),d(30,Ye,1,0,"app-loader",1),o(),d(31,Je,2,0,"ng-template",null,0,H),o()()()()()()()()}if(e&2){let a=k(32);l("ngIf",i.mProgress),s(24),de(" ",i.item.total_media,' media in category "',i.item.name,'" '),s(3),l("infiniteScrollDistance",2)("infiniteScrollThrottle",150)("infiniteScrollDisabled",!i.mHasMorePages||i.mLoadingMore),s(),l("ngIf",i.mItems&&i.mItems.length>0)("ngIfElse",a),s(2),l("ngIf",i.mLoadingMore)}},dependencies:[R,b,S,_,J,Y,K],encapsulation:2})};var Ke=[{path:"",redirectTo:"index",pathMatch:"full"},{path:"index",component:Z,data:{title:"Index"}},{path:"create",component:U,data:{title:"Create"}},{path:"edit/:id",component:X,data:{title:"Edit"}},{path:"show/:id",component:ee,data:{title:"Show"}}],te=class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=F({type:r});static \u0275inj=T({imports:[j,P.forChild(Ke),P]})};var xe=class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=F({type:r});static \u0275inj=T({imports:[j,P,he,be,ye,te,_e]})};export{xe as MediaCategoryModule};
