import{a as Je}from"./chunk-47TLDLVH.js";import{a as J}from"./chunk-XYS7DLHR.js";import{h as K}from"./chunk-XRAHKYB4.js";import{b as qe,c as W,e as _,f as H,g as V,h as Oe,i as Ae,j as G,k as $,l as z,m as de,n as pe,o as ue,p as ce,q as Re,r as Be}from"./chunk-SO7SBIPN.js";import{a as I,d as je}from"./chunk-2ZPMBU5K.js";import{$ as p,Aa as g,Ba as Se,C as ie,Ca as U,D as ne,Da as k,Ea as M,Ha as v,Ia as Te,Ja as Ne,Ka as oe,La as ae,Ma as Ue,Q as xe,S as a,Ua as B,Va as j,W as f,Wa as D,X as w,Xa as ke,Y as re,Ya as me,ab as Me,ca as Ce,da as m,db as Pe,fb as se,gb as L,ia as l,ja as r,jb as Z,ka as u,kb as Y,na as le,pa as T,qa as c,ta as X,u as Fe,ua as Ie,v as te,x as be,ya as we,za as o}from"./chunk-S2N7P2EH.js";import{f as Ye}from"./chunk-GAL4ENT6.js";var N=class i{constructor(n,t){this.mAppContextService=n;this.http=t}allItems(){let n=`${I.base_url}/users`;return this.http.get(n,this.mAppContextService.getHttpOptions())}createItem(n){let t=`${I.base_url}/users`;return this.http.post(t,n,this.mAppContextService.getHttpOptions())}getOneItem(n){let t=`${I.base_url}/users/${n}`;return this.http.get(t,this.mAppContextService.getHttpOptions())}updateItem(n){let t=`${I.base_url}/users/${n.id}`;return this.http.put(t,n,this.mAppContextService.getHttpOptions())}deleteItem(n){let t=`${I.base_url}/users/${n.id}`;return this.http.delete(t,this.mAppContextService.getHttpOptions())}paginateItems(n){return this.http.get(n,this.mAppContextService.getHttpOptions())}unpaginatedItems(){let n=`${I.base_url}/unpaginated-items-users`;return this.http.get(n,this.mAppContextService.getHttpOptions())}updateAccountStatus(n){let t=`${I.base_url}/update-account-status/${n.id}`;return this.http.post(t,n,this.mAppContextService.getHttpOptions())}searchItems(n){let t=`${I.base_url}/search-users`;return this.http.post(t,n,this.mAppContextService.getHttpOptions())}static \u0275fac=function(t){return new(t||i)(be(Y),be(Me))};static \u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})};var ee=i=>({"is-invalid":i});function Ke(i,n){i&1&&u(0,"app-progress")}function Qe(i,n){i&1&&(l(0,"div"),o(1,"This field is required."),r())}function Xe(i,n){if(i&1&&(l(0,"div",40),p(1,Qe,2,0,"div",0),r()),i&2){let t,e=c();a(),m("ngIf",(t=e.itemForm.get("first_name"))==null||t.errors==null?null:t.errors.required)}}function Ze(i,n){i&1&&(l(0,"div"),o(1,"This field is required."),r())}function et(i,n){if(i&1&&(l(0,"div",40),p(1,Ze,2,0,"div",0),r()),i&2){let t,e=c();a(),m("ngIf",(t=e.itemForm.get("last_name"))==null||t.errors==null?null:t.errors.required)}}function tt(i,n){i&1&&(l(0,"div"),o(1,"This field is required."),r())}function it(i,n){i&1&&(l(0,"div"),o(1,"Enter a valid email address."),r())}function nt(i,n){if(i&1&&(l(0,"div",40),p(1,tt,2,0,"div",0)(2,it,2,0,"div",0),r()),i&2){let t,e,s=c();a(),m("ngIf",(t=s.itemForm.get("email"))==null||t.errors==null?null:t.errors.required),a(),m("ngIf",(e=s.itemForm.get("email"))==null||e.errors==null?null:e.errors.email)}}function rt(i,n){if(i&1&&(l(0,"option",41),o(1),r()),i&2){let t=n.$implicit;X("value",t.id),a(),g(t.name)}}function lt(i,n){i&1&&(l(0,"div"),o(1,"This field is required."),r())}function ot(i,n){if(i&1&&(l(0,"div",42),p(1,lt,2,0,"div",0),r()),i&2){let t,e=c();a(),m("ngIf",(t=e.itemForm.get("role_id"))==null||t.errors==null?null:t.errors.required)}}function at(i,n){i&1&&(l(0,"div"),o(1,"This field is required."),r())}function mt(i,n){i&1&&(l(0,"div"),o(1,"Password must be at least 6 characters long."),r())}function st(i,n){if(i&1&&(l(0,"div",40),p(1,at,2,0,"div",0)(2,mt,2,0,"div",0),r()),i&2){let t,e,s=c();a(),m("ngIf",(t=s.itemForm.get("password"))==null||t.errors==null?null:t.errors.required),a(),m("ngIf",(e=s.itemForm.get("password"))==null||e.errors==null?null:e.errors.minlength)}}var _e=class i{constructor(n,t,e,s,d){this.mToastrService=n;this.mUserService=t;this.mAppContextService=e;this.router=s;this.fb=d;this.itemForm=this.fb.group({first_name:["",_.required],last_name:["",_.required],email:["",[_.required,_.email]],role_id:["",_.required],password:["",[_.required,_.minLength(6)]]})}itemForm;mProgress=!1;mRoles;ngOnInit(){this.index()}onSubmit(n){this.mProgress=!0,this.mUserService.createItem(n).subscribe({next:t=>{t.status==="success"?(this.mToastrService.success(t.message),this.router.navigateByUrl("/users"),this.mProgress=!1):(this.mToastrService.error(t.message),this.mProgress=!1)},error:t=>{t.error.message&&this.mToastrService.error(t.error.message),this.mProgress=!1}})}index(){this.mProgress=!0,this.mUserService.unpaginatedItems().subscribe({next:n=>{n&&(this.mRoles=n.data.roles,this.mProgress=!1)},error:n=>{n.error.message&&this.mToastrService.error(n.error.message),this.mProgress=!1}})}static \u0275fac=function(t){return new(t||i)(f(K),f(N),f(Y),f(se),f(ce))};static \u0275cmp=w({type:i,selectors:[["app-create"]],standalone:!1,decls:67,vars:24,consts:[[4,"ngIf"],[1,"app-content-header"],[1,"container-fluid"],[1,"row"],[1,"col-sm-6"],[1,"mb-0"],[1,"breadcrumb","float-sm-end"],[1,"breadcrumb-item"],["href","#"],["aria-current","page",1,"breadcrumb-item"],["aria-current","page",1,"breadcrumb-item","active"],[1,"app-content"],[1,"col-lg-12","col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-tools"],[1,"card-body"],[3,"ngSubmit","formGroup"],[1,"row","mb-3"],[1,"col-md-6"],[1,"mb-3"],["for","first_name",1,"form-label","required"],["type","text","formControlName","first_name",1,"form-control",3,"ngClass"],["class","invalid-feedback d-block","role","alert",4,"ngIf"],["for","last_name",1,"form-label","required"],["type","text","formControlName","last_name",1,"form-control",3,"ngClass"],["for","email",1,"form-label","required"],["type","email","formControlName","email",1,"form-control",3,"ngClass"],["for","role_id",1,"form-label","required"],["formControlName","role_id",1,"form-select",3,"ngClass"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback d-block1","role","alert",4,"ngIf"],[1,"col-md-12"],["for","password",1,"form-label","required"],["type","password","formControlName","password",1,"form-control",3,"ngClass"],[1,"text-end"],["routerLink","/users",1,"btn","btn-danger","me-1"],["type","submit",1,"btn","btn-success",3,"disabled"],["role","alert",1,"invalid-feedback","d-block"],[3,"value"],["role","alert",1,"invalid-feedback","d-block1"]],template:function(t,e){if(t&1&&(p(0,Ke,1,0,"app-progress",0),l(1,"section")(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"h3",5),o(7,"Users"),r()(),l(8,"div",4)(9,"ol",6)(10,"li",7)(11,"a",8),o(12,"Home"),r()(),l(13,"li",9),o(14,"Users"),r(),l(15,"li",10),o(16,"Create"),r()()()()()(),l(17,"div",11)(18,"div",2)(19,"div",3)(20,"div",12)(21,"div",13)(22,"div",14)(23,"div",15),o(24," Create User "),r(),u(25,"div",16),r(),l(26,"div",17)(27,"form",18),T("ngSubmit",function(){return e.onSubmit(e.itemForm.value)}),l(28,"div",19)(29,"div",20)(30,"div",21)(31,"label",22),o(32,"First Name:"),r(),u(33,"input",23),p(34,Xe,2,1,"div",24),r()(),l(35,"div",20)(36,"div",21)(37,"label",25),o(38,"Last Name:"),r(),u(39,"input",26),p(40,et,2,1,"div",24),r()(),l(41,"div",20)(42,"div",21)(43,"label",27),o(44,"Email:"),r(),u(45,"input",28),p(46,nt,3,2,"div",24),r()(),l(47,"div",20)(48,"div",21)(49,"label",29),o(50,"Role:"),r(),l(51,"select",30)(52,"option",31),o(53,"--- Select role ---"),r(),p(54,rt,2,2,"option",32),r(),p(55,ot,2,1,"div",33),r()(),l(56,"div",34)(57,"div",21)(58,"label",35),o(59,"Password:"),r(),u(60,"input",36),p(61,st,3,2,"div",24),r()()(),l(62,"div",37)(63,"a",38),o(64,"Cancel"),r(),l(65,"button",39),o(66,"Submit"),r()()()()()()()()()()),t&2){let s,d,h,b,C,S,y,E,F,x;m("ngIf",e.mProgress),a(27),m("formGroup",e.itemForm),a(6),m("ngClass",v(14,ee,((s=e.itemForm.get("first_name"))==null?null:s.invalid)&&(((s=e.itemForm.get("first_name"))==null?null:s.dirty)||((s=e.itemForm.get("first_name"))==null?null:s.touched)))),a(),m("ngIf",((d=e.itemForm.get("first_name"))==null?null:d.invalid)&&(((d=e.itemForm.get("first_name"))==null?null:d.dirty)||((d=e.itemForm.get("first_name"))==null?null:d.touched))),a(5),m("ngClass",v(16,ee,((h=e.itemForm.get("last_name"))==null?null:h.invalid)&&(((h=e.itemForm.get("last_name"))==null?null:h.dirty)||((h=e.itemForm.get("last_name"))==null?null:h.touched)))),a(),m("ngIf",((b=e.itemForm.get("last_name"))==null?null:b.invalid)&&(((b=e.itemForm.get("last_name"))==null?null:b.dirty)||((b=e.itemForm.get("last_name"))==null?null:b.touched))),a(5),m("ngClass",v(18,ee,((C=e.itemForm.get("email"))==null?null:C.invalid)&&(((C=e.itemForm.get("email"))==null?null:C.dirty)||((C=e.itemForm.get("email"))==null?null:C.touched)))),a(),m("ngIf",((S=e.itemForm.get("email"))==null?null:S.invalid)&&(((S=e.itemForm.get("email"))==null?null:S.dirty)||((S=e.itemForm.get("email"))==null?null:S.touched))),a(5),m("ngClass",v(20,ee,((y=e.itemForm.get("role_id"))==null?null:y.invalid)&&(((y=e.itemForm.get("role_id"))==null?null:y.dirty)||((y=e.itemForm.get("role_id"))==null?null:y.touched)))),a(3),m("ngForOf",e.mRoles),a(),m("ngIf",((E=e.itemForm.get("role_id"))==null?null:E.invalid)&&(((E=e.itemForm.get("role_id"))==null?null:E.dirty)||((E=e.itemForm.get("role_id"))==null?null:E.touched))),a(5),m("ngClass",v(22,ee,((F=e.itemForm.get("password"))==null?null:F.invalid)&&(((F=e.itemForm.get("password"))==null?null:F.dirty)||((F=e.itemForm.get("password"))==null?null:F.touched)))),a(),m("ngIf",((x=e.itemForm.get("password"))==null?null:x.invalid)&&(((x=e.itemForm.get("password"))==null?null:x.dirty)||((x=e.itemForm.get("password"))==null?null:x.touched))),a(4),m("disabled",e.itemForm.invalid)}},dependencies:[B,j,D,L,G,pe,ue,W,de,H,V,$,z,J],encapsulation:2})};var P=i=>({"is-invalid":i});function dt(i,n){i&1&&u(0,"app-progress")}function pt(i,n){i&1&&(l(0,"div"),o(1,"This field is required."),r())}function ut(i,n){if(i&1&&(l(0,"div",45),p(1,pt,2,0,"div",0),r()),i&2){let t,e=c();a(),m("ngIf",(t=e.itemForm.get("first_name"))==null||t.errors==null?null:t.errors.required)}}function ct(i,n){i&1&&(l(0,"div"),o(1,"This field is required."),r())}function _t(i,n){if(i&1&&(l(0,"div",45),p(1,ct,2,0,"div",0),r()),i&2){let t,e=c();a(),m("ngIf",(t=e.itemForm.get("last_name"))==null||t.errors==null?null:t.errors.required)}}function ft(i,n){i&1&&(l(0,"div"),o(1,"This field is required."),r())}function vt(i,n){i&1&&(l(0,"div"),o(1,"Enter a valid email address."),r())}function gt(i,n){if(i&1&&(l(0,"div",45),p(1,ft,2,0,"div",0)(2,vt,2,0,"div",0),r()),i&2){let t,e,s=c();a(),m("ngIf",(t=s.itemForm.get("email"))==null||t.errors==null?null:t.errors.required),a(),m("ngIf",(e=s.itemForm.get("email"))==null||e.errors==null?null:e.errors.email)}}function ht(i,n){if(i&1&&(l(0,"option",46),o(1),r()),i&2){let t=n.$implicit;X("value",t.id),a(),g(t.name)}}function bt(i,n){i&1&&(l(0,"div"),o(1,"This field is required."),r())}function Ct(i,n){if(i&1&&(l(0,"div",47),p(1,bt,2,0,"div",0),r()),i&2){let t,e=c();a(),m("ngIf",(t=e.itemForm.get("role_id"))==null||t.errors==null?null:t.errors.required)}}function St(i,n){if(i&1&&(l(0,"option",46),o(1),r()),i&2){let t=n.$implicit;X("value",t.id),a(),g(t.name)}}function yt(i,n){i&1&&(l(0,"div"),o(1,"This field is required."),r())}function Et(i,n){if(i&1&&(l(0,"div",47),p(1,yt,2,0,"div",0),r()),i&2){let t,e=c();a(),m("ngIf",(t=e.itemForm.get("status_id"))==null||t.errors==null?null:t.errors.required)}}function Ft(i,n){i&1&&(l(0,"div"),o(1,"This field is required."),r())}function xt(i,n){i&1&&(l(0,"div"),o(1,"Password must be at least 6 characters long."),r())}function It(i,n){if(i&1&&(l(0,"div",45),p(1,Ft,2,0,"div",0)(2,xt,2,0,"div",0),r()),i&2){let t,e,s=c();a(),m("ngIf",(t=s.itemForm.get("password"))==null||t.errors==null?null:t.errors.required),a(),m("ngIf",(e=s.itemForm.get("password"))==null||e.errors==null?null:e.errors.minlength)}}function wt(i,n){i&1&&(l(0,"div"),o(1,"This field is required."),r())}function Tt(i,n){if(i&1&&(l(0,"div",45),p(1,wt,2,0,"div",0),r()),i&2){let t,e=c();a(),m("ngIf",(t=e.itemForm.get("reset_password"))==null||t.errors==null?null:t.errors.required)}}var fe=class i{constructor(n,t,e,s,d,h){this.route=n;this.mUserService=t;this.router=e;this.mToastrService=s;this.mAppContextService=d;this.fb=h;this.itemForm=this.fb.group({first_name:["",_.required],last_name:["",_.required],email:["",[_.required,_.email]],role_id:["",_.required],status_id:["",_.required],password:["",[_.nullValidator,_.minLength(6)]],reset_password:[!1,_.nullValidator]})}itemForm;mProgress=!1;mRoles;mStatuses;id;item={};ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),this.mProgress=!0,this.mUserService.getOneItem(this.id).subscribe({next:n=>{n&&(this.item=n,this.mProgress=!1)},error:n=>{n.error.message&&this.mToastrService.error(n.error.message),this.mProgress=!1}}),this.index()}index(){this.mProgress=!0,this.mUserService.unpaginatedItems().subscribe({next:n=>{n&&(this.mRoles=n.data.roles,this.mStatuses=n.data.statuses,this.mProgress=!1)},error:n=>{n.error.message&&this.mToastrService.error(n.error.message),this.mProgress=!1}})}onSubmit(n){let t={id:this.id,first_name:n.first_name,last_name:n.last_name,email:n.email,role_id:n.role_id,status_id:n.status_id,password:n.password,reset_password:n.reset_password};this.mProgress=!0,this.mUserService.updateItem(t).subscribe({next:e=>{e&&(this.mToastrService.info(e.message),this.router.navigateByUrl("/users"),this.mProgress=!1)},error:e=>{e.error.message&&this.mToastrService.error(e.error.message),this.mProgress=!1}})}static \u0275fac=function(t){return new(t||i)(f(Pe),f(N),f(se),f(K),f(Y),f(ce))};static \u0275cmp=w({type:i,selectors:[["app-edit"]],standalone:!1,decls:83,vars:39,consts:[[4,"ngIf"],[1,"app-content-header"],[1,"container-fluid"],[1,"row"],[1,"col-sm-6"],[1,"mb-0"],[1,"breadcrumb","float-sm-end"],[1,"breadcrumb-item"],["href","#"],["aria-current","page",1,"breadcrumb-item"],["aria-current","page",1,"breadcrumb-item","active"],[1,"app-content"],[1,"col-lg-12","col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-tools"],[1,"card-body"],[3,"ngSubmit","formGroup"],[1,"row","mb-3"],[1,"col-md-6"],[1,"mb-3"],["for","first_name",1,"form-label","required"],["type","text","formControlName","first_name",1,"form-control",3,"ngModelChange","ngModel","ngClass"],["class","invalid-feedback d-block","role","alert",4,"ngIf"],["for","last_name",1,"form-label","required"],["type","text","formControlName","last_name",1,"form-control",3,"ngModelChange","ngModel","ngClass"],["for","email",1,"form-label","required"],["type","email","formControlName","email",1,"form-control",3,"ngModelChange","ngModel","ngClass"],["for","role_id",1,"form-label","required"],["formControlName","role_id",1,"form-select",3,"ngModelChange","ngModel","ngClass"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback d-block1","role","alert",4,"ngIf"],[1,"col-md-12"],["for","status_id",1,"form-label","required"],["formControlName","status_id",1,"form-select",3,"ngModelChange","ngModel","ngClass"],["for","password",1,"form-label","required"],["type","password","formControlName","password",1,"form-control",3,"ngModelChange","ngModel","ngClass"],[1,"text-end"],[1,"form-check","d-inline-block"],["type","checkbox","formControlName","reset_password",1,"form-check-input",3,"ngClass"],["for","reset_password"],["routerLink","/users",1,"btn","btn-danger","me-1"],["type","submit",1,"btn","btn-success",3,"disabled"],["role","alert",1,"invalid-feedback","d-block"],[3,"value"],["role","alert",1,"invalid-feedback","d-block1"]],template:function(t,e){if(t&1&&(p(0,dt,1,0,"app-progress",0),l(1,"section")(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"h3",5),o(7,"Users"),r()(),l(8,"div",4)(9,"ol",6)(10,"li",7)(11,"a",8),o(12,"Home"),r()(),l(13,"li",9),o(14,"Users"),r(),l(15,"li",10),o(16,"Edit"),r()()()()()(),l(17,"div",11)(18,"div",2)(19,"div",3)(20,"div",12)(21,"div",13)(22,"div",14)(23,"div",15),o(24," Edit User "),r(),u(25,"div",16),r(),l(26,"div",17)(27,"form",18),T("ngSubmit",function(){return e.onSubmit(e.itemForm.value)}),l(28,"div",19)(29,"div",20)(30,"div",21)(31,"label",22),o(32,"First Name:"),r(),l(33,"input",23),M("ngModelChange",function(d){return k(e.item.first_name,d)||(e.item.first_name=d),d}),r(),p(34,ut,2,1,"div",24),r()(),l(35,"div",20)(36,"div",21)(37,"label",25),o(38,"Last Name:"),r(),l(39,"input",26),M("ngModelChange",function(d){return k(e.item.last_name,d)||(e.item.last_name=d),d}),r(),p(40,_t,2,1,"div",24),r()(),l(41,"div",20)(42,"div",21)(43,"label",27),o(44,"Email:"),r(),l(45,"input",28),M("ngModelChange",function(d){return k(e.item.email,d)||(e.item.email=d),d}),r(),p(46,gt,3,2,"div",24),r()(),l(47,"div",20)(48,"div",21)(49,"label",29),o(50,"Role:"),r(),l(51,"select",30),M("ngModelChange",function(d){return k(e.item.role_id,d)||(e.item.role_id=d),d}),l(52,"option",31),o(53,"--- Select role ---"),r(),p(54,ht,2,2,"option",32),r(),p(55,Ct,2,1,"div",33),r()(),l(56,"div",34)(57,"div",21)(58,"label",35),o(59,"Status:"),r(),l(60,"select",36),M("ngModelChange",function(d){return k(e.item.status_id,d)||(e.item.status_id=d),d}),l(61,"option",31),o(62,"Status"),r(),p(63,St,2,2,"option",32),r(),p(64,Et,2,1,"div",33),r()(),l(65,"div",34)(66,"div",21)(67,"label",37),o(68,"Password:"),r(),l(69,"input",38),M("ngModelChange",function(d){return k(e.item.password,d)||(e.item.password=d),d}),r(),p(70,It,3,2,"div",24),r()(),l(71,"div",34)(72,"div",39)(73,"div",40),u(74,"input",41),l(75,"label",42),o(76," Reset user password?"),r(),p(77,Tt,2,1,"div",24),r()()()(),l(78,"div",39)(79,"a",43),o(80,"Cancel"),r(),l(81,"button",44),o(82,"Submit"),r()()()()()()()()()()),t&2){let s,d,h,b,C,S,y,E,F,x,q,O,A,R;m("ngIf",e.mProgress),a(27),m("formGroup",e.itemForm),a(6),U("ngModel",e.item.first_name),m("ngClass",v(25,P,((s=e.itemForm.get("first_name"))==null?null:s.invalid)&&(((s=e.itemForm.get("first_name"))==null?null:s.dirty)||((s=e.itemForm.get("first_name"))==null?null:s.touched)))),a(),m("ngIf",((d=e.itemForm.get("first_name"))==null?null:d.invalid)&&(((d=e.itemForm.get("first_name"))==null?null:d.dirty)||((d=e.itemForm.get("first_name"))==null?null:d.touched))),a(5),U("ngModel",e.item.last_name),m("ngClass",v(27,P,((h=e.itemForm.get("last_name"))==null?null:h.invalid)&&(((h=e.itemForm.get("last_name"))==null?null:h.dirty)||((h=e.itemForm.get("last_name"))==null?null:h.touched)))),a(),m("ngIf",((b=e.itemForm.get("last_name"))==null?null:b.invalid)&&(((b=e.itemForm.get("last_name"))==null?null:b.dirty)||((b=e.itemForm.get("last_name"))==null?null:b.touched))),a(5),U("ngModel",e.item.email),m("ngClass",v(29,P,((C=e.itemForm.get("email"))==null?null:C.invalid)&&(((C=e.itemForm.get("email"))==null?null:C.dirty)||((C=e.itemForm.get("email"))==null?null:C.touched)))),a(),m("ngIf",((S=e.itemForm.get("email"))==null?null:S.invalid)&&(((S=e.itemForm.get("email"))==null?null:S.dirty)||((S=e.itemForm.get("email"))==null?null:S.touched))),a(5),U("ngModel",e.item.role_id),m("ngClass",v(31,P,((y=e.itemForm.get("role_id"))==null?null:y.invalid)&&(((y=e.itemForm.get("role_id"))==null?null:y.dirty)||((y=e.itemForm.get("role_id"))==null?null:y.touched)))),a(3),m("ngForOf",e.mRoles),a(),m("ngIf",((E=e.itemForm.get("role_id"))==null?null:E.invalid)&&(((E=e.itemForm.get("role_id"))==null?null:E.dirty)||((E=e.itemForm.get("role_id"))==null?null:E.touched))),a(5),U("ngModel",e.item.status_id),m("ngClass",v(33,P,((F=e.itemForm.get("status_id"))==null?null:F.invalid)&&(((F=e.itemForm.get("status_id"))==null?null:F.dirty)||((F=e.itemForm.get("status_id"))==null?null:F.touched)))),a(3),m("ngForOf",e.mStatuses),a(),m("ngIf",((x=e.itemForm.get("status_id"))==null?null:x.invalid)&&(((x=e.itemForm.get("status_id"))==null?null:x.dirty)||((x=e.itemForm.get("status_id"))==null?null:x.touched))),a(5),U("ngModel",e.item.password),m("ngClass",v(35,P,((q=e.itemForm.get("password"))==null?null:q.invalid)&&(((q=e.itemForm.get("password"))==null?null:q.dirty)||((q=e.itemForm.get("password"))==null?null:q.touched)))),a(),m("ngIf",((O=e.itemForm.get("password"))==null?null:O.invalid)&&(((O=e.itemForm.get("password"))==null?null:O.dirty)||((O=e.itemForm.get("password"))==null?null:O.touched))),a(4),m("ngClass",v(37,P,((A=e.itemForm.get("reset_password"))==null?null:A.invalid)&&(((A=e.itemForm.get("reset_password"))==null?null:A.dirty)||((A=e.itemForm.get("reset_password"))==null?null:A.touched)))),a(3),m("ngIf",((R=e.itemForm.get("reset_password"))==null?null:R.invalid)&&(((R=e.itemForm.get("reset_password"))==null?null:R.dirty)||((R=e.itemForm.get("reset_password"))==null?null:R.touched))),a(4),m("disabled",e.itemForm.invalid)}},dependencies:[B,j,D,L,G,pe,ue,W,qe,de,H,V,$,z,J],encapsulation:2})};var $e=Ye(Je());var Nt=i=>({"is-invalid":i}),Ut=(i,n,t)=>({"bg-warning text-dark":i,"bg-success":n,"bg-danger":t}),kt=(i,n)=>({active:i,disabled:n});function Mt(i,n){i&1&&u(0,"app-progress")}function Pt(i,n){i&1&&(l(0,"div"),o(1,"This field is required."),r())}function qt(i,n){if(i&1&&(l(0,"div",28),p(1,Pt,2,0,"div",1),r()),i&2){let t=c();a(),m("ngIf",t.search_term.errors==null?null:t.search_term.errors.required)}}function Ot(i,n){if(i&1){let t=le();l(0,"tr")(1,"td"),o(2),r(),l(3,"td"),o(4),r(),l(5,"td"),o(6),r(),l(7,"td"),o(8),r(),l(9,"td")(10,"span",32),o(11),r()(),l(12,"td"),o(13),oe(14,"date"),r(),l(15,"td",33)(16,"button",34),u(17,"i",35),r(),l(18,"a",36),u(19,"i",37),r(),l(20,"button",38),T("click",function(){let s=ie(t).$implicit,d=c(2);return ne(d.onDelete(s))}),u(21,"i",39),r(),l(22,"div",40)(23,"div",41)(24,"div",42)(25,"div",43)(26,"h5",44),o(27),r(),u(28,"button",45),r(),l(29,"div",46)(30,"ol",47)(31,"li",48)(32,"div",49)(33,"div",50),o(34,"Parent:"),r()(),l(35,"span",51),o(36),r()(),l(37,"li",48)(38,"div",49)(39,"div",50),o(40,"Child:"),r()(),l(41,"span",51),o(42),r()(),l(43,"li",48)(44,"div",49)(45,"div",50),o(46,"Email Verified At:"),r()(),l(47,"span",51),o(48),oe(49,"date"),r()(),l(50,"li",48)(51,"div",49)(52,"div",50),o(53,"Updated At:"),r()(),l(54,"span",51),o(55),oe(56,"date"),r()()()(),l(57,"div",52)(58,"button",53),o(59,"Close"),r()()()()()()()}if(i&2){let t=n.$implicit,e=n.index;a(2),Se("",e+1,"."),a(2),g(t.name),a(2),g(t.email),a(2),g(t.role==null?null:t.role.name),a(2),m("ngClass",Ne(22,Ut,t.status_id==1,t.status_id==2,t.status_id==3)),a(),Se(" ",t.status==null?null:t.status.name,""),a(2),g(ae(14,16,t.created_at)),a(3),Ce("data-bs-target","#modal1"+t.id),a(2),Ie("routerLink","/users/edit/",t.id,""),a(4),Ce("id","modal1"+t.id),a(5),g(t.name),a(9),g(t.parent==null?null:t.parent.name),a(6),g(t.child==null?null:t.child.name),a(6),g(ae(49,18,t.email_verified_at)),a(7),g(ae(56,20,t.updated_at))}}function At(i,n){if(i&1&&(l(0,"div",29)(1,"table",30)(2,"thead")(3,"tr")(4,"th"),o(5,"#"),r(),l(6,"th"),o(7,"Name"),r(),l(8,"th"),o(9,"Email"),r(),l(10,"th"),o(11,"Role"),r(),l(12,"th"),o(13,"Status"),r(),l(14,"th"),o(15,"Created"),r(),l(16,"th"),o(17,"Action"),r()()(),l(18,"tbody"),p(19,Ot,60,26,"tr",31),r()()()),i&2){let t=c();a(19),m("ngForOf",t.mItems)}}function Rt(i,n){if(i&1){let t=le();l(0,"li",56)(1,"a",57),T("click",function(){let s=ie(t).$implicit,d=c(2);return ne(d.onChangePage(s.url))}),r()()}if(i&2){let t=n.$implicit;m("ngClass",Te(2,kt,t.active,!t.url)),a(),m("innerHTML",t.label,xe)}}function Bt(i,n){if(i&1&&(l(0,"div")(1,"ul",54),p(2,Rt,2,5,"li",55),r()()),i&2){let t=c();a(2),m("ngForOf",t.links)}}function jt(i,n){i&1&&(l(0,"p",58),o(1,"No items"),r())}var ve=class i{constructor(n,t){this.mUserService=n;this.mToastrService=t}mItems=[];itemForm;search_term;mProgress=!1;links=[];ngOnInit(){this.index(),this.search_term=new Ae("",_.required),this.itemForm=new Oe({search_term:this.search_term})}index(){this.mProgress=!0,this.mProgress=!0,this.mUserService.allItems().subscribe({next:n=>{n&&(this.mItems=n.data,this.links=n.links,this.mProgress=!1)},error:n=>{n.error.message&&this.mToastrService.error(n.error.message),this.mProgress=!1}})}onChangePage(n){this.mProgress=!0,this.mUserService.paginateItems(n).subscribe({next:t=>{t&&(this.mItems=t.data,this.links=t.links,this.mProgress=!1)},error:t=>{t.error.message&&this.mToastrService.error(t.error.message),this.mProgress=!1}})}onDelete(n){$e.default.mixin({customClass:{cancelButton:"btn btn-dark me-2",confirmButton:"btn btn-danger"},buttonsStyling:!1}).fire({title:"Remove?",text:"You won't be able to revert this!",icon:"error",showCancelButton:!0,reverseButtons:!0,cancelButtonText:"Cancel",confirmButtonText:"Delete"}).then(e=>{e.isConfirmed&&(this.mProgress=!0,this.mUserService.deleteItem(n).subscribe({next:s=>{s&&(this.mItems=this.mItems.filter(d=>d.id!==n.id),this.mToastrService.error(s.message),this.mProgress=!1)},error:s=>{s.error.message&&this.mToastrService.error(s.error.message),this.mProgress=!1}}))})}onSearch(n){this.mProgress=!0,this.mUserService.searchItems(n).subscribe({next:t=>{t&&(this.mItems=t.data,this.mToastrService.success(t.message),this.mProgress=!1)},error:t=>{t.error.message&&this.mToastrService.error(t.error.message),this.mProgress=!1}})}static \u0275fac=function(t){return new(t||i)(f(N),f(K))};static \u0275cmp=w({type:i,selectors:[["app-index"]],standalone:!1,decls:38,vars:9,consts:[["noItemsTemplate",""],[4,"ngIf"],[1,"app-content-header"],[1,"container-fluid"],[1,"row"],[1,"col-sm-6"],[1,"mb-0"],[1,"breadcrumb","float-sm-end"],[1,"breadcrumb-item"],["href","#"],["aria-current","page",1,"breadcrumb-item","active"],[1,"app-content"],[1,"col-lg-12","col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],["routerLink","/users/create",1,"btn","btn-danger","btn-sm"],[1,"bi","bi-plus-circle-fill"],[1,"card-tools"],[3,"ngSubmit","formGroup"],[1,"input-group","input-group-sm",2,"width","150px"],["type","text","formControlName","search_term","placeholder","Search",1,"form-control","float-right",3,"ngClass"],[1,"input-group-append"],["type","submit",1,"btn","btn-success"],[1,"bi","bi-search"],["class","invalid-feedback","type","alert",4,"ngIf"],[1,"card-body"],["class","table-responsive",4,"ngIf","ngIfElse"],["type","alert",1,"invalid-feedback"],[1,"table-responsive"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[1,"badge","rounded-pill",3,"ngClass"],[1,"text-nowrap"],["data-bs-toggle","modal",1,"btn","btn-outline-dark","btn-sm","me-1"],[1,"bi","bi-eye-fill"],[1,"btn","btn-dark","btn-sm","me-1",3,"routerLink"],[1,"bi","bi-pencil-fill"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"bi","bi-trash2-fill"],["data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-dialog-scrollable"],[1,"modal-content"],[1,"modal-header","bg-success","text-white"],["id","staticBackdropLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"list-group"],[1,"list-group-item","d-flex","justify-content-between","align-items-start"],[1,"ms-2","me-auto"],[1,"fw-bold"],[1,"text-muted"],[1,"modal-footer","bg-dark"],["type","button","data-bs-dismiss","modal",1,"btn","btn-light","btn-sm"],[1,"pagination"],["class","page-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"page-item",3,"ngClass"],[1,"page-link",3,"click","innerHTML"],[1,"p-5","text-center","text-muted"]],template:function(t,e){if(t&1){let s=le();p(0,Mt,1,0,"app-progress",1),l(1,"section")(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h3",6),o(7,"Users"),r()(),l(8,"div",5)(9,"ol",7)(10,"li",8)(11,"a",9),o(12,"Home"),r()(),l(13,"li",10),o(14,"Users"),r()()()()()(),l(15,"div",11)(16,"div",3)(17,"div",4)(18,"div",12)(19,"div",13)(20,"div",14)(21,"div",15)(22,"a",16),u(23,"i",17),o(24," Add "),r()(),l(25,"div",18)(26,"form",19),T("ngSubmit",function(){return ie(s),ne(e.onSearch(e.itemForm.value))}),l(27,"div",20),u(28,"input",21),l(29,"div",22)(30,"button",23),u(31,"i",24),r()(),p(32,qt,2,1,"div",25),r()()()(),l(33,"div",26),p(34,At,20,1,"div",27)(35,Bt,3,1,"div",1)(36,jt,2,0,"ng-template",null,0,Ue),r()()()()()()()}if(t&2){let s=we(37);m("ngIf",e.mProgress),a(26),m("formGroup",e.itemForm),a(2),m("ngClass",v(7,Nt,e.search_term.invalid&&(e.search_term.dirty||e.search_term.touched))),a(4),m("ngIf",e.search_term.invalid&&(e.search_term.dirty||e.search_term.touched)),a(2),m("ngIf",e.mItems&&e.mItems.length>0)("ngIfElse",s),a(),m("ngIf",e.links)}},dependencies:[B,j,D,L,G,W,H,V,$,z,J,ke],encapsulation:2})};var ge=class i{static \u0275fac=function(t){return new(t||i)};static \u0275cmp=w({type:i,selectors:[["app-show"]],standalone:!1,decls:2,vars:0,template:function(t,e){t&1&&(l(0,"p"),o(1,"show works!"),r())},encapsulation:2})};var Dt=[{path:"",redirectTo:"index",pathMatch:"full"},{path:"index",component:ve,data:{title:"Index"}},{path:"create",component:_e,data:{title:"Create"}},{path:"edit/:id",component:fe,data:{title:"Edit"}},{path:"show",component:ge,data:{title:"Show"}}],he=class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=re({type:i});static \u0275inj=te({imports:[me,Z.forChild(Dt),Z]})};var ze=class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=re({type:i});static \u0275inj=te({imports:[me,Z,Re,Be,je,he]})};export{ze as UserModule};
