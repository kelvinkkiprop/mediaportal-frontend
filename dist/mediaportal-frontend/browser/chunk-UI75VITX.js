import{a as At}from"./chunk-47TLDLVH.js";import{a as St,c as he,d as Et,e as A,f as ve,g as ge,h as be,i as ye,j as It,k as Ce,m as _e,n as xe,r as Se,s as wt,t as Mt}from"./chunk-FJ5YBQ2M.js";import{h as q,j as R}from"./chunk-RRPVLYQU.js";import{a as kt,b as Tt,c as b,d as Ft,e as I,h as Ot}from"./chunk-KUCQSTVR.js";import{$ as mt,Aa as d,B as tt,Ba as y,C as it,Ca as _,D as T,E as F,Ea as ft,F as nt,Fa as ht,Ga as vt,H as de,Ha as gt,I as D,Ia as ce,J as rt,Ja as J,K as h,Ka as pe,L as ot,M as $e,N as st,Oa as W,Q as at,Qa as bt,R as Q,S as P,T as a,W as lt,X as g,Y as x,Ya as U,Z as X,Za as $,_ as dt,_a as O,a as Qe,aa as u,ab as ue,b as ae,bb as yt,ea as m,f as Ae,fa as ct,g as Je,ga as pt,gb as fe,h as le,i as He,ia as Be,ja as o,jb as Ct,k as We,ka as s,kb as _t,l as Ze,la as p,m as Ve,mb as ee,n as G,nb as B,oa as z,ob as xt,p as ze,q as Ke,qa as S,qb as re,r as Ye,ra as v,s as Xe,sa as ut,ta as me,u as Ue,v as Z,va as N,w as K,x as et,y as Y,z as E,za as j}from"./chunk-EN7VB6NI.js";import{f as jt,g as se}from"./chunk-GAL4ENT6.js";var Ee={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"],["table"]]},Ge=new et("config",{providedIn:"root",factory:()=>({modules:Ee})});function te(i){i||(tt(te),i=E(de));let n=new ae(e=>i.onDestroy(e.next.bind(e)));return e=>e.pipe(Ye(n))}var Ht=[[["","above-quill-editor-toolbar",""]],[["","quill-editor-toolbar",""]],[["","below-quill-editor-toolbar",""]]],Vt=["[above-quill-editor-toolbar]","[quill-editor-toolbar]","[below-quill-editor-toolbar]"];function zt(i,n){i&1&&p(0,"div",0)}function Ut(i,n){i&1&&p(0,"div",0)}var Ie=(i,n)=>i||n||"html",$t=()=>new ae(i=>{let n=requestAnimationFrame(()=>{i.next(),i.complete()});return()=>cancelAnimationFrame(n)}),Bt=(()=>{class i{constructor(){this.config=E(Ge)||{modules:Ee},this.quill$=Ze(()=>se(this,null,function*(){if(!this.Quill){let e=document.addEventListener;document.addEventListener=document.__zone_symbol__addEventListener||document.addEventListener;let{Quill:t}=yield import("./chunk-AAUYG7N6.js");document.addEventListener=e,this.Quill=t}return this.config.customOptions?.forEach(e=>{let t=this.Quill.import(e.import);t.whitelist=e.whitelist,this.Quill.register(t,!0,this.config.suppressGlobalRegisterWarning)}),new Promise(e=>{this.registerCustomModules(this.Quill,this.config.customModules,this.config.suppressGlobalRegisterWarning).subscribe(e)})})).pipe(Ke({bufferSize:1,refCount:!1})),this.registeredModules=new Set}getQuill(){return this.quill$}beforeRender(e,t,r=this.config.beforeRender){let l=[this.registerCustomModules(e,t)];return r&&l.push(r()),Ve(l).pipe(He(()=>e))}registerCustomModules(e,t,r){if(!Array.isArray(t))return Ae(e);let l=[];for(let c of t){let{path:f,implementation:C}=c;this.registeredModules.has(f)||(this.registeredModules.add(f),Je(C)?l.push(C.pipe(Xe(M=>{e.register(f,M,r)}))):e.register(f,C,r))}return l.length>0?Ve(l).pipe(He(()=>e)):Ae(e)}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=Z({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Gt=(()=>{class i{constructor(){this.format=h(void 0),this.theme=h(void 0),this.modules=h(void 0),this.debug=h(!1),this.readOnly=h(!1),this.placeholder=h(void 0),this.maxLength=h(void 0),this.minLength=h(void 0),this.required=h(!1),this.formats=h(void 0),this.customToolbarPosition=h("top"),this.sanitize=h(void 0),this.beforeRender=h(void 0),this.styles=h(null),this.registry=h(void 0),this.bounds=h(void 0),this.customOptions=h([]),this.customModules=h([]),this.trackChanges=h(void 0),this.classes=h(void 0),this.trimOnValidation=h(!1),this.linkPlaceholder=h(void 0),this.compareValues=h(!1),this.filterNull=h(!1),this.debounceTime=h(void 0),this.defaultEmptyValue=h(null),this.onEditorCreated=new D,this.onEditorChanged=new D,this.onContentChanged=new D,this.onSelectionChanged=new D,this.onFocus=new D,this.onBlur=new D,this.onNativeFocus=new D,this.onNativeBlur=new D,this.disabled=!1,this.toolbarPosition=$e("top"),this.eventsSubscription=null,this.quillSubscription=null,this.elementRef=E(ot),this.cd=E(bt),this.domSanitizer=E(Ct),this.platformId=E(st),this.renderer=E(lt),this.zone=E(rt),this.service=E(Bt),this.destroyRef=E(de),this.valueGetter=h(e=>{let t=e.getSemanticHTML();this.isEmptyValue(t)&&(t=this.defaultEmptyValue());let r=t,l=Ie(this.format(),this.service.config.format);if(l==="text")r=e.getText();else if(l==="object")r=e.getContents();else if(l==="json")try{r=JSON.stringify(e.getContents())}catch{r=e.getText()}return r}),this.valueSetter=h((e,t)=>{let r=Ie(this.format(),this.service.config.format);if(r==="html")return([!0,!1].includes(this.sanitize())?this.sanitize():this.service.config.sanitize||!1)&&(t=this.domSanitizer.sanitize(at.HTML,t)),e.clipboard.convert({html:t});if(r==="json")try{return JSON.parse(t)}catch{return[{insert:t}]}return t}),this.selectionChangeHandler=(e,t,r)=>{let l=this.trackChanges()||this.service.config.trackChanges,c=!e&&!!this.onModelTouched&&(r==="user"||l&&l==="all");!this.onBlur.observed&&!this.onFocus.observed&&!this.onSelectionChanged.observed&&!c||this.zone.run(()=>{e===null?this.onBlur.emit({editor:this.quillEditor,source:r}):t===null&&this.onFocus.emit({editor:this.quillEditor,source:r}),this.onSelectionChanged.emit({editor:this.quillEditor,oldRange:t,range:e,source:r}),c&&this.onModelTouched(),this.cd.markForCheck()})},this.textChangeHandler=(e,t,r)=>{let l=this.quillEditor.getText(),c=this.quillEditor.getContents(),f=this.quillEditor.getSemanticHTML();this.isEmptyValue(f)&&(f=this.defaultEmptyValue());let C=this.trackChanges()||this.service.config.trackChanges,M=(r==="user"||C&&C==="all")&&!!this.onModelChange;!this.onContentChanged.observed&&!M||this.zone.run(()=>{if(M){let H=this.valueGetter();this.onModelChange(H(this.quillEditor))}this.onContentChanged.emit({content:c,delta:e,editor:this.quillEditor,html:f,oldDelta:t,source:r,text:l}),this.cd.markForCheck()})},this.editorChangeHandler=(e,t,r,l)=>{if(this.onEditorChanged.observed)if(e==="text-change"){let c=this.quillEditor.getText(),f=this.quillEditor.getContents(),C=this.quillEditor.getSemanticHTML();this.isEmptyValue(C)&&(C=this.defaultEmptyValue()),this.zone.run(()=>{this.onEditorChanged.emit({content:f,delta:t,editor:this.quillEditor,event:e,html:C,oldDelta:r,source:l,text:c}),this.cd.markForCheck()})}else this.zone.run(()=>{this.onEditorChanged.emit({editor:this.quillEditor,event:e,oldRange:r,range:t,source:l}),this.cd.markForCheck()})},this.destroyRef.onDestroy(()=>{this.dispose(),this.quillSubscription?.unsubscribe(),this.quillSubscription=null})}static normalizeClassNames(e){return e.trim().split(" ").reduce((r,l)=>{let c=l.trim();return c&&r.push(c),r},[])}ngOnInit(){this.toolbarPosition.set(this.customToolbarPosition())}ngAfterViewInit(){yt(this.platformId)||(this.quillSubscription=this.service.getQuill().pipe(We(e=>this.service.beforeRender(e,this.customModules(),this.beforeRender()))).subscribe(e=>{this.editorElem=this.elementRef.nativeElement.querySelector("[quill-editor-element]");let t=this.elementRef.nativeElement.querySelector("[quill-editor-toolbar]"),r=Object.assign({},this.modules()||this.service.config.modules);t?r.toolbar=t:r.toolbar===void 0&&(r.toolbar=Ee.toolbar);let l=this.placeholder()!==void 0?this.placeholder():this.service.config.placeholder;l===void 0&&(l="Insert text here ...");let c=this.styles();c&&Object.keys(c).forEach(k=>{this.renderer.setStyle(this.editorElem,k,c[k])}),this.classes()&&this.addClasses(this.classes()),this.customOptions().forEach(k=>{let V=e.import(k.import);V.whitelist=k.whitelist,e.register(V,!0)});let f=this.bounds()&&this.bounds()==="self"?this.editorElem:this.bounds();f||(f=this.service.config.bounds?this.service.config.bounds:document.body);let C=this.debug();!C&&C!==!1&&this.service.config.debug&&(C=this.service.config.debug);let M=this.readOnly();!M&&this.readOnly()!==!1&&(M=this.service.config.readOnly!==void 0?this.service.config.readOnly:!1);let H=this.formats();if(!H&&H===void 0&&(H=this.service.config.formats?[...this.service.config.formats]:this.service.config.formats===null?null:void 0),this.zone.runOutsideAngular(()=>{if(this.quillEditor=new e(this.editorElem,{bounds:f,debug:C,formats:H,modules:r,placeholder:l,readOnly:M,registry:this.registry(),theme:this.theme()||(this.service.config.theme?this.service.config.theme:"snow")}),this.onNativeBlur.observed){G(this.quillEditor.scroll.domNode,"blur").pipe(te(this.destroyRef)).subscribe(()=>this.onNativeBlur.next({editor:this.quillEditor,source:"dom"}));let k=this.quillEditor.getModule("toolbar");k.container&&G(k.container,"mousedown").pipe(te(this.destroyRef)).subscribe(V=>V.preventDefault())}if(this.onNativeFocus.observed&&G(this.quillEditor.scroll.domNode,"focus").pipe(te(this.destroyRef)).subscribe(()=>this.onNativeFocus.next({editor:this.quillEditor,source:"dom"})),this.linkPlaceholder()){let V=this.quillEditor?.theme?.tooltip?.root?.querySelector("input[data-link]");V?.dataset&&(V.dataset.link=this.linkPlaceholder())}}),this.content){if(Ie(this.format(),this.service.config.format)==="text")this.quillEditor.setText(this.content,"silent");else{let Nt=this.valueSetter()(this.quillEditor,this.content);this.quillEditor.setContents(Nt,"silent")}this.quillEditor.getModule("history").clear()}this.setDisabledState(),this.addQuillEventListeners(),!(!this.onEditorCreated.observed&&!this.onValidatorChanged)&&$t().pipe(te(this.destroyRef)).subscribe(()=>{this.onValidatorChanged&&this.onValidatorChanged(),this.onEditorCreated.emit(this.quillEditor)})}))}ngOnChanges(e){if(this.quillEditor){if(e.readOnly&&this.quillEditor.enable(!e.readOnly.currentValue),e.placeholder&&(this.quillEditor.root.dataset.placeholder=e.placeholder.currentValue),e.styles){let t=e.styles.currentValue,r=e.styles.previousValue;r&&Object.keys(r).forEach(l=>{this.renderer.removeStyle(this.editorElem,l)}),t&&Object.keys(t).forEach(l=>{this.renderer.setStyle(this.editorElem,l,this.styles()[l])})}if(e.classes){let t=e.classes.currentValue,r=e.classes.previousValue;r&&this.removeClasses(r),t&&this.addClasses(t)}e.debounceTime&&this.addQuillEventListeners()}}addClasses(e){i.normalizeClassNames(e).forEach(t=>{this.renderer.addClass(this.editorElem,t)})}removeClasses(e){i.normalizeClassNames(e).forEach(t=>{this.renderer.removeClass(this.editorElem,t)})}writeValue(e){if(this.filterNull()&&e===null||(this.content=e,!this.quillEditor))return;let t=Ie(this.format(),this.service.config.format),l=this.valueSetter()(this.quillEditor,e);if(this.compareValues()){let c=this.quillEditor.getContents();if(JSON.stringify(c)===JSON.stringify(l))return}if(e){t==="text"?this.quillEditor.setText(e):this.quillEditor.setContents(l);return}this.quillEditor.setText("")}setDisabledState(e=this.disabled){this.disabled=e,this.quillEditor&&(e?(this.quillEditor.disable(),this.renderer.setAttribute(this.elementRef.nativeElement,"disabled","disabled")):(this.readOnly()||this.quillEditor.enable(),this.renderer.removeAttribute(this.elementRef.nativeElement,"disabled")))}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}registerOnValidatorChange(e){this.onValidatorChanged=e}validate(){if(!this.quillEditor)return null;let e={},t=!0,r=this.quillEditor.getText(),l=this.trimOnValidation()?r.trim().length:r.length===1&&r.trim().length===0?0:r.length-1,c=this.quillEditor.getContents().ops,f=!!c&&c.length===1&&[`
`,""].includes(c[0].insert?.toString());return this.minLength()&&l&&l<this.minLength()&&(e.minLengthError={given:l,minLength:this.minLength()},t=!1),this.maxLength()&&l>this.maxLength()&&(e.maxLengthError={given:l,maxLength:this.maxLength()},t=!1),this.required()&&!l&&f&&(e.requiredError={empty:!0},t=!1),t?null:e}addQuillEventListeners(){this.dispose(),this.zone.runOutsideAngular(()=>{this.eventsSubscription=new Qe,this.eventsSubscription.add(G(this.quillEditor,"selection-change").subscribe(([r,l,c])=>{this.selectionChangeHandler(r,l,c)}));let e=G(this.quillEditor,"text-change"),t=G(this.quillEditor,"editor-change");typeof this.debounceTime()=="number"&&(e=e.pipe(ze(this.debounceTime())),t=t.pipe(ze(this.debounceTime()))),this.eventsSubscription.add(e.subscribe(([r,l,c])=>{this.textChangeHandler(r,l,c)})),this.eventsSubscription.add(t.subscribe(([r,l,c,f])=>{this.editorChangeHandler(r,l,c,f)}))})}dispose(){this.eventsSubscription?.unsubscribe(),this.eventsSubscription=null}isEmptyValue(e){return e==="<p></p>"||e==="<div></div>"||e==="<p><br></p>"||e==="<div><br></div>"}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275dir=dt({type:i,inputs:{format:[1,"format"],theme:[1,"theme"],modules:[1,"modules"],debug:[1,"debug"],readOnly:[1,"readOnly"],placeholder:[1,"placeholder"],maxLength:[1,"maxLength"],minLength:[1,"minLength"],required:[1,"required"],formats:[1,"formats"],customToolbarPosition:[1,"customToolbarPosition"],sanitize:[1,"sanitize"],beforeRender:[1,"beforeRender"],styles:[1,"styles"],registry:[1,"registry"],bounds:[1,"bounds"],customOptions:[1,"customOptions"],customModules:[1,"customModules"],trackChanges:[1,"trackChanges"],classes:[1,"classes"],trimOnValidation:[1,"trimOnValidation"],linkPlaceholder:[1,"linkPlaceholder"],compareValues:[1,"compareValues"],filterNull:[1,"filterNull"],debounceTime:[1,"debounceTime"],defaultEmptyValue:[1,"defaultEmptyValue"],valueGetter:[1,"valueGetter"],valueSetter:[1,"valueSetter"]},outputs:{onEditorCreated:"onEditorCreated",onEditorChanged:"onEditorChanged",onContentChanged:"onContentChanged",onSelectionChanged:"onSelectionChanged",onFocus:"onFocus",onBlur:"onBlur",onNativeFocus:"onNativeFocus",onNativeBlur:"onNativeBlur"},features:[it]})}}return i})(),qt=(()=>{class i extends Gt{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=nt(i)))(r||i)}})()}static{this.\u0275cmp=x({type:i,selectors:[["quill-editor"]],features:[gt([{multi:!0,provide:St,useExisting:Ue(()=>i)},{multi:!0,provide:Et,useExisting:Ue(()=>i)}]),mt],ngContentSelectors:Vt,decls:5,vars:2,consts:[["quill-editor-element",""]],template:function(t,r){t&1&&(ut(Ht),u(0,zt,1,0,"div",0),me(1),me(2,1),me(3,2),u(4,Ut,1,0,"div",0)),t&2&&(Be(r.toolbarPosition()!=="top"?0:-1),a(4),Be(r.toolbarPosition()==="top"?4:-1))},styles:["[_nghost-%COMP%]{display:inline-block}"]})}}return i})();var Rt=(()=>{class i{static forRoot(e){return{ngModule:i,providers:[{provide:Ge,useValue:e}]}}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=X({type:i})}static{this.\u0275inj=K({})}}return i})();var we=class i{constructor(n,e){this.mAppContextService=n;this.http=e}createItem(n){let e=`${b.base_url}/upload`;return this.http.post(e,n)}initUpload(n,e){let t=`${b.base_url}/upload/init`;return this.http.post(t,{filename:n,title:e})}uploadChunk(n,e,t){let r=new FormData;r.append("uploadId",n),r.append("chunkIndex",e.toString()),r.append("file",t,`chunk_${e}`);let l=`${b.base_url}/upload/chunk`;return this.http.post(l,r,{reportProgress:!0,observe:"events"})}completeUpload(n,e,t,r){let l=`${b.base_url}/upload/complete`;return this.http.post(l,{uploadId:n,totalChunks:e,title:t,description:r})}static \u0275fac=function(e){return new(e||i)(Y(I),Y(fe))};static \u0275prov=Z({token:i,factory:i.\u0275fac,providedIn:"root"})};var Lt=i=>({"is-invalid":i}),Kt=()=>({height:"150px"});function Yt(i,n){i&1&&p(0,"app-progress")}function Xt(i,n){i&1&&(o(0,"p"),d(1,"Drag & drop a video here, or click to select"),s())}function ei(i,n){if(i&1&&(o(0,"p"),d(1),s()),i&2){let e=v();a(),_("Selected: ",e.selectedFile.name,"")}}function ti(i,n){i&1&&(o(0,"div"),d(1,"This field is required."),s())}function ii(i,n){if(i&1&&(o(0,"div",33),u(1,ti,2,0,"div",1),s()),i&2){let e,t=v();a(),m("ngIf",(e=t.itemForm.get("title"))==null||e.errors==null?null:e.errors.required)}}function ni(i,n){i&1&&(o(0,"div"),d(1,"This field is required."),s())}function ri(i,n){if(i&1&&(o(0,"div",33),u(1,ni,2,0,"div",1),s()),i&2){let e,t=v();a(),m("ngIf",(e=t.itemForm.get("description"))==null||e.errors==null?null:e.errors.required)}}function oi(i,n){if(i&1&&(o(0,"div")(1,"div",34)(2,"div",35),d(3),s()()()),i&2){let e=v();a(2),ct("width",e.progress,"%"),a(),_("",e.progress,"%")}}function si(i,n){i&1&&(o(0,"a",36),d(1,"Run in Background"),s())}var Me=class i{constructor(n,e,t,r){this.mToastrService=n;this.mUploadService=e;this.fb=t;this.router=r;this.itemForm=this.fb.group({title:["",A.required],description:["",A.required]})}selectedFile=null;progress=0;isDragging=!1;itemForm;mProgress=!1;onSubmit(n){this.mProgress=!0,this.upload(n.title,n.description)}onDragOver(n){n.preventDefault(),this.isDragging=!0}onDragLeave(n){n.preventDefault(),this.isDragging=!1}onDrop(n){n.preventDefault(),this.isDragging=!1,n.dataTransfer?.files.length&&(this.selectedFile=n.dataTransfer.files[0])}onFileSelected(n){this.selectedFile=n.target.files[0]}upload(n,e){return se(this,null,function*(){if(!this.selectedFile||this.itemForm.invalid){this.mToastrService.error("Please fill out all fields and select a file.");return}let t=5*1024*1024,r=Math.ceil(this.selectedFile.size/t),c=(yield le(this.mUploadService.initUpload(this.selectedFile.name,n))).uploadId;for(let f=0;f<r;f++){let C=f*t,M=Math.min(C+t,this.selectedFile.size),H=this.selectedFile.slice(C,M);yield le(this.mUploadService.uploadChunk(c,f,H).pipe()),this.mProgress=!1,this.progress=Math.round((f+1)/r*100)}yield le(this.mUploadService.completeUpload(c,r,n,e)),this.mToastrService.success("Media uploaded complete!"),this.router.navigateByUrl("/media")})}static \u0275fac=function(e){return new(e||i)(g(q),g(we),g(Se),g(ee))};static \u0275cmp=x({type:i,selectors:[["app-create"]],hostBindings:function(e,t){e&1&&S("dragover",function(l){return t.onDragOver(l)})("dragleave",function(l){return t.onDragLeave(l)})("drop",function(l){return t.onDrop(l)})},standalone:!1,decls:54,vars:20,consts:[["fileInput",""],[4,"ngIf"],[1,"app-content-header"],[1,"container-fluid"],[1,"row"],[1,"col-sm-6"],[1,"mb-0"],[1,"breadcrumb","float-sm-end"],[1,"breadcrumb-item"],["href","#"],["aria-current","page",1,"breadcrumb-item"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-lg-12","col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-tools"],[1,"card-body"],[3,"ngSubmit","formGroup"],[1,"row","mb-3"],[1,"col-md-12"],[1,"mb-3"],[1,"dropzone"],["type","file","hidden","","accept","video/*",3,"change"],["type","button",1,"btn","btn-light","btn-sm",3,"click"],["for","title",1,"form-label","required"],["type","text","formControlName","title",1,"form-control",3,"ngModel","ngClass"],["class","invalid-feedback d-block","role","alert",4,"ngIf"],["for","description",1,"form-label","required"],["formControlName","description",1,"w-100",3,"styles","ngClass"],[1,"text-end"],["routerLink","/my-media","class","btn btn-warning  me-1",4,"ngIf"],["type","submit",1,"btn","btn-primary",3,"disabled"],["role","alert",1,"invalid-feedback","d-block"],[1,"progress"],["role","progressbar","aria-valuenow","25","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-warning","progress-bar-striped","progress-bar-animated"],["routerLink","/my-media",1,"btn","btn-warning","me-1"]],template:function(e,t){if(e&1){let r=z();u(0,Yt,1,0,"app-progress",1),o(1,"section")(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h3",6),d(7,"Media"),s()(),o(8,"div",5)(9,"ol",7)(10,"li",8)(11,"a",9),d(12,"Home"),s()(),o(13,"li",10),d(14,"Media"),s(),o(15,"li",11),d(16,"Create"),s()()()()(),o(17,"div",4)(18,"div",12)(19,"div",13)(20,"div",14)(21,"div",15),d(22," Create Media "),s(),p(23,"div",16),s(),o(24,"div",17)(25,"form",18),S("ngSubmit",function(){return T(r),F(t.onSubmit(t.itemForm.value))}),o(26,"div",19)(27,"div",20)(28,"div",21)(29,"div",22),u(30,Xt,2,0,"p",1)(31,ei,2,1,"p",1),o(32,"input",23,0),S("change",function(c){return T(r),F(t.onFileSelected(c))}),s(),o(34,"button",24),S("click",function(){T(r);let c=j(33);return F(c.click())}),d(35,"Choose File"),s()()()(),o(36,"div",20)(37,"div",21)(38,"label",25),d(39,"Title:"),s(),p(40,"input",26),u(41,ii,2,1,"div",27),s()()(),o(42,"div",20)(43,"div",21)(44,"label",28),d(45,"Description:"),s(),p(46,"quill-editor",29),u(47,ri,2,1,"div",27),s()(),o(48,"div",21),u(49,oi,4,3,"div",1),s(),o(50,"div",30),u(51,si,2,0,"a",31),o(52,"button",32),d(53,"Submit"),s()()()()()()()()()}if(e&2){let r,l,c,f;m("ngIf",t.mProgress),a(25),m("formGroup",t.itemForm),a(4),pt("dragging",t.isDragging),a(),m("ngIf",!t.selectedFile),a(),m("ngIf",t.selectedFile),a(9),m("ngModel",t.selectedFile==null?null:t.selectedFile.name)("ngClass",J(15,Lt,((r=t.itemForm.get("title"))==null?null:r.invalid)&&(((r=t.itemForm.get("title"))==null?null:r.dirty)||((r=t.itemForm.get("title"))==null?null:r.touched)))),a(),m("ngIf",((l=t.itemForm.get("title"))==null?null:l.invalid)&&(((l=t.itemForm.get("title"))==null?null:l.dirty)||((l=t.itemForm.get("title"))==null?null:l.touched))),a(5),m("styles",ce(17,Kt))("ngClass",J(18,Lt,((c=t.itemForm.get("description"))==null?null:c.invalid)&&(((c=t.itemForm.get("description"))==null?null:c.dirty)||((c=t.itemForm.get("description"))==null?null:c.touched)))),a(),m("ngIf",((f=t.itemForm.get("description"))==null?null:f.invalid)&&(((f=t.itemForm.get("description"))==null?null:f.dirty)||((f=t.itemForm.get("description"))==null?null:f.touched))),a(2),m("ngIf",t.progress>0),a(2),m("ngIf",t.progress>0),a(),m("disabled",!t.selectedFile||t.itemForm.invalid)}},dependencies:[U,O,B,Ce,he,ve,ge,_e,xe,qt,R],styles:[".dropzone[_ngcontent-%COMP%]{border:2px dashed #bbb;border-radius:8px;padding:40px;text-align:center;cursor:pointer;transition:.2s}.dropzone.dragging[_ngcontent-%COMP%]{background-color:#eef6ff;border-color:#3b82f6}"]})};var qe=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=x({type:i,selectors:[["app-edit"]],standalone:!1,decls:2,vars:0,template:function(e,t){e&1&&(o(0,"p"),d(1,"edit works!"),s())},encapsulation:2})};var Dt=jt(At());var L=class i{constructor(n,e){this.mAppContextService=n;this.http=e}allItems(){let n=`${b.base_url}/media`;return this.http.get(n,this.mAppContextService.getHttpOptions())}createItem(n){let e=`${b.base_url}/media`;return this.http.post(e,n,this.mAppContextService.getHttpOptions())}getOneItem(n){let e=`${b.base_url}/media/${n}`;return this.http.get(e,this.mAppContextService.getHttpOptions())}updateItem(n){let e=`${b.base_url}/media/${n.id}`;return this.http.put(e,n,this.mAppContextService.getHttpOptions())}deleteItem(n){let e=`${b.base_url}/media/${n.id}`;return this.http.delete(e,this.mAppContextService.getHttpOptions())}paginateItems(n){return this.http.get(n,this.mAppContextService.getHttpOptions())}unpaginatedItems(){let n=`${b.base_url}/unpaginated-items-media`;return this.http.get(n,this.mAppContextService.getHttpOptions())}searchItems(n){let e=`${b.base_url}/search-media`;return this.http.post(e,n,this.mAppContextService.getHttpOptions())}myMedia(n){let e=`${b.base_url}/my-media/${n}`;return this.http.get(e,this.mAppContextService.getHttpOptions())}likedMediaItems(){let n=`${b.base_url}/liked-media`;return this.http.get(n,this.mAppContextService.getHttpOptions())}historyMediaItems(){let n=`${b.base_url}/history-media`;return this.http.get(n,this.mAppContextService.getHttpOptions())}reactItem(n){let e=`${b.base_url}/media/${n.id}/react`;return this.http.post(e,n,this.mAppContextService.getHttpOptions())}commentItem(n){let e=`${b.base_url}/media/${n.id}/comment`;return this.http.post(e,n,this.mAppContextService.getHttpOptions())}upload(n){let e=`${b.base_url}/upload`;return this.http.post(e,n)}initUpload(n,e){let t=`${b.base_url}/upload/init`;return this.http.post(t,{filename:n,title:e})}uploadChunk(n,e,t){let r=new FormData;r.append("uploadId",n),r.append("chunkIndex",e.toString()),r.append("file",t,`chunk_${e}`);let l=`${b.base_url}/upload/chunk`;return this.http.post(l,r,{reportProgress:!0,observe:"events"})}completeUpload(n,e,t,r){let l=`${b.base_url}/upload/complete`;return this.http.post(l,{uploadId:n,totalChunks:e,title:t,description:r})}static \u0275fac=function(e){return new(e||i)(Y(I),Y(fe))};static \u0275prov=Z({token:i,factory:i.\u0275fac,providedIn:"root"})};var ai=()=>({exact:!0});function li(i,n){i&1&&p(0,"app-progress")}function di(i,n){if(i&1&&(o(0,"div",25)(1,"div",26)(2,"label",27),d(3,"Biography:"),s(),o(4,"div",13),d(5),s()()()),i&2){let e=v();a(5),y(e.mCurrentUser.bio)}}function mi(i,n){if(i&1){let e=z();o(0,"div")(1,"div",33)(2,"a",34),d(3,"Show"),s(),o(4,"a",35),d(5,"Edit"),s(),o(6,"button",36),S("click",function(){T(e);let r=v().$implicit,l=v(3);return F(l.onDelete(r))}),d(7,"Delete"),s()(),p(8,"app-media-card",37),s()}if(i&2){let e=v().$implicit;a(2),N("routerLink","/media/show/",e.id,""),a(2),N("routerLink","/media/edit/",e.id,""),a(4),m("data",e)}}function ci(i,n){if(i&1&&(o(0,"div",32),u(1,mi,9,5,"div",1),s()),i&2){let e=n.$implicit;a(),m("ngIf",e)}}function pi(i,n){if(i&1&&(o(0,"div",30),u(1,ci,2,1,"div",31),s()),i&2){let e=v(2);a(),m("ngForOf",e.myMedia)}}function ui(i,n){i&1&&(o(0,"p",38),d(1,"No items"),s())}function fi(i,n){if(i&1&&(o(0,"div",25)(1,"div",26)(2,"label",28),d(3,"Uploads:"),s(),u(4,pi,2,1,"div",29)(5,ui,2,0,"ng-template",null,0,W),s()()),i&2){let e=j(6),t=v();a(4),m("ngIf",t.myMedia&&t.myMedia.length>0)("ngIfElse",e)}}function hi(i,n){if(i&1&&(o(0,"a",40),p(1,"app-media-card",37),s()),i&2){let e=v().$implicit;N("routerLink","/media/show/",e.id,""),a(),m("data",e)}}function vi(i,n){if(i&1&&(o(0,"div",32),u(1,hi,2,3,"a",39),s()),i&2){let e=n.$implicit;a(),m("ngIf",e)}}function gi(i,n){if(i&1&&(o(0,"div",30),u(1,vi,2,1,"div",31),s()),i&2){let e=v(2);a(),m("ngForOf",e.myPlaylists)}}function bi(i,n){i&1&&(o(0,"p",38),d(1,"No items"),s())}function yi(i,n){if(i&1&&(o(0,"div",25)(1,"div",26)(2,"label",27),d(3,"Playlists:"),s(),u(4,gi,2,1,"div",29)(5,bi,2,0,"ng-template",null,0,W),s()()),i&2){let e=j(6),t=v();a(4),m("ngIf",t.myPlaylists&&t.myPlaylists.length>0)("ngIfElse",e)}}var Le=class i{constructor(n,e,t,r,l){this.mAuthService=n;this.mAppContextService=e;this.mMediaService=t;this.mToastrService=r;this.router=l}mCurrentUser;mInitials;itemForm;mProgress=!1;myMedia=[];myPlaylists=[];ngOnInit(){this.mCurrentUser=this.mAuthService.currentUser,this.mInitials=this.mCurrentUser.name.match(/(\b\S)?/g).join("").match(/(^\S|\S$)?/g).join("").toUpperCase(),this.index(this.mCurrentUser.id)}index(n){this.mProgress=!0,this.mMediaService.myMedia(n).subscribe({next:e=>{e&&(this.myMedia=e.data.my_media,this.myPlaylists=e.data.my_playlists,this.mProgress=!1)},error:e=>{e.error.message&&this.mToastrService.error(e.error.message),this.mProgress=!1}})}onDelete(n){Dt.default.mixin({customClass:{cancelButton:"btn btn-dark me-2",confirmButton:"btn btn-danger"},buttonsStyling:!1}).fire({title:"Remove?",text:"You won't be able to revert this!",icon:"error",showCancelButton:!0,reverseButtons:!0,cancelButtonText:"Cancel",confirmButtonText:"Delete"}).then(t=>{t.isConfirmed&&(this.mProgress=!0,this.mMediaService.deleteItem(n).subscribe({next:r=>{r&&(this.myMedia=this.myMedia.filter(l=>l.id!==n.id),this.mToastrService.error(r.message),this.mProgress=!1)},error:r=>{r.error.message&&this.mToastrService.error(r.error.message),this.mProgress=!1}}))})}static \u0275fac=function(e){return new(e||i)(g(Ft),g(I),g(L),g(q),g(ee))};static \u0275cmp=x({type:i,selectors:[["app-read"]],standalone:!1,decls:38,vars:11,consts:[["noItemsTemplate",""],[4,"ngIf"],[1,"app-content-header"],[1,"container-fluid"],[1,"app-content"],[1,"row"],[1,"col-lg-12","col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"d-flex","align-items-center","mb-3"],[1,"user-image","rounded-circle","bg-primary","text-white","fw-bold","d-inline-flex","justify-content-center","align-items-center","me-3",2,"width","64px","height","64px","font-size","1rem"],[1,"mb-0","fw-semibold"],[1,"text-muted"],["id","myTab","role","tablist",1,"nav","nav-tabs","border-0","text-uppercase"],["role","presentation",1,"nav-item"],["routerLink","/media/about","routerLinkActive","active","id","home-tab","data-bs-toggle","tab","data-bs-target","#home","type","button","role","tab","aria-controls","home",1,"nav-link","border-0","text-uppercase","text-sm",3,"routerLinkActiveOptions"],["routerLink","/media/index","routerLinkActive","active","id","media-tab","data-bs-toggle","tab","data-bs-target","#media","type","button","role","tab","aria-controls","media",1,"nav-link","border-0","text-uppercase","text-sm"],["routerLink","/media/my-playlist","routerLinkActive","active","id","playlist-tab","data-bs-toggle","tab","data-bs-target","#playlist","type","button","role","tab","aria-controls","playlist",1,"nav-link","border-0","text-uppercase","text-sm"],[1,"card-tools"],[1,"btn","btn-warning","btn-sm",3,"routerLink"],[1,"bi","bi-pencil-fill"],[1,"card-body","p-0","m-0"],["id","myTabContent",1,"tab-content","container","py-3"],["class","tab-pane fade show active",4,"ngIf"],[1,"tab-pane","fade","show","active"],[1,"mb-3","container"],["for","bio",1,"form-label"],["for","uploads",1,"form-label"],["class","row row-cols-1 row-cols-md-3 g-4",4,"ngIf","ngIfElse"],[1,"row","row-cols-1","row-cols-md-3","g-4"],["class","col",4,"ngFor","ngForOf"],[1,"col"],["role","group","aria-label","Basic mixed styles example",1,"btn-group","w-100","mb-1"],[1,"btn","btn-dark","btn-sm",3,"routerLink"],[1,"btn","btn-primary","btn-sm",3,"routerLink"],["type","button",1,"btn","btn-warning","btn-sm",3,"click"],[3,"data"],[1,"p-5","text-center","text-muted"],["class","text-decoration-none text-reset",3,"routerLink",4,"ngIf"],[1,"text-decoration-none","text-reset",3,"routerLink"]],template:function(e,t){e&1&&(u(0,li,1,0,"app-progress",1),o(1,"section")(2,"div",2),p(3,"div",3),s(),o(4,"div",4)(5,"div",3)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"span",11),d(13),s(),o(14,"div")(15,"p",12),d(16),s(),o(17,"small",13),d(18),s()()(),o(19,"ul",14)(20,"li",15)(21,"button",16),d(22," About "),s()(),o(23,"li",15)(24,"button",17),d(25," Media "),s()(),o(26,"li",15)(27,"button",18),d(28," Playlist "),s()()()(),o(29,"div",19)(30,"a",20),p(31,"i",21),d(32," Edit Profile "),s()()(),o(33,"div",22)(34,"div",23),u(35,di,6,1,"div",24)(36,fi,7,2,"div",24)(37,yi,7,2,"div",24),s()()()()()()()()),e&2&&(m("ngIf",t.mProgress),a(13),_(" ",t.mAppContextService.getInitials(t.mCurrentUser.name)," "),a(3),y(t.mCurrentUser.name),a(2),y(t.mCurrentUser.role==null?null:t.mCurrentUser.role.name),a(3),m("routerLinkActiveOptions",ce(10,ai)),a(9),N("routerLink","/profile/edit/",t.mCurrentUser.id,""),a(5),m("ngIf",t.router.url==="/media/about"),a(),m("ngIf",t.router.url==="/media/index"),a(),m("ngIf",t.router.url==="/media/my-playlist"))},dependencies:[$,O,B,xt,R,Tt],encapsulation:2})};var ne=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=x({type:i,selectors:[["app-index"]],standalone:!1,decls:1,vars:0,template:function(e,t){e&1&&p(0,"app-read")},dependencies:[Le],encapsulation:2})};var _i=i=>({"text-primary":i}),xi=i=>({"text-warning":i}),Si=i=>({"is-invalid":i});function Ei(i,n){i&1&&p(0,"app-progress")}function Ii(i,n){if(i&1&&p(0,"app-hls-player",56),i&2){let e=v();m("data",e.item)}}function wi(i,n){i&1&&(o(0,"div"),d(1,"This field is required."),s())}function Mi(i,n){if(i&1&&(o(0,"div",57),u(1,wi,2,0,"div",0),s()),i&2){let e,t=v();a(),m("ngIf",(e=t.itemForm.get("text"))==null||e.errors==null?null:e.errors.required)}}function ki(i,n){if(i&1&&(o(0,"div",59)(1,"div",60),d(2),s(),o(3,"div",41)(4,"h6",42),d(5),o(6,"span",61),d(7),s()(),o(8,"div",62),d(9),s()()()),i&2){let e=n.$implicit,t=v(2);a(2),_(" ",t.mContext.getInitials(e.user==null?null:e.user.name)," "),a(3),_("",e.user==null?null:e.user.name," "),a(2),y(e.readable_date),a(2),y(e.text)}}function Ti(i,n){if(i&1&&(o(0,"div"),u(1,ki,10,4,"div",58),s()),i&2){let e=v();a(),m("ngForOf",e.mComments)}}var De=class i{constructor(n,e,t,r,l,c){this.route=n;this.mMediaService=e;this.mToastrService=t;this.mContext=r;this.router=l;this.fb=c;this.itemForm=this.fb.group({text:["",A.required]})}id;item={};mCurrentUrl="";mItem="";mComments="";itemForm;mProgress=!1;ngOnInit(){this.route.paramMap.subscribe(n=>{let e=n.get("id");e&&(this.index(e),this.id=n.get("id"))}),this.mCurrentUrl=window.location.origin+this.router.url}index(n){this.mProgress=!0,this.mMediaService.getOneItem(n).subscribe({next:e=>{e&&(this.item=e,this.mItem=this.item,this.mComments=this.item.comments,this.mProgress=!1)},error:e=>{e.error.message&&this.mToastrService.error(e.error.message),this.mProgress=!1}})}toggleReact(n,e){let t={id:n.id,type_id:e};this.mMediaService.reactItem(t).subscribe({next:r=>{r&&(r.status==="success"&&(this.mItem=r.data),this.mProgress=!1)},error:r=>{r.error.message&&this.mToastrService.error(r.error.message),this.mProgress=!1}})}copyUrl(){navigator.clipboard.writeText(this.mCurrentUrl).then(()=>{this.mToastrService.success("Link copied to clipboard!")})}onSubmit(n){let e={id:this.item.id,text:n.text};this.mMediaService.commentItem(e).subscribe({next:t=>{t&&t.status==="success"&&(this.mComments=t.data.comments,this.mItem=t.data,this.itemForm.reset(),this.mToastrService.success(t.message))},error:t=>{t.error.message&&this.mToastrService.error(t.error.message)}})}static \u0275fac=function(e){return new(e||i)(g(_t),g(L),g(q),g(I),g(ee),g(Se))};static \u0275cmp=x({type:i,selectors:[["app-show"]],standalone:!1,decls:87,vars:32,consts:[[4,"ngIf"],[1,"app-content-header"],[1,"container-fluid"],[1,"app-content"],[1,"row"],[1,"col-lg-12","col-12"],[1,"card1"],[1,"card-body","p-0","m-0"],[1,"col-md-9"],[3,"data",4,"ngIf"],[1,"col-md-12"],[1,"fw-bold1","card-title1"],[1,"col-6"],[1,"d-flex","justify-content-end"],[3,"click"],[3,"ngClass"],[1,"bi","me-2",3,"ngClass"],[1,"mx-4",3,"click"],["data-bs-toggle","modal","data-bs-target","#modal"],[1,"bi","bi-share-fill","me-2"],["id","modal","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-dialog-scrollable"],[1,"modal-content"],[1,"modal-header"],["id","staticBackdropLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"d-flex","justify-content-center","gap-3"],["target","_blank",1,"btn","btn-outline-primary","rounded-circle","d-flex","align-items-center","justify-content-center",2,"width","48px","height","48px",3,"href"],[1,"bi","bi-facebook","fs-4"],["target","_blank",1,"btn","btn-outline-info","rounded-circle","d-flex","align-items-center","justify-content-center",2,"width","48px","height","48px",3,"href"],[1,"bi","bi-twitter","fs-4"],["target","_blank",1,"btn","btn-outline-secondary","rounded-circle","d-flex","align-items-center","justify-content-center",2,"width","48px","height","48px",3,"href"],[1,"bi","bi-linkedin","fs-4"],[1,"bi","bi-whatsapp","fs-4"],[1,"modal-footer"],[1,"input-group","mb-3"],["type","text","readonly","",1,"form-control",3,"ngModelChange","ngModel"],[1,"input-group-text","text-primary",3,"click"],[1,"d-flex","align-items-center"],[1,"rounded-circle","bg-primary","text-white","d-flex","justify-content-center","align-items-center","fw-bold",2,"width","40px","height","40px"],[1,"ms-2"],[1,"fw-semibold1","mb-0"],[1,"text-xs","text-muted","mt-0"],[1,"py-2"],[1,"justify-text",2,"word-break","break-word","white-space","normal",3,"innerHTML"],[3,"ngSubmit","formGroup"],[1,"row","g-2","align-items-start"],["for","text",1,"form-label","required1"],[1,"col-auto"],[1,"rounded-circle","bg-warning","text-white","d-flex","justify-content-center","align-items-center","fw-bold",2,"width","40px","height","40px"],[1,"col"],["formControlName","text",1,"form-control",3,"ngClass"],["class","invalid-feedback d-block","role","alert",4,"ngIf"],[1,"text-end","my-2"],["type","submit",1,"btn","btn-primary","btn-sm",3,"disabled"],[3,"data"],["role","alert",1,"invalid-feedback","d-block"],["class","d-flex align-items-center mb-3",4,"ngFor","ngForOf"],[1,"d-flex","align-items-center","mb-3"],[1,"rounded-circle","bg-secondary","text-muted","d-flex","justify-content-center","align-items-center","fw-bold1",2,"width","32px","height","32px"],[1,"text-xs","text-muted"],[1,"mt-0","text-muted","justify-text"]],template:function(e,t){if(e&1&&(u(0,Ei,1,0,"app-progress",0),o(1,"section")(2,"div",1),p(3,"div",2),s(),o(4,"div",3)(5,"div",2)(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",4)(11,"div",8),u(12,Ii,1,1,"app-hls-player",9),o(13,"div",4)(14,"div",10)(15,"h6",11),d(16),s()(),o(17,"div",10)(18,"div",4)(19,"div",12),d(20),s(),o(21,"div",12)(22,"div",13)(23,"span",14),S("click",function(){return t.toggleReact(t.item,1)}),o(24,"span",15),p(25,"i",16),d(26),s()(),o(27,"span",17),S("click",function(){return t.toggleReact(t.item,2)}),o(28,"span",15),p(29,"i",16),d(30),s()(),o(31,"span",18),p(32,"i",19),o(33,"span"),d(34,"SHARE"),s()(),o(35,"div",20)(36,"div",21)(37,"div",22)(38,"div",23)(39,"h5",24),d(40,"Share media"),s(),p(41,"button",25),s(),o(42,"div",26)(43,"div",27)(44,"a",28),p(45,"i",29),s(),o(46,"a",30),p(47,"i",31),s(),o(48,"a",32),p(49,"i",33),s(),o(50,"a",28),p(51,"i",34),s()()(),o(52,"div",35)(53,"div",36)(54,"input",37),vt("ngModelChange",function(l){return ht(t.mCurrentUrl,l)||(t.mCurrentUrl=l),l}),s(),o(55,"div",38),S("click",function(){return t.copyUrl()}),d(56,"COPY"),s()()()()()()()()(),p(57,"hr"),s(),o(58,"div",10)(59,"div",39)(60,"div",40),d(61),s(),o(62,"div",41)(63,"h6",42),d(64),s(),o(65,"div",43),d(66),s()()()(),o(67,"div",10)(68,"div",44),p(69,"p",45),s()(),p(70,"hr"),o(71,"div",10)(72,"form",46),S("ngSubmit",function(){return t.onSubmit(t.itemForm.value)}),o(73,"div",47)(74,"label",48),d(75),s(),o(76,"div",49)(77,"div",50),d(78),s()(),o(79,"div",51),p(80,"input",52),u(81,Mi,2,1,"div",53),o(82,"div",54)(83,"button",55),d(84,"Submit"),s()()()()()(),o(85,"div",10),u(86,Ti,2,1,"div",0),s()()()()()()()()()()()),e&2){let r,l;m("ngIf",t.mProgress),a(12),m("ngIf",t.item),a(4),y(t.item.title),a(4),_(" ",t.item.total_views," "),a(4),m("ngClass",J(26,_i,t.mItem.is_liked)),a(),m("ngClass",t.mItem.is_liked?"bi-hand-thumbs-up-fill":"bi-hand-thumbs-up"),a(),_("",t.mItem.likes_count," "),a(2),m("ngClass",J(28,xi,t.mItem.is_disliked)),a(),m("ngClass",t.mItem.is_disliked?"bi-hand-thumbs-down-fill":"bi-hand-thumbs-down"),a(),_("",t.mItem.dislikes_count," "),a(14),m("href","https://www.facebook.com/sharer/sharer.php?u="+t.mCurrentUrl,P),a(2),m("href","https://twitter.com/intent/tweet?url="+t.mCurrentUrl,P),a(2),m("href","https://www.linkedin.com/shareArticle?url="+t.mCurrentUrl,P),a(2),m("href","https://wa.me/?text="+t.mCurrentUrl,P),a(4),ft("ngModel",t.mCurrentUrl),a(7),_(" ",t.mContext.getInitials(t.item.user==null?null:t.item.user.name)," "),a(3),y(t.item.user==null?null:t.item.user.name),a(2),_("Published ",t.item.readable_date,""),a(3),m("innerHTML",t.item.description,Q),a(3),m("formGroup",t.itemForm),a(3),y(t.mItem.total_comments),a(3),_(" ",t.mContext.getInitials(t.item.user==null?null:t.item.user.name)," "),a(2),m("ngClass",J(30,Si,((r=t.itemForm.get("text"))==null?null:r.invalid)&&(((r=t.itemForm.get("text"))==null?null:r.dirty)||((r=t.itemForm.get("text"))==null?null:r.touched)))),a(),m("ngIf",((l=t.itemForm.get("text"))==null?null:l.invalid)&&(((l=t.itemForm.get("text"))==null?null:l.dirty)||((l=t.itemForm.get("text"))==null?null:l.touched))),a(2),m("disabled",t.itemForm.invalid),a(3),m("ngIf",t.mComments&&t.mComments.length>0)}},dependencies:[U,$,O,Ce,he,ve,ge,It,_e,xe,R,kt],encapsulation:2})};var Fi=(i,n)=>({active:i,disabled:n});function Oi(i,n){i&1&&p(0,"app-progress")}function qi(i,n){if(i&1&&(o(0,"div")(1,"a",13)(2,"div",14),p(3,"img",15),s(),o(4,"div",16)(5,"h6",17),d(6),s(),o(7,"div",18)(8,"span"),d(9),s(),d(10,"\xA0\u2022 "),o(11,"span"),d(12),s(),d(13,"\xA0\u2022 "),o(14,"span"),d(15),s()()()()()),i&2){let e=n.$implicit;a(),N("routerLink","/media/show/",e.media==null?null:e.media.id,""),a(2),m("src",e.media.thumbnail_url,P),a(3),y(e.media==null?null:e.media.title),a(3),y(e.media==null||e.media.user==null?null:e.media.user.name),a(3),y(e.media==null?null:e.media.total_views),a(3),y(e.media==null?null:e.media.readable_date)}}function Ri(i,n){if(i&1&&(o(0,"div"),u(1,qi,16,7,"div",12),s()),i&2){let e=v();a(),m("ngForOf",e.mItems)}}function Li(i,n){if(i&1){let e=z();o(0,"li",21)(1,"a",22),S("click",function(){let r=T(e).$implicit,l=v(2);return F(l.onChangePage(r.url))}),s()()}if(i&2){let e=n.$implicit;m("ngClass",pe(2,Fi,e.active,!e.url)),a(),m("innerHTML",e.label,Q)}}function Di(i,n){if(i&1&&(o(0,"div")(1,"ul",19),u(2,Li,2,5,"li",20),s()()),i&2){let e=v();a(2),m("ngForOf",e.links)}}function Pi(i,n){i&1&&(o(0,"p",23),d(1,"No items"),s())}var Pe=class i{constructor(n,e,t){this.mMediaService=n;this.mToastrService=e;this.mContext=t}mItems=[];itemForm;search_term;mProgress=!1;links=[];ngOnInit(){this.index(),this.search_term=new ye("",A.required),this.itemForm=new be({search_term:this.search_term})}index(){this.mProgress=!0,this.mProgress=!0,this.mMediaService.likedMediaItems().subscribe({next:n=>{n&&(this.mItems=n.data,this.links=n.links,this.mProgress=!1)},error:n=>{n.error.message&&this.mToastrService.error(n.error.message),this.mProgress=!1}})}onChangePage(n){this.mProgress=!0,this.mMediaService.paginateItems(n).subscribe({next:e=>{e&&(this.mItems=e.data,this.links=e.links,this.mProgress=!1)},error:e=>{e.error.message&&this.mToastrService.error(e.error.message),this.mProgress=!1}})}static \u0275fac=function(e){return new(e||i)(g(L),g(q),g(I))};static \u0275cmp=x({type:i,selectors:[["app-liked"]],standalone:!1,decls:17,vars:5,consts:[["noItemsTemplate",""],[4,"ngIf"],[1,"app-content-header"],[1,"container-fluid"],[1,"app-content"],[1,"row"],[1,"col-lg-12","col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],[1,"row","mb-2","text-decoration-none","text-reset","me-1",3,"routerLink"],[1,"col-md-2"],["width","100%","height","auto","alt","Thumbnail",1,"img-fluid","rounded","ratio","ratio-16x9",3,"src"],[1,"col-md-10"],[1,"mb-1"],[1,"text-muted","text-xs"],[1,"pagination"],["class","page-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"page-item",3,"ngClass"],[1,"page-link",3,"click","innerHTML"],[1,"p-5","text-center","text-muted"]],template:function(e,t){if(e&1&&(u(0,Oi,1,0,"app-progress",1),o(1,"section")(2,"div",2),p(3,"div",3),s(),o(4,"div",4)(5,"div",3)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9),d(11),s()(),o(12,"div",10),u(13,Ri,2,1,"div",11)(14,Di,3,1,"div",1)(15,Pi,2,0,"ng-template",null,0,W),s()()()()()()()),e&2){let r=j(16);m("ngIf",t.mProgress),a(11),_(" Liked media (",t.mItems.length,") "),a(2),m("ngIf",t.mItems&&t.mItems.length>0)("ngIfElse",r),a(),m("ngIf",t.links)}},dependencies:[U,$,O,B,R],encapsulation:2})};var Ni=(i,n)=>({active:i,disabled:n});function ji(i,n){i&1&&p(0,"app-progress")}function Ai(i,n){if(i&1&&(o(0,"div")(1,"a",13)(2,"div",14),p(3,"img",15),s(),o(4,"div",16)(5,"h6",17),d(6),s(),o(7,"div",18)(8,"span"),d(9),s(),d(10,"\xA0\u2022 "),o(11,"span"),d(12),s(),d(13,"\xA0\u2022 "),o(14,"span"),d(15),s()()()()()),i&2){let e=n.$implicit;a(),N("routerLink","/media/show/",e.media==null?null:e.media.id,""),a(2),m("src",e.media.thumbnail_url,P),a(3),y(e.media==null?null:e.media.title),a(3),y(e.media==null||e.media.user==null?null:e.media.user.name),a(3),y(e.media==null?null:e.media.total_views),a(3),y(e.media==null?null:e.media.readable_date)}}function Hi(i,n){if(i&1&&(o(0,"div"),u(1,Ai,16,7,"div",12),s()),i&2){let e=v();a(),m("ngForOf",e.mItems)}}function Vi(i,n){if(i&1){let e=z();o(0,"li",21)(1,"a",22),S("click",function(){let r=T(e).$implicit,l=v(2);return F(l.onChangePage(r.url))}),s()()}if(i&2){let e=n.$implicit;m("ngClass",pe(2,Ni,e.active,!e.url)),a(),m("innerHTML",e.label,Q)}}function zi(i,n){if(i&1&&(o(0,"div")(1,"ul",19),u(2,Vi,2,5,"li",20),s()()),i&2){let e=v();a(2),m("ngForOf",e.links)}}function Ui(i,n){i&1&&(o(0,"p",23),d(1,"No items"),s())}var Ne=class i{constructor(n,e,t){this.mMediaService=n;this.mToastrService=e;this.mContext=t}mItems=[];itemForm;search_term;mProgress=!1;links=[];ngOnInit(){this.index(),this.search_term=new ye("",A.required),this.itemForm=new be({search_term:this.search_term})}index(){this.mProgress=!0,this.mProgress=!0,this.mMediaService.historyMediaItems().subscribe({next:n=>{n&&(this.mItems=n.data,this.links=n.links,this.mProgress=!1)},error:n=>{n.error.message&&this.mToastrService.error(n.error.message),this.mProgress=!1}})}onChangePage(n){this.mProgress=!0,this.mMediaService.paginateItems(n).subscribe({next:e=>{e&&(this.mItems=e.data,this.links=e.links,this.mProgress=!1)},error:e=>{e.error.message&&this.mToastrService.error(e.error.message),this.mProgress=!1}})}static \u0275fac=function(e){return new(e||i)(g(L),g(q),g(I))};static \u0275cmp=x({type:i,selectors:[["app-history"]],standalone:!1,decls:17,vars:5,consts:[["noItemsTemplate",""],[4,"ngIf"],[1,"app-content-header"],[1,"container-fluid"],[1,"app-content"],[1,"row"],[1,"col-lg-12","col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],[1,"row","mb-2","text-decoration-none","text-reset","me-1",3,"routerLink"],[1,"col-md-2"],["width","100%","height","auto","alt","Thumbnail",1,"img-fluid","rounded","ratio","ratio-16x9",3,"src"],[1,"col-md-10"],[1,"mb-1"],[1,"text-muted","text-xs"],[1,"pagination"],["class","page-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"page-item",3,"ngClass"],[1,"page-link",3,"click","innerHTML"],[1,"p-5","text-center","text-muted"]],template:function(e,t){if(e&1&&(u(0,ji,1,0,"app-progress",1),o(1,"section")(2,"div",2),p(3,"div",3),s(),o(4,"div",4)(5,"div",3)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9),d(11),s()(),o(12,"div",10),u(13,Hi,2,1,"div",11)(14,zi,3,1,"div",1)(15,Ui,2,0,"ng-template",null,0,W),s()()()()()()()),e&2){let r=j(16);m("ngIf",t.mProgress),a(11),_(" History (",t.mItems.length,") "),a(2),m("ngIf",t.mItems&&t.mItems.length>0)("ngIfElse",r),a(),m("ngIf",t.links)}},dependencies:[U,$,O,B,R],encapsulation:2})};var $i=[{path:"",redirectTo:"index",pathMatch:"full"},{path:"index",component:ne,data:{title:"Index"}},{path:"create",component:Me,data:{title:"Create"}},{path:"edit/:id",component:qe,data:{title:"Edit"}},{path:"show/:id",component:De,data:{title:"Show"}},{path:"about",component:ne,data:{title:"Index"}},{path:"my-playlist",component:ne,data:{title:"Index"}},{path:"liked",component:Pe,data:{title:"Index"}},{path:"history",component:Ne,data:{title:"Index"}}],je=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=X({type:i});static \u0275inj=K({imports:[ue,re.forChild($i),re]})};var Pt=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=X({type:i});static \u0275inj=K({imports:[ue,re,wt,Mt,Rt.forRoot(),je,Ot]})};export{Pt as MediaModule};
