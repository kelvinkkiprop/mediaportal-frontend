import{a as $}from"./chunk-GRXRPJTM.js";import{h as w,j as A}from"./chunk-YRMZIFYU.js";import{b as D,e as F,f as k,h as G}from"./chunk-CO6HNT7T.js";import{A as b,Ab as M,Db as S,Ha as E,Ia as r,Ja as c,Ka as j,La as I,Ra as x,Sa as R,Wa as V,Xa as B,Y as a,Za as h,aa as p,ca as f,da as _,ga as s,ib as C,jb as v,ka as l,kb as q,la as y,mb as T,pa as t,qa as e,ra as m,xa as g}from"./chunk-GNYCVOWU.js";import"./chunk-GAL4ENT6.js";function te(o,i){o&1&&m(0,"app-progress")}function ie(o,i){if(o&1&&(t(0,"tr")(1,"td"),r(2),e(),t(3,"td"),r(4),e(),t(5,"td"),r(6),e(),t(7,"td"),r(8),V(9,"date"),e(),t(10,"td")(11,"span",34),r(12),e()()()),o&2){let n=i.$implicit,d=i.index;a(2),j("",d+1,"."),a(2),c(n.full_name),a(2),c(n.institution==null?null:n.institution.name),a(2),c(B(9,5,n.created_at)),a(4),c(n.uploaded_media_count)}}function ne(o,i){if(o&1&&(t(0,"div",31)(1,"table",32)(2,"thead")(3,"tr")(4,"th"),r(5,"#"),e(),t(6,"th"),r(7,"Name"),e(),t(8,"th"),r(9,"Institution"),e(),t(10,"th"),r(11,"Joined"),e(),t(12,"th"),r(13,"Uploads"),e()()(),t(14,"tbody"),s(15,ie,13,7,"tr",33),e()()()),o&2){let n=g();a(15),l("ngForOf",n.mTopUploaders)}}function oe(o,i){o&1&&(t(0,"p",35),r(1,"No items"),e())}function re(o,i){if(o&1&&(t(0,"div",31)(1,"table",36)(2,"tbody")(3,"tr")(4,"th"),r(5,"Disk Usage"),e(),t(6,"td")(7,"div"),r(8),e(),t(9,"div",37),m(10,"div",38),e()()(),t(11,"tr")(12,"th"),r(13,"Memory Usage"),e(),t(14,"td")(15,"div"),r(16),e(),t(17,"div",37),m(18,"div",38),e()()(),t(19,"tr")(20,"th"),r(21,"Swap Usage"),e(),t(22,"td")(23,"div"),r(24),e(),t(25,"div",37),m(26,"div",38),e()()()()()()),o&2){let n=g();a(8),I("",n.mDisk.used_gb," of ",n.mDisk.total_gb,"GB"),a(2),y("width",n.mDisk.usage_percent,"%"),a(6),I("",n.mMemory.used_gb," of ",n.mMemory.total_gb,"GB"),a(2),y("width",n.mMemory.usage_percent,"%"),a(6),I("",n.mSwap.used_gb," of ",n.mSwap.total_gb,"GB"),a(2),y("width",n.mSwap.usage_percent,"%")}}function ae(o,i){o&1&&(t(0,"p",35),r(1,"No items"),e())}var P=class o{constructor(i,n,d,u){this.mToastrService=i;this.mDashboardService=n;this.mAppInfo=d;this.mAppContextService=u}mProgress=!1;item;mTotalUsers;mTotalMedia;mTotalCourseModules;mTotalViews;mTotalInstitutions;mTopUploaders=[];mDisk;mMemory;mSwap;ngOnInit(){this.index(),this.systemStats()}index(){this.mProgress=!0,this.mDashboardService.dashboard().subscribe({next:i=>{i&&(this.mTotalUsers=i.data.total_users,this.mTotalMedia=i.data.total_media,this.mTotalViews=i.data.total_Views,this.mTotalInstitutions=i.data.total_organizations,this.mTopUploaders=i.data.top_uploaders,this.mProgress=!1)},error:i=>{i.error.message&&this.mToastrService.error(i.error.message),this.mProgress=!1}})}systemStats(){this.mProgress=!0,this.mDashboardService.systemStats().subscribe({next:i=>{i&&(this.mDisk=i.disk,this.mMemory=i.memory,this.mSwap=i.swap,this.mProgress=!1)},error:i=>{i.error.message&&this.mToastrService.error(i.error.message),this.mProgress=!1}})}static \u0275fac=function(n){return new(n||o)(p(w),p(k),p($),p(F))};static \u0275cmp=f({type:o,selectors:[["app-admin"]],standalone:!1,decls:77,vars:9,consts:[["noItemsTemplate",""],[4,"ngIf"],[1,"app-content-header"],[1,"container-fluid"],[1,"app-content"],[1,"row","mb-4"],[1,"col-lg-3","col-6"],[1,"small-box","text-bg-primary"],[1,"inner"],[1,"small-box-icon"],[1,"bi","bi-people-fill","fs-1"],["routerLink","/users",1,"small-box-footer","link-light","link-underline-opacity-0","link-underline-opacity-50-hover"],[1,"bi","bi-link-45deg"],[1,"small-box","text-bg-success"],[1,"bi","bi-collection-fill","fs-1"],["routerLink","/media",1,"small-box-footer","link-light","link-underline-opacity-0","link-underline-opacity-50-hover"],[1,"small-box","text-bg-warning"],[1,"bi","bi-eye-fill","fs-1"],[1,"small-box","text-bg-danger"],[1,"bi","bi-building-fill","fs-1"],["routerLink","/organizations",1,"small-box-footer","link-light","link-underline-opacity-0","link-underline-opacity-50-hover"],[1,"col-lg-7"],[1,"card","mb-4","h-100"],[1,"card-header"],[1,"card-title"],[1,"card-body"],["class","table-responsive",4,"ngIf","ngIfElse"],[1,"col-lg-5"],[1,"card-header","border-01"],[1,"card-tools"],[1,"text-primary1"],[1,"table-responsive"],[1,"table","table-bordered1","table-striped"],[4,"ngFor","ngForOf"],[1,"badge","text-bg-info"],[1,"text-center","text-muted","p-5"],[1,"table","table-bordered","table-striped1"],[1,"progress","progress-xs","progress-striped","active"],[1,"progress-bar","bg-primary"]],template:function(n,d){if(n&1&&(s(0,te,1,0,"app-progress",1),t(1,"section")(2,"div",2),m(3,"div",3),e(),t(4,"div",4)(5,"div",3)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"h3"),r(11),e(),t(12,"p"),r(13,"Users"),e()(),t(14,"div",9),m(15,"i",10),e(),t(16,"a",11),r(17," More info "),m(18,"i",12),e()()(),t(19,"div",6)(20,"div",13)(21,"div",8)(22,"h3"),r(23),e(),t(24,"p"),r(25,"Media"),e()(),t(26,"div",9),m(27,"i",14),e(),t(28,"a",15),r(29," More info "),m(30,"i",12),e()()(),t(31,"div",6)(32,"div",16)(33,"div",8)(34,"h3"),r(35),e(),t(36,"p"),r(37,"Views"),e()(),t(38,"div",9),m(39,"i",17),e(),t(40,"a",15),r(41," More info "),m(42,"i",12),e()()(),t(43,"div",6)(44,"div",18)(45,"div",8)(46,"h3"),r(47),e(),t(48,"p"),r(49,"Institutions"),e()(),t(50,"div",9),m(51,"i",19),e(),t(52,"a",20),r(53," More info "),m(54,"i",12),e()()()(),t(55,"div",5)(56,"div",21)(57,"div",22)(58,"div",23)(59,"h3",24),r(60,"Top Uploaders"),e()(),t(61,"div",25),s(62,ne,16,1,"div",26)(63,oe,2,0,"ng-template",null,0,h),e()()(),t(65,"div",27)(66,"div",22)(67,"div",28)(68,"h3",24),r(69,"System Information"),e(),m(70,"div",29),e(),t(71,"div",25)(72,"h6",30),r(73,"Resource Usage"),e(),s(74,re,27,12,"div",26)(75,ae,2,0,"ng-template",null,0,h),e()()()()()()()),n&2){let u=E(64);l("ngIf",d.mProgress),a(11),c(d.mTotalUsers),a(12),c(d.mTotalMedia),a(12),c(d.mTotalViews),a(12),c(d.mTotalInstitutions),a(15),l("ngIf",d.mTopUploaders&&d.mTopUploaders.length>0)("ngIfElse",u),a(12),l("ngIf",d.mDisk&&d.mMemory&&d.mSwap)("ngIfElse",u)}},dependencies:[C,v,M,A,q],encapsulation:2})};var J=()=>["/media/watch"],H=o=>({video:o});function de(o,i){o&1&&m(0,"app-progress")}function le(o,i){if(o&1&&(t(0,"div",13)(1,"a",14),m(2,"app-media-card",15),e()()),o&2){let n=i.$implicit;a(),l("routerLink",x(3,J))("queryParams",R(4,H,n.id)),a(),l("data",n)}}function se(o,i){if(o&1&&(t(0,"div",13)(1,"a",14),m(2,"app-media-card",15),e()()),o&2){let n=i.$implicit;a(),l("routerLink",x(3,J))("queryParams",R(4,H,n.id)),a(),l("data",n)}}function pe(o,i){if(o&1&&(t(0,"div")(1,"div",6)(2,"div",7)(3,"div",8)(4,"span",9),r(5,"Latest"),e(),t(6,"a",10),r(7,"VIEW ALL"),e()(),t(8,"div",11),s(9,le,3,6,"div",12),e()()(),m(10,"hr"),t(11,"div",6)(12,"div",7)(13,"div",8)(14,"span",9),r(15,"Featured"),e(),t(16,"a",10),r(17,"VIEW ALL"),e()(),t(18,"div",11),s(19,se,3,6,"div",12),e()()()()),o&2){let n=g();a(9),l("ngForOf",n.mLatestMedia),a(10),l("ngForOf",n.mFeaturedMedia)}}function ce(o,i){o&1&&(t(0,"p",16),r(1,"No items"),e())}var O=class o{constructor(i,n){this.mToastrService=i;this.mDashboardService=n}mProgress=!1;itemForm;item;mLatestMedia=[];mFeaturedMedia=[];ngOnInit(){this.index()}index(){this.mProgress=!0,this.mDashboardService.dashboard2().subscribe({next:i=>{i&&(this.mLatestMedia=i.data.latest_media,this.mFeaturedMedia=i.data.featured_media,this.mProgress=!1)},error:i=>{i.error.message&&this.mToastrService.error(i.error.message),this.mProgress=!1}})}static \u0275fac=function(n){return new(n||o)(p(w),p(k))};static \u0275cmp=f({type:o,selectors:[["app-other"]],standalone:!1,decls:9,vars:3,consts:[["noItemsTemplate",""],[4,"ngIf"],[1,"app-content-header"],[1,"container-fluid"],[1,"app-content"],[4,"ngIf","ngIfElse"],[1,"row","mb-3"],[1,"col-md-12"],[1,"mb-2","h6"],[1,"fw-bold"],["routerLink","/categories",1,"ms-2","text-muted","text-decoration-none"],[1,"row","row-cols-1","row-cols-sm-2","row-cols-md-4","g-4"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"text-decoration-none","text-reset",3,"routerLink","queryParams"],[3,"data"],[1,"p-5","text-center","text-muted"]],template:function(n,d){if(n&1&&(s(0,de,1,0,"app-progress",1),t(1,"section")(2,"div",2),m(3,"div",3),e(),t(4,"div",4)(5,"div",3),s(6,pe,20,2,"div",5)(7,ce,2,0,"ng-template",null,0,h),e()()()),n&2){let u=E(8);l("ngIf",d.mProgress),a(6),l("ngIf",d.mFeaturedMedia&&d.mFeaturedMedia.length>0||d.mFeaturedMedia&&d.mFeaturedMedia.length>0)("ngIfElse",u)}},dependencies:[C,v,M,A,D],encapsulation:2})};var ve=()=>[1];function ue(o,i){o&1&&(t(0,"div"),m(1,"app-admin"),e())}var L=class o{constructor(i){this.mAppContextService=i}static \u0275fac=function(n){return new(n||o)(p(F))};static \u0275cmp=f({type:o,selectors:[["app-index"]],standalone:!1,decls:6,vars:2,consts:[[1,"app-content"],[1,"container-fluid"],[4,"ngIf"]],template:function(n,d){n&1&&(t(0,"section")(1,"div",0)(2,"div",1),s(3,ue,2,0,"div",2),t(4,"div"),m(5,"app-other"),e()()()()),n&2&&(a(3),l("ngIf",d.mAppContextService.hasRoles(x(1,ve))))},dependencies:[v,P,O],encapsulation:2})};var ge=[{path:"",redirectTo:"index",pathMatch:"full"},{path:"index",component:L,data:{title:"Index"}}],U=class o{static \u0275fac=function(n){return new(n||o)};static \u0275mod=_({type:o});static \u0275inj=b({imports:[T,S.forChild(ge),S]})};var K=class o{static \u0275fac=function(n){return new(n||o)};static \u0275mod=_({type:o});static \u0275inj=b({imports:[T,S,U,G,D]})};export{K as DashboardModule};
