import{a as He,b as Ve}from"./chunk-3SVFJR7X.js";import{a as Xe}from"./chunk-47TLDLVH.js";import{b as Ne,c as G,e as v,f as U,g as $,h as Le,i as qe,k as z,m as Q,n as Y,o as Be,p as Oe,q as Re,r as de,s as Ae,t as De}from"./chunk-YIOSBDZK.js";import{h as V,j as J}from"./chunk-BHYX23KN.js";import{c as w,e as je,h as We}from"./chunk-I3N7TPVV.js";import{$ as f,Aa as Ee,B as ve,Bb as Z,G as ie,Ga as Fe,H as ne,Ha as a,Ia as g,Ja as ge,La as k,Ma as P,Na as N,Pa as xe,Qa as _,Ra as Ie,Ta as Te,Ua as L,V as Ce,Va as q,W as ye,X as o,Xa as we,ba as T,ca as re,fa as p,fb as j,gb as ae,hb as W,ia as _e,ib as Me,ja as m,kb as oe,oa as l,pa as n,qa as u,rb as ke,ta as le,va as I,vb as Pe,wa as c,xb as me,y as Se,yb as H,z as te,za as fe}from"./chunk-KOGPXGXW.js";import{f as Ke}from"./chunk-GAL4ENT6.js";var M=class i{constructor(r,t){this.mAppContextService=r;this.http=t}allItems(){let r=`${w.base_url}/live-stream`;return this.http.get(r,this.mAppContextService.getHttpOptions())}createItem(r){let t=`${w.base_url}/live-stream`;return this.http.post(t,r)}getOneItem(r){let t=`${w.base_url}/live-stream/${r}`;return this.http.get(t,this.mAppContextService.getHttpOptions())}updateItem(r){let t=`${w.base_url}/live-stream/${r.id}`;return this.http.put(t,r,this.mAppContextService.getHttpOptions())}deleteItem(r){let t=`${w.base_url}/live-stream/${r.id}`;return this.http.delete(t,this.mAppContextService.getHttpOptions())}paginateItems(r){return this.http.get(r,this.mAppContextService.getHttpOptions())}unpaginatedItems(){let r=`${w.base_url}/unpaginated-items-live-stream`;return this.http.get(r,this.mAppContextService.getHttpOptions())}searchItems(r){let t=`${w.base_url}/search-live-stream`;return this.http.post(t,r,this.mAppContextService.getHttpOptions())}static \u0275fac=function(t){return new(t||i)(ve(je),ve(ke))};static \u0275prov=Se({token:i,factory:i.\u0275fac,providedIn:"root"})};var ee=i=>({"is-invalid":i}),Ze=()=>({height:"150px"});function et(i,r){i&1&&u(0,"app-progress")}function tt(i,r){i&1&&(l(0,"div"),a(1,"This field is required."),n())}function it(i,r){if(i&1&&(l(0,"div",37),p(1,tt,2,0,"div",0),n()),i&2){let t,e=c();o(),m("ngIf",(t=e.itemForm.get("title"))==null||t.errors==null?null:t.errors.required)}}function nt(i,r){i&1&&(l(0,"div"),a(1,"This field is required."),n())}function rt(i,r){if(i&1&&(l(0,"div",37),p(1,nt,2,0,"div",0),n()),i&2){let t,e=c();o(),m("ngIf",(t=e.itemForm.get("description"))==null||t.errors==null?null:t.errors.required)}}function lt(i,r){i&1&&(l(0,"div"),a(1,"This field is required."),n())}function at(i,r){if(i&1&&(l(0,"div",37),p(1,lt,2,0,"div",0),n()),i&2){let t,e=c();o(),m("ngIf",(t=e.itemForm.get("scheduled_at"))==null||t.errors==null?null:t.errors.required)}}function ot(i,r){i&1&&(l(0,"div"),a(1,"This field is required."),n())}function mt(i,r){if(i&1&&(l(0,"div",37),p(1,ot,2,0,"div",0),n()),i&2){let t,e=c();o(),m("ngIf",(t=e.itemForm.get("thumbnail"))==null||t.errors==null?null:t.errors.required)}}function dt(i,r){if(i&1&&(l(0,"div",38),u(1,"img",39),n()),i&2){let t=c();o(),m("src",t.mThumbnailPreviewFile,ye)}}function st(i,r){i&1&&(l(0,"div"),a(1,"This field is required."),n())}function pt(i,r){i&1&&(l(0,"div"),a(1,"Password must be at least 6 characters long."),n())}function ut(i,r){if(i&1&&(l(0,"div",37),p(1,st,2,0,"div",0)(2,pt,2,0,"div",0),n()),i&2){let t,e,d=c();o(),m("ngIf",(t=d.itemForm.get("live_stream_link"))==null||t.errors==null?null:t.errors.required),o(),m("ngIf",(e=d.itemForm.get("live_stream_link"))==null||e.errors==null?null:e.errors.minlength)}}var se=class i{constructor(r,t,e,d){this.mToastrService=r;this.mLiveStreamService=t;this.router=e;this.fb=d;this.itemForm=this.fb.group({title:["",v.required],description:["",v.required],scheduled_at:["",v.required],thumbnail:["",v.required],live_stream_link:["",v.required]})}itemForm;mProgress=!1;mThumbnailPreviewFile;mThumbnailFile;ngOnInit(){}onSubmit(r){let t=new FormData;t.append("title",r.title),t.append("description",r.description),t.append("scheduled_at",r.scheduled_at),t.append("live_stream_link",r.live_stream_link),t.append("thumbnail",this.mThumbnailFile,this.mThumbnailFile?.name),t.append("_method","POST"),this.mProgress=!0,this.mLiveStreamService.createItem(t).subscribe({next:e=>{e.status==="success"?(this.mToastrService.success(e.message),this.router.navigateByUrl("/live-stream"),this.mProgress=!1):(this.mToastrService.error(e.message),this.mProgress=!1)},error:e=>{e.error.message&&this.mToastrService.error(e.error.message),this.mProgress=!1}})}onThumbnailChange(r){if(r.target.value){let t=r.target.files[0];this.mThumbnailFile=t;let e=new FileReader;e.onload=()=>this.mThumbnailPreviewFile=e.result,e.readAsDataURL(t)}}static \u0275fac=function(t){return new(t||i)(f(V),f(M),f(me),f(de))};static \u0275cmp=T({type:i,selectors:[["app-create"]],standalone:!1,decls:65,vars:26,consts:[[4,"ngIf"],[1,"app-content-header"],[1,"container-fluid"],[1,"row"],[1,"col-sm-6"],[1,"mb-0"],[1,"breadcrumb","float-sm-end"],[1,"breadcrumb-item"],["href","#"],["aria-current","page",1,"breadcrumb-item"],["aria-current","page",1,"breadcrumb-item","active"],[1,"app-content"],[1,"col-lg-12","col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-tools"],[1,"card-body"],[3,"ngSubmit","formGroup"],[1,"row","mb-3"],[1,"col-md-12"],[1,"mb-3"],["for","title",1,"form-label","required"],["type","text","formControlName","title",1,"form-control",3,"ngClass"],["class","invalid-feedback d-block","role","alert",4,"ngIf"],["for","description",1,"form-label","required"],["formControlName","description",1,"w-100",3,"styles","ngClass"],["for","scheduled_at",1,"form-label","required"],["type","datetime-local","formControlName","scheduled_at",1,"form-control",3,"ngClass"],["for","thumbnail",1,"form-label","required"],["type","file","formControlName","thumbnail",1,"form-control",3,"change","ngClass"],["class","mt-2",4,"ngIf"],["for","live_stream_link",1,"form-label","required"],["type","text","formControlName","live_stream_link",1,"form-control",3,"ngClass"],[1,"text-end"],["routerLink","/live-stream",1,"btn","btn-warning","me-1"],["type","submit",1,"btn","btn-primary",3,"disabled"],["role","alert",1,"invalid-feedback","d-block"],[1,"mt-2"],["alt","Thumbnail Preview",1,"img-fluid","rounded",2,"max-height","200px",3,"src"]],template:function(t,e){if(t&1&&(p(0,et,1,0,"app-progress",0),l(1,"section")(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"h3",5),a(7,"Live Streams"),n()(),l(8,"div",4)(9,"ol",6)(10,"li",7)(11,"a",8),a(12,"Home"),n()(),l(13,"li",9),a(14,"Live Streams"),n(),l(15,"li",10),a(16,"Create"),n()()()()()(),l(17,"div",11)(18,"div",2)(19,"div",3)(20,"div",12)(21,"div",13)(22,"div",14)(23,"div",15),a(24," Create Live Stream "),n(),u(25,"div",16),n(),l(26,"div",17)(27,"form",18),I("ngSubmit",function(){return e.onSubmit(e.itemForm.value)}),l(28,"div",19)(29,"div",20)(30,"div",21)(31,"label",22),a(32,"Title:"),n(),u(33,"input",23),p(34,it,2,1,"div",24),n()(),l(35,"div",20)(36,"div",21)(37,"label",25),a(38,"Description:"),n(),u(39,"quill-editor",26),p(40,rt,2,1,"div",24),n()(),l(41,"div",20)(42,"div",21)(43,"label",27),a(44,"Scheduled At:"),n(),u(45,"input",28),p(46,at,2,1,"div",24),n()(),l(47,"div",20)(48,"div",21)(49,"label",29),a(50,"Thumbnail:"),n(),l(51,"input",30),I("change",function(s){return e.onThumbnailChange(s)}),n(),p(52,mt,2,1,"div",24),n(),p(53,dt,2,1,"div",31),n(),l(54,"div",20)(55,"div",21)(56,"label",32),a(57,"Live Stream Link:"),n(),u(58,"input",33),p(59,ut,3,2,"div",24),n()()(),l(60,"div",34)(61,"a",35),a(62,"Cancel"),n(),l(63,"button",36),a(64,"Submit"),n()()()()()()()()()()),t&2){let d,s,h,b,S,C,y,E,F,x;m("ngIf",e.mProgress),o(27),m("formGroup",e.itemForm),o(6),m("ngClass",_(15,ee,((d=e.itemForm.get("title"))==null?null:d.invalid)&&(((d=e.itemForm.get("title"))==null?null:d.dirty)||((d=e.itemForm.get("title"))==null?null:d.touched)))),o(),m("ngIf",((s=e.itemForm.get("title"))==null?null:s.invalid)&&(((s=e.itemForm.get("title"))==null?null:s.dirty)||((s=e.itemForm.get("title"))==null?null:s.touched))),o(5),m("styles",xe(17,Ze))("ngClass",_(18,ee,((h=e.itemForm.get("description"))==null?null:h.invalid)&&(((h=e.itemForm.get("description"))==null?null:h.dirty)||((h=e.itemForm.get("description"))==null?null:h.touched)))),o(),m("ngIf",((b=e.itemForm.get("description"))==null?null:b.invalid)&&(((b=e.itemForm.get("description"))==null?null:b.dirty)||((b=e.itemForm.get("description"))==null?null:b.touched))),o(5),m("ngClass",_(20,ee,((S=e.itemForm.get("scheduled_at"))==null?null:S.invalid)&&(((S=e.itemForm.get("scheduled_at"))==null?null:S.dirty)||((S=e.itemForm.get("scheduled_at"))==null?null:S.touched)))),o(),m("ngIf",((C=e.itemForm.get("scheduled_at"))==null?null:C.invalid)&&(((C=e.itemForm.get("scheduled_at"))==null?null:C.dirty)||((C=e.itemForm.get("scheduled_at"))==null?null:C.touched))),o(5),m("ngClass",_(22,ee,((y=e.itemForm.get("thumbnail"))==null?null:y.invalid)&&(((y=e.itemForm.get("thumbnail"))==null?null:y.dirty)||((y=e.itemForm.get("thumbnail"))==null?null:y.touched)))),o(),m("ngIf",((E=e.itemForm.get("thumbnail"))==null?null:E.invalid)&&(((E=e.itemForm.get("thumbnail"))==null?null:E.dirty)||((E=e.itemForm.get("thumbnail"))==null?null:E.touched))),o(),m("ngIf",e.mThumbnailPreviewFile),o(5),m("ngClass",_(24,ee,((F=e.itemForm.get("live_stream_link"))==null?null:F.invalid)&&(((F=e.itemForm.get("live_stream_link"))==null?null:F.dirty)||((F=e.itemForm.get("live_stream_link"))==null?null:F.touched)))),o(),m("ngIf",((x=e.itemForm.get("live_stream_link"))==null?null:x.invalid)&&(((x=e.itemForm.get("live_stream_link"))==null?null:x.dirty)||((x=e.itemForm.get("live_stream_link"))==null?null:x.touched))),o(4),m("disabled",e.itemForm.invalid)}},dependencies:[j,W,H,z,G,U,$,Q,Y,He,J],encapsulation:2})};var B=i=>({"is-invalid":i});function ct(i,r){i&1&&u(0,"app-progress")}function vt(i,r){i&1&&(l(0,"div"),a(1,"This field is required."),n())}function _t(i,r){if(i&1&&(l(0,"div",45),p(1,vt,2,0,"div",0),n()),i&2){let t,e=c();o(),m("ngIf",(t=e.itemForm.get("first_name"))==null||t.errors==null?null:t.errors.required)}}function ft(i,r){i&1&&(l(0,"div"),a(1,"This field is required."),n())}function gt(i,r){if(i&1&&(l(0,"div",45),p(1,ft,2,0,"div",0),n()),i&2){let t,e=c();o(),m("ngIf",(t=e.itemForm.get("last_name"))==null||t.errors==null?null:t.errors.required)}}function ht(i,r){i&1&&(l(0,"div"),a(1,"This field is required."),n())}function bt(i,r){i&1&&(l(0,"div"),a(1,"Enter a valid email address."),n())}function St(i,r){if(i&1&&(l(0,"div",45),p(1,ht,2,0,"div",0)(2,bt,2,0,"div",0),n()),i&2){let t,e,d=c();o(),m("ngIf",(t=d.itemForm.get("email"))==null||t.errors==null?null:t.errors.required),o(),m("ngIf",(e=d.itemForm.get("email"))==null||e.errors==null?null:e.errors.email)}}function Ct(i,r){if(i&1&&(l(0,"option",46),a(1),n()),i&2){let t=r.$implicit;fe("value",t.id),o(),g(t.name)}}function yt(i,r){i&1&&(l(0,"div"),a(1,"This field is required."),n())}function Et(i,r){if(i&1&&(l(0,"div",47),p(1,yt,2,0,"div",0),n()),i&2){let t,e=c();o(),m("ngIf",(t=e.itemForm.get("role_id"))==null||t.errors==null?null:t.errors.required)}}function Ft(i,r){if(i&1&&(l(0,"option",46),a(1),n()),i&2){let t=r.$implicit;fe("value",t.id),o(),g(t.name)}}function xt(i,r){i&1&&(l(0,"div"),a(1,"This field is required."),n())}function It(i,r){if(i&1&&(l(0,"div",47),p(1,xt,2,0,"div",0),n()),i&2){let t,e=c();o(),m("ngIf",(t=e.itemForm.get("status_id"))==null||t.errors==null?null:t.errors.required)}}function Tt(i,r){i&1&&(l(0,"div"),a(1,"This field is required."),n())}function wt(i,r){i&1&&(l(0,"div"),a(1,"Password must be at least 6 characters long."),n())}function Mt(i,r){if(i&1&&(l(0,"div",45),p(1,Tt,2,0,"div",0)(2,wt,2,0,"div",0),n()),i&2){let t,e,d=c();o(),m("ngIf",(t=d.itemForm.get("password"))==null||t.errors==null?null:t.errors.required),o(),m("ngIf",(e=d.itemForm.get("password"))==null||e.errors==null?null:e.errors.minlength)}}function kt(i,r){i&1&&(l(0,"div"),a(1,"This field is required."),n())}function Pt(i,r){if(i&1&&(l(0,"div",45),p(1,kt,2,0,"div",0),n()),i&2){let t,e=c();o(),m("ngIf",(t=e.itemForm.get("reset_password"))==null||t.errors==null?null:t.errors.required)}}var pe=class i{constructor(r,t,e,d,s){this.route=r;this.mLiveStreamService=t;this.router=e;this.mToastrService=d;this.fb=s;this.itemForm=this.fb.group({first_name:["",v.required],last_name:["",v.required],email:["",[v.required,v.email]],role_id:["",v.required],status_id:["",v.required],password:["",[v.nullValidator,v.minLength(6)]],reset_password:[!1,v.nullValidator]})}itemForm;mProgress=!1;mRoles;mStatuses;id;item={};ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),this.mProgress=!0,this.mLiveStreamService.getOneItem(this.id).subscribe({next:r=>{r&&(this.item=r,this.mProgress=!1)},error:r=>{r.error.message&&this.mToastrService.error(r.error.message),this.mProgress=!1}}),this.index()}index(){this.mProgress=!0,this.mLiveStreamService.unpaginatedItems().subscribe({next:r=>{r&&(this.mRoles=r.data.roles,this.mStatuses=r.data.statuses,this.mProgress=!1)},error:r=>{r.error.message&&this.mToastrService.error(r.error.message),this.mProgress=!1}})}onSubmit(r){let t={id:this.id,first_name:r.first_name,last_name:r.last_name,email:r.email,role_id:r.role_id,status_id:r.status_id,password:r.password,reset_password:r.reset_password};this.mProgress=!0,this.mLiveStreamService.updateItem(t).subscribe({next:e=>{e&&(this.mToastrService.success(e.message),this.router.navigateByUrl("/live-stream"),this.mProgress=!1)},error:e=>{e.error.message&&this.mToastrService.error(e.error.message),this.mProgress=!1}})}static \u0275fac=function(t){return new(t||i)(f(Pe),f(M),f(me),f(V),f(de))};static \u0275cmp=T({type:i,selectors:[["app-edit"]],standalone:!1,decls:83,vars:39,consts:[[4,"ngIf"],[1,"app-content-header"],[1,"container-fluid"],[1,"row"],[1,"col-sm-6"],[1,"mb-0"],[1,"breadcrumb","float-sm-end"],[1,"breadcrumb-item"],["href","#"],["aria-current","page",1,"breadcrumb-item"],["aria-current","page",1,"breadcrumb-item","active"],[1,"app-content"],[1,"col-lg-12","col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-tools"],[1,"card-body"],[3,"ngSubmit","formGroup"],[1,"row","mb-3"],[1,"col-md-6"],[1,"mb-3"],["for","first_name",1,"form-label","required"],["type","text","formControlName","first_name",1,"form-control",3,"ngModelChange","ngModel","ngClass"],["class","invalid-feedback d-block","role","alert",4,"ngIf"],["for","last_name",1,"form-label","required"],["type","text","formControlName","last_name",1,"form-control",3,"ngModelChange","ngModel","ngClass"],["for","email",1,"form-label","required"],["type","email","formControlName","email",1,"form-control",3,"ngModelChange","ngModel","ngClass"],["for","role_id",1,"form-label","required"],["formControlName","role_id",1,"form-select",3,"ngModelChange","ngModel","ngClass"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback d-block1","role","alert",4,"ngIf"],[1,"col-md-12"],["for","status_id",1,"form-label","required"],["formControlName","status_id",1,"form-select",3,"ngModelChange","ngModel","ngClass"],["for","password",1,"form-label","required"],["type","password","formControlName","password",1,"form-control",3,"ngModelChange","ngModel","ngClass"],[1,"text-end"],[1,"form-check","d-inline-block"],["type","checkbox","formControlName","reset_password",1,"form-check-input",3,"ngClass"],["for","reset_password"],["routerLink","/live-stream",1,"btn","btn-warning","me-1"],["type","submit",1,"btn","btn-primary",3,"disabled"],["role","alert",1,"invalid-feedback","d-block"],[3,"value"],["role","alert",1,"invalid-feedback","d-block1"]],template:function(t,e){if(t&1&&(p(0,ct,1,0,"app-progress",0),l(1,"section")(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"h3",5),a(7,"Live Streams"),n()(),l(8,"div",4)(9,"ol",6)(10,"li",7)(11,"a",8),a(12,"Home"),n()(),l(13,"li",9),a(14,"Live Streams"),n(),l(15,"li",10),a(16,"Edit"),n()()()()()(),l(17,"div",11)(18,"div",2)(19,"div",3)(20,"div",12)(21,"div",13)(22,"div",14)(23,"div",15),a(24," Edit Live Stream "),n(),u(25,"div",16),n(),l(26,"div",17)(27,"form",18),I("ngSubmit",function(){return e.onSubmit(e.itemForm.value)}),l(28,"div",19)(29,"div",20)(30,"div",21)(31,"label",22),a(32,"First Name:"),n(),l(33,"input",23),N("ngModelChange",function(s){return P(e.item.first_name,s)||(e.item.first_name=s),s}),n(),p(34,_t,2,1,"div",24),n()(),l(35,"div",20)(36,"div",21)(37,"label",25),a(38,"Last Name:"),n(),l(39,"input",26),N("ngModelChange",function(s){return P(e.item.last_name,s)||(e.item.last_name=s),s}),n(),p(40,gt,2,1,"div",24),n()(),l(41,"div",20)(42,"div",21)(43,"label",27),a(44,"Email:"),n(),l(45,"input",28),N("ngModelChange",function(s){return P(e.item.email,s)||(e.item.email=s),s}),n(),p(46,St,3,2,"div",24),n()(),l(47,"div",20)(48,"div",21)(49,"label",29),a(50,"Role:"),n(),l(51,"select",30),N("ngModelChange",function(s){return P(e.item.role_id,s)||(e.item.role_id=s),s}),l(52,"option",31),a(53,"--- Select role ---"),n(),p(54,Ct,2,2,"option",32),n(),p(55,Et,2,1,"div",33),n()(),l(56,"div",34)(57,"div",21)(58,"label",35),a(59,"Status:"),n(),l(60,"select",36),N("ngModelChange",function(s){return P(e.item.status_id,s)||(e.item.status_id=s),s}),l(61,"option",31),a(62,"Status"),n(),p(63,Ft,2,2,"option",32),n(),p(64,It,2,1,"div",33),n()(),l(65,"div",34)(66,"div",21)(67,"label",37),a(68,"Password:"),n(),l(69,"input",38),N("ngModelChange",function(s){return P(e.item.password,s)||(e.item.password=s),s}),n(),p(70,Mt,3,2,"div",24),n()(),l(71,"div",34)(72,"div",39)(73,"div",40),u(74,"input",41),l(75,"label",42),a(76," Reset user password?"),n(),p(77,Pt,2,1,"div",24),n()()()(),l(78,"div",39)(79,"a",43),a(80,"Cancel"),n(),l(81,"button",44),a(82,"Submit"),n()()()()()()()()()()),t&2){let d,s,h,b,S,C,y,E,F,x,O,R,A,D;m("ngIf",e.mProgress),o(27),m("formGroup",e.itemForm),o(6),k("ngModel",e.item.first_name),m("ngClass",_(25,B,((d=e.itemForm.get("first_name"))==null?null:d.invalid)&&(((d=e.itemForm.get("first_name"))==null?null:d.dirty)||((d=e.itemForm.get("first_name"))==null?null:d.touched)))),o(),m("ngIf",((s=e.itemForm.get("first_name"))==null?null:s.invalid)&&(((s=e.itemForm.get("first_name"))==null?null:s.dirty)||((s=e.itemForm.get("first_name"))==null?null:s.touched))),o(5),k("ngModel",e.item.last_name),m("ngClass",_(27,B,((h=e.itemForm.get("last_name"))==null?null:h.invalid)&&(((h=e.itemForm.get("last_name"))==null?null:h.dirty)||((h=e.itemForm.get("last_name"))==null?null:h.touched)))),o(),m("ngIf",((b=e.itemForm.get("last_name"))==null?null:b.invalid)&&(((b=e.itemForm.get("last_name"))==null?null:b.dirty)||((b=e.itemForm.get("last_name"))==null?null:b.touched))),o(5),k("ngModel",e.item.email),m("ngClass",_(29,B,((S=e.itemForm.get("email"))==null?null:S.invalid)&&(((S=e.itemForm.get("email"))==null?null:S.dirty)||((S=e.itemForm.get("email"))==null?null:S.touched)))),o(),m("ngIf",((C=e.itemForm.get("email"))==null?null:C.invalid)&&(((C=e.itemForm.get("email"))==null?null:C.dirty)||((C=e.itemForm.get("email"))==null?null:C.touched))),o(5),k("ngModel",e.item.role_id),m("ngClass",_(31,B,((y=e.itemForm.get("role_id"))==null?null:y.invalid)&&(((y=e.itemForm.get("role_id"))==null?null:y.dirty)||((y=e.itemForm.get("role_id"))==null?null:y.touched)))),o(3),m("ngForOf",e.mRoles),o(),m("ngIf",((E=e.itemForm.get("role_id"))==null?null:E.invalid)&&(((E=e.itemForm.get("role_id"))==null?null:E.dirty)||((E=e.itemForm.get("role_id"))==null?null:E.touched))),o(5),k("ngModel",e.item.status_id),m("ngClass",_(33,B,((F=e.itemForm.get("status_id"))==null?null:F.invalid)&&(((F=e.itemForm.get("status_id"))==null?null:F.dirty)||((F=e.itemForm.get("status_id"))==null?null:F.touched)))),o(3),m("ngForOf",e.mStatuses),o(),m("ngIf",((x=e.itemForm.get("status_id"))==null?null:x.invalid)&&(((x=e.itemForm.get("status_id"))==null?null:x.dirty)||((x=e.itemForm.get("status_id"))==null?null:x.touched))),o(5),k("ngModel",e.item.password),m("ngClass",_(35,B,((O=e.itemForm.get("password"))==null?null:O.invalid)&&(((O=e.itemForm.get("password"))==null?null:O.dirty)||((O=e.itemForm.get("password"))==null?null:O.touched)))),o(),m("ngIf",((R=e.itemForm.get("password"))==null?null:R.invalid)&&(((R=e.itemForm.get("password"))==null?null:R.dirty)||((R=e.itemForm.get("password"))==null?null:R.touched))),o(4),m("ngClass",_(37,B,((A=e.itemForm.get("reset_password"))==null?null:A.invalid)&&(((A=e.itemForm.get("reset_password"))==null?null:A.dirty)||((A=e.itemForm.get("reset_password"))==null?null:A.touched)))),o(3),m("ngIf",((D=e.itemForm.get("reset_password"))==null?null:D.invalid)&&(((D=e.itemForm.get("reset_password"))==null?null:D.dirty)||((D=e.itemForm.get("reset_password"))==null?null:D.touched))),o(4),m("disabled",e.itemForm.invalid)}},dependencies:[j,ae,W,H,z,Oe,Re,G,Ne,Be,U,$,Q,Y,J],encapsulation:2})};var Ye=Ke(Xe());var Nt=i=>({"is-invalid":i}),Lt=(i,r,t,e)=>({"bg-warning text-dark":i,"bg-primary":r,"bg-danger":t,"bg-secondary":e}),qt=(i,r)=>({active:i,disabled:r});function Bt(i,r){i&1&&u(0,"app-progress")}function Ot(i,r){i&1&&(l(0,"div"),a(1,"This field is required."),n())}function Rt(i,r){if(i&1&&(l(0,"div",28),p(1,Ot,2,0,"div",1),n()),i&2){let t=c();o(),m("ngIf",t.search_term.errors==null?null:t.search_term.errors.required)}}function At(i,r){if(i&1){let t=le();l(0,"tr")(1,"td"),a(2),n(),l(3,"td"),a(4),n(),l(5,"td"),a(6),L(7,"date"),n(),l(8,"td"),a(9),L(10,"date"),n(),l(11,"td"),a(12),L(13,"date"),n(),l(14,"td")(15,"span",32),a(16),n()(),l(17,"td"),a(18),L(19,"date"),n(),l(20,"td",33)(21,"button",34),u(22,"i",35),n(),l(23,"a",36),u(24,"i",37),n(),l(25,"button",38),I("click",function(){let d=ie(t).$implicit,s=c(2);return ne(s.onDelete(d))}),u(26,"i",39),n(),l(27,"div",40)(28,"div",41)(29,"div",42)(30,"div",43)(31,"h5",44),a(32),n(),u(33,"button",45),n(),l(34,"div",46)(35,"ol",47)(36,"li",48)(37,"div",49)(38,"div",50),a(39,"Parent:"),n()(),l(40,"span",51),a(41),n()(),l(42,"li",48)(43,"div",49)(44,"div",50),a(45,"Child:"),n()(),l(46,"span",51),a(47),n()(),l(48,"li",48)(49,"div",49)(50,"div",50),a(51,"Email Verified At:"),n()(),l(52,"span",51),a(53),L(54,"date"),n()(),l(55,"li",48)(56,"div",49)(57,"div",50),a(58,"Updated At:"),n()(),l(59,"span",51),a(60),L(61,"date"),n()()()(),l(62,"div",52)(63,"button",53),a(64,"Close"),n()()()()()()()}if(i&2){let t=r.$implicit,e=r.index;o(2),ge("",e+1,"."),o(2),g(t.title),o(2),g(q(7,17,t.scheduled_at)),o(3),g(q(10,19,t.started_at)),o(3),g(q(13,21,t.ended_at)),o(3),m("ngClass",Te(29,Lt,t.live_stream_status_id==1,t.live_stream_status_id==2,t.live_stream_status_id==4,t.live_stream_status_id==5)),o(),ge(" ",t.live_stream_status==null?null:t.live_stream_status.name,""),o(2),g(q(19,23,t.created_at)),o(3),_e("data-bs-target","#modal1"+t.id),o(2),Ee("routerLink","/live-stream/edit/",t.id,""),o(4),_e("id","modal1"+t.id),o(5),g(t.name),o(9),g(t.parent==null?null:t.parent.name),o(6),g(t.child==null?null:t.child.name),o(6),g(q(54,25,t.email_verified_at)),o(7),g(q(61,27,t.updated_at))}}function Dt(i,r){if(i&1&&(l(0,"div",29)(1,"table",30)(2,"thead")(3,"tr")(4,"th"),a(5,"#"),n(),l(6,"th"),a(7,"Title"),n(),l(8,"th"),a(9,"Scheduled At"),n(),l(10,"th"),a(11,"Started At"),n(),l(12,"th"),a(13,"Ended At"),n(),l(14,"th"),a(15,"Status"),n(),l(16,"th"),a(17,"Created"),n(),l(18,"th"),a(19,"Action"),n()()(),l(20,"tbody"),p(21,At,65,34,"tr",31),n()()()),i&2){let t=c();o(21),m("ngForOf",t.mItems)}}function jt(i,r){if(i&1){let t=le();l(0,"li",56)(1,"a",57),I("click",function(){let d=ie(t).$implicit,s=c(2);return ne(s.onChangePage(d.url))}),n()()}if(i&2){let t=r.$implicit;m("ngClass",Ie(2,qt,t.active,!t.url)),o(),m("innerHTML",t.label,Ce)}}function Wt(i,r){if(i&1&&(l(0,"div")(1,"ul",54),p(2,jt,2,5,"li",55),n()()),i&2){let t=c();o(2),m("ngForOf",t.links)}}function Ht(i,r){i&1&&(l(0,"p",58),a(1,"No items"),n())}var X=class i{constructor(r,t){this.mLiveStreamService=r;this.mToastrService=t}mItems=[];itemForm;search_term;mProgress=!1;links=[];ngOnInit(){this.index(),this.search_term=new qe("",v.required),this.itemForm=new Le({search_term:this.search_term})}index(){this.mProgress=!0,this.mProgress=!0,this.mLiveStreamService.allItems().subscribe({next:r=>{r&&(this.mItems=r.data,this.links=r.links,this.mProgress=!1)},error:r=>{r.error.message&&this.mToastrService.error(r.error.message),this.mProgress=!1}})}onChangePage(r){this.mProgress=!0,this.mLiveStreamService.paginateItems(r).subscribe({next:t=>{t&&(this.mItems=t.data,this.links=t.links,this.mProgress=!1)},error:t=>{t.error.message&&this.mToastrService.error(t.error.message),this.mProgress=!1}})}onDelete(r){Ye.default.mixin({customClass:{cancelButton:"btn btn-dark me-2",confirmButton:"btn btn-danger"},buttonsStyling:!1}).fire({title:"Remove?",text:"You won't be able to revert this!",icon:"error",showCancelButton:!0,reverseButtons:!0,cancelButtonText:"Cancel",confirmButtonText:"Delete"}).then(e=>{e.isConfirmed&&(this.mProgress=!0,this.mLiveStreamService.deleteItem(r).subscribe({next:d=>{d&&(this.mItems=this.mItems.filter(s=>s.id!==r.id),this.mToastrService.error(d.message),this.mProgress=!1)},error:d=>{d.error.message&&this.mToastrService.error(d.error.message),this.mProgress=!1}}))})}onSearch(r){this.mProgress=!0,this.mLiveStreamService.searchItems(r).subscribe({next:t=>{t&&(this.mItems=t.data,this.mToastrService.success(t.message),this.mProgress=!1)},error:t=>{t.error.message&&this.mToastrService.error(t.error.message),this.mProgress=!1}})}static \u0275fac=function(t){return new(t||i)(f(M),f(V))};static \u0275cmp=T({type:i,selectors:[["app-index"]],standalone:!1,decls:38,vars:9,consts:[["noItemsTemplate",""],[4,"ngIf"],[1,"app-content-header"],[1,"container-fluid"],[1,"row"],[1,"col-sm-6"],[1,"mb-0"],[1,"breadcrumb","float-sm-end"],[1,"breadcrumb-item"],["href","#"],["aria-current","page",1,"breadcrumb-item","active"],[1,"app-content"],[1,"col-lg-12","col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],["routerLink","/live-stream/create",1,"btn","btn-warning","btn-sm"],[1,"bi","bi-plus-circle-fill"],[1,"card-tools"],[3,"ngSubmit","formGroup"],[1,"input-group","input-group-sm",2,"width","150px"],["type","text","formControlName","search_term","placeholder","Search",1,"form-control","float-right",3,"ngClass"],[1,"input-group-append"],["type","submit",1,"btn","btn-primary"],[1,"bi","bi-search"],["class","invalid-feedback","type","alert",4,"ngIf"],[1,"card-body"],["class","table-responsive",4,"ngIf","ngIfElse"],["type","alert",1,"invalid-feedback"],[1,"table-responsive"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[1,"badge","rounded-pill",3,"ngClass"],[1,"text-nowrap"],["data-bs-toggle","modal",1,"btn","btn-outline-dark","btn-sm","me-1"],[1,"bi","bi-eye-fill"],[1,"btn","btn-dark","btn-sm","me-1",3,"routerLink"],[1,"bi","bi-pencil-fill"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"bi","bi-trash2-fill"],["data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-dialog-scrollable"],[1,"modal-content"],[1,"modal-header","bg-primary","text-white"],["id","staticBackdropLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"list-group"],[1,"list-group-item","d-flex","justify-content-between","align-items-start"],[1,"ms-2","me-auto"],[1,"fw-bold"],[1,"text-muted"],[1,"modal-footer","bg-dark"],["type","button","data-bs-dismiss","modal",1,"btn","btn-light","btn-sm"],[1,"pagination"],["class","page-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"page-item",3,"ngClass"],[1,"page-link",3,"click","innerHTML"],[1,"p-5","text-center","text-muted"]],template:function(t,e){if(t&1){let d=le();p(0,Bt,1,0,"app-progress",1),l(1,"section")(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h3",6),a(7,"Live Streams"),n()(),l(8,"div",5)(9,"ol",7)(10,"li",8)(11,"a",9),a(12,"Home"),n()(),l(13,"li",10),a(14,"Live Streams"),n()()()()()(),l(15,"div",11)(16,"div",3)(17,"div",4)(18,"div",12)(19,"div",13)(20,"div",14)(21,"div",15)(22,"a",16),u(23,"i",17),a(24," Create "),n()(),l(25,"div",18)(26,"form",19),I("ngSubmit",function(){return ie(d),ne(e.onSearch(e.itemForm.value))}),l(27,"div",20),u(28,"input",21),l(29,"div",22)(30,"button",23),u(31,"i",24),n()(),p(32,Rt,2,1,"div",25),n()()()(),l(33,"div",26),p(34,Dt,22,1,"div",27)(35,Wt,3,1,"div",1)(36,Ht,2,0,"ng-template",null,0,we),n()()()()()()()}if(t&2){let d=Fe(37);m("ngIf",e.mProgress),o(26),m("formGroup",e.itemForm),o(2),m("ngClass",_(7,Nt,e.search_term.invalid&&(e.search_term.dirty||e.search_term.touched))),o(4),m("ngIf",e.search_term.invalid&&(e.search_term.dirty||e.search_term.touched)),o(2),m("ngIf",e.mItems&&e.mItems.length>0)("ngIfElse",d),o(),m("ngIf",e.links)}},dependencies:[j,ae,W,H,z,G,U,$,Q,Y,J,Me],encapsulation:2})};var ue=class i{static \u0275fac=function(t){return new(t||i)};static \u0275cmp=T({type:i,selectors:[["app-show"]],standalone:!1,decls:2,vars:0,template:function(t,e){t&1&&(l(0,"p"),a(1,"show works!"),n())},encapsulation:2})};var Vt=[{path:"",redirectTo:"index",pathMatch:"full"},{path:"index",component:X,data:{title:"Index"}},{path:"create",component:se,data:{title:"Create"}},{path:"edit/:id",component:pe,data:{title:"Edit"}},{path:"show/:id",component:ue,data:{title:"Show"}},{path:"about",component:X,data:{title:"Index"}},{path:"my-playlist",component:X,data:{title:"Index"}}],ce=class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=re({type:i});static \u0275inj=te({imports:[oe,Z.forChild(Vt),Z]})};var Je=class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=re({type:i});static \u0275inj=te({imports:[oe,Z,Ae,De,Ve.forRoot(),ce,We]})};export{Je as LiveStreamModule};
