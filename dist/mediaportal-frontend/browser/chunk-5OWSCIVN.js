import{$ as h,F as O,Ha as k,L as p,M as K,P,ba as M,ca as N,da as I,g as C,j as d,l as v,o as H,oa as U,pa as F,q as E,u,v as b,z as W}from"./chunk-KOGPXGXW.js";import{a as y,b as D}from"./chunk-GAL4ENT6.js";function A(t,e,o,n){let i=window&&!!window.document&&window.document.documentElement,r=i&&e?window:o;if(t&&(r=t&&i&&typeof t=="string"?B(t,o.nativeElement,n):t,!r))throw new Error("ngx-infinite-scroll {resolveContainerElement()}: selector for");return r}function B(t,e,o){return(o?window.document:e).querySelector(t)}function g(t){return t&&!t.firstChange}function X(){return typeof window<"u"}var G={clientHeight:"clientHeight",offsetHeight:"offsetHeight",scrollHeight:"scrollHeight",pageYOffset:"pageYOffset",offsetTop:"offsetTop",scrollTop:"scrollTop",top:"top"},q={clientHeight:"clientWidth",offsetHeight:"offsetWidth",scrollHeight:"scrollWidth",pageYOffset:"pageXOffset",offsetTop:"offsetLeft",scrollTop:"scrollLeft",top:"left"},S=class{constructor(e=!0){this.vertical=e,this.propsMap=e?G:q}clientHeightKey(){return this.propsMap.clientHeight}offsetHeightKey(){return this.propsMap.offsetHeight}scrollHeightKey(){return this.propsMap.scrollHeight}pageYOffsetKey(){return this.propsMap.pageYOffset}offsetTopKey(){return this.propsMap.offsetTop}scrollTopKey(){return this.propsMap.scrollTop}topKey(){return this.propsMap.top}};function Z(t,e,o){return!!(t&&e||!o&&e)}function J({windowElement:t,axis:e}){return Q({axis:e,isWindow:_(t)},t)}function Q(t,e){let o=t.isWindow||e&&!e.nativeElement?e:e.nativeElement;return D(y({},t),{container:o})}function _(t){return["Window","global"].some(o=>Object.prototype.toString.call(t).includes(o))}function T(t,e){return t?e.document.documentElement:null}function z(t,e){let o=et(e);return e.isWindow?$(o,t,e):tt(o,t,e)}function $(t,e,o){let{axis:n,container:i,isWindow:r}=o,{offsetHeightKey:l,clientHeightKey:c}=R(n),a=t+x(T(r,i),n,r),s=Y(e.nativeElement,r,l,c),f=ot(e.nativeElement,n,r)+s;return{height:t,scrolled:a,totalToScroll:f,isWindow:r}}function tt(t,e,o){let{axis:n,container:i}=o,r=i[n.scrollTopKey()],l=i[n.scrollHeightKey()];return{height:t,scrolled:r,totalToScroll:l,isWindow:!1}}function R(t){return{offsetHeightKey:t.offsetHeightKey(),clientHeightKey:t.clientHeightKey()}}function et({container:t,isWindow:e,axis:o}){let{offsetHeightKey:n,clientHeightKey:i}=R(o);return Y(t,e,n,i)}function Y(t,e,o,n){if(isNaN(t[o])){let i=T(e,t);return i?i[n]:0}else return t[o]}function ot(t,e,o){let n=e.topKey();if(t.getBoundingClientRect)return t.getBoundingClientRect()[n]+x(t,e,o)}function x(t,e,o){let n=e.pageYOffsetKey(),i=e.scrollTopKey(),r=e.offsetTopKey();return isNaN(window.pageYOffset)?T(o,t)[i]:t.ownerDocument?t.ownerDocument.defaultView[n]:t[r]}function nt(t,e={down:0,up:0},o){let n,i;if(t.totalToScroll<=0)return!1;let r=t.isWindow?t.scrolled:t.height+t.scrolled;if(o)n=(t.totalToScroll-r)/t.totalToScroll,i=(e?.down?e.down:0)/10;else{let c=t.scrolled+(t.totalToScroll-r);n=t.scrolled/c,i=(e?.up?e.up:0)/10}return n<=i}function it(t,e){return t<e.scrolled}function rt(t,e,o){let n=it(t,e);return{fire:nt(e,o,n),scrollDown:n}}var m=class{constructor(e){this.lastScrollPosition=0,this.lastTotalToScroll=0,this.totalToScroll=0,this.triggered={down:0,up:0},Object.assign(this,e)}updateScrollPosition(e){return this.lastScrollPosition=e}updateTotalToScroll(e){this.lastTotalToScroll!==e&&(this.lastTotalToScroll=this.totalToScroll,this.totalToScroll=e)}updateScroll(e,o){this.updateScrollPosition(e),this.updateTotalToScroll(o)}updateTriggeredFlag(e,o){o?this.triggered.down=e:this.triggered.up=e}isTriggeredScroll(e,o){return o?this.triggered.down===e:this.triggered.up===e}};function lt(t){let{scrollContainer:e,scrollWindow:o,element:n,fromRoot:i}=t,r=J({axis:new S(!t.horizontal),windowElement:A(e,o,n,i)}),l=new m({totalToScroll:z(n,r).totalToScroll}),c={container:r.container,throttle:t.throttle},a={up:t.upDistance,down:t.downDistance};return st(c).pipe(v(()=>C(z(n,r))),d(s=>ct(l.lastScrollPosition,s,a)),u(({stats:s})=>l.updateScroll(s.scrolled,s.totalToScroll)),E(({fire:s,scrollDown:f,stats:{totalToScroll:L}})=>Z(t.alwaysCallback,s,l.isTriggeredScroll(L,f))),u(({scrollDown:s,stats:{totalToScroll:f}})=>{l.updateTriggeredFlag(f,s)}),d(at))}function st(t){let e=H(t.container,"scroll");return t.throttle&&(e=e.pipe(b(t.throttle,void 0,{leading:!0,trailing:!0}))),e}function ct(t,e,o){let{scrollDown:n,fire:i}=rt(t,e,o);return{scrollDown:n,fire:i,stats:e}}var w={DOWN:"[NGX_ISE] DOWN",UP:"[NGX_ISE] UP"};function at(t){let{scrollDown:e,stats:{scrolled:o}}=t;return{type:e?w.DOWN:w.UP,payload:{currentScrollPosition:o}}}var wt=(()=>{class t{constructor(o,n){this.element=o,this.zone=n,this.scrolled=new p,this.scrolledUp=new p,this.infiniteScrollDistance=2,this.infiniteScrollUpDistance=1.5,this.infiniteScrollThrottle=150,this.infiniteScrollDisabled=!1,this.infiniteScrollContainer=null,this.scrollWindow=!0,this.immediateCheck=!1,this.horizontal=!1,this.alwaysCallback=!1,this.fromRoot=!1}ngAfterViewInit(){this.infiniteScrollDisabled||this.setup()}ngOnChanges({infiniteScrollContainer:o,infiniteScrollDisabled:n,infiniteScrollDistance:i}){let r=g(o),l=g(n),c=g(i),a=!l&&!this.infiniteScrollDisabled||l&&!n.currentValue||c;(r||l||c)&&(this.destroyScroller(),a&&this.setup())}ngOnDestroy(){this.destroyScroller()}setup(){X()&&this.zone.runOutsideAngular(()=>{this.disposeScroller=lt({fromRoot:this.fromRoot,alwaysCallback:this.alwaysCallback,disable:this.infiniteScrollDisabled,downDistance:this.infiniteScrollDistance,element:this.element,horizontal:this.horizontal,scrollContainer:this.infiniteScrollContainer,scrollWindow:this.scrollWindow,throttle:this.infiniteScrollThrottle,upDistance:this.infiniteScrollUpDistance}).subscribe(o=>this.handleOnScroll(o))})}handleOnScroll({type:o,payload:n}){let i=o===w.DOWN?this.scrolled:this.scrolledUp;ft(i)&&this.zone.run(()=>i.emit(n))}destroyScroller(){this.disposeScroller&&this.disposeScroller.unsubscribe()}static{this.\u0275fac=function(n){return new(n||t)(h(P),h(K))}}static{this.\u0275dir=I({type:t,selectors:[["","infiniteScroll",""],["","infinite-scroll",""],["","data-infinite-scroll",""]],inputs:{infiniteScrollDistance:"infiniteScrollDistance",infiniteScrollUpDistance:"infiniteScrollUpDistance",infiniteScrollThrottle:"infiniteScrollThrottle",infiniteScrollDisabled:"infiniteScrollDisabled",infiniteScrollContainer:"infiniteScrollContainer",scrollWindow:"scrollWindow",immediateCheck:"immediateCheck",horizontal:"horizontal",alwaysCallback:"alwaysCallback",fromRoot:"fromRoot"},outputs:{scrolled:"scrolled",scrolledUp:"scrolledUp"},features:[O]})}}return t})();function ft(t){return t.observed??t.observers.length>0}var Tt=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=N({type:t})}static{this.\u0275inj=W({})}}return t})();var j=class t{static \u0275fac=function(o){return new(o||t)};static \u0275cmp=M({type:t,selectors:[["app-loader"]],decls:4,vars:0,consts:[[1,"text-center"],["role","status",1,"spinner-border","text-warning"],[1,"visually-hidden"]],template:function(o,n){o&1&&(U(0,"div",0)(1,"div",1)(2,"span",2),k(3,"Loading..."),F()()())},encapsulation:2})};export{j as a,wt as b,Tt as c};
