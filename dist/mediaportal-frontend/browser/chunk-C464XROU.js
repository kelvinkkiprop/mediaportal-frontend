import{a as Et,b as wt}from"./chunk-3SVFJR7X.js";import{a as It}from"./chunk-2FNF3N7S.js";import{a as Lt}from"./chunk-47TLDLVH.js";import{b as ft,c as Q,e as x,f as X,g as Y,h as Le,i as Re,j as ht,k as J,m as K,n as ee,o as Ne,p as De,q as je,r as te,s as _t,t as bt}from"./chunk-YIOSBDZK.js";import{h as E,j as T}from"./chunk-BHYX23KN.js";import{a as yt,b as Ct,c as f,d as St,e as w,h as xt}from"./chunk-WR3IQ3PA.js";import{$ as v,Aa as N,B as z,Ba as lt,Bb as Te,C as Xe,Ca as mt,Da as st,Ea as dt,F as et,Fa as pt,G as O,Ga as B,H as P,Ha as l,Ia as g,Ja as h,Ka as ct,La as D,M as tt,Ma as j,N as it,Na as H,O as b,Pa as Fe,Q as nt,Qa as I,R as rt,Ra as Oe,Sa as Ye,Ua as ae,V as ye,W as V,Wa as oe,X as o,Xa as G,aa as at,ba as S,ca as Ce,e as Ke,fa as c,fb as M,gb as L,hb as F,i as Ae,ja as m,jb as ut,ka as re,kb as Pe,la as ot,lb as vt,oa as a,pa as r,qa as p,rb as Se,ta as U,va as C,vb as xe,wa as u,xb as q,y as _e,yb as R,z as be,za as Me,zb as gt}from"./chunk-KOGPXGXW.js";import{f as Pt,g as ke}from"./chunk-GAL4ENT6.js";var He=class n{constructor(i,e){this.mAppContextService=i;this.http=e}createItem(i){let e=`${f.base_url}/upload`;return this.http.post(e,i)}initUpload(i,e){let t=`${f.base_url}/upload/init`;return this.http.post(t,{filename:i,title:e})}uploadChunk(i,e,t){let s=new FormData;s.append("uploadId",i),s.append("chunkIndex",e.toString()),s.append("file",t,`chunk_${e}`);let d=`${f.base_url}/upload/chunk`;return this.http.post(d,s,{reportProgress:!0,observe:"events"})}completeUpload(i,e,t,s){let d=`${f.base_url}/upload/complete`;return this.http.post(d,{uploadId:i,totalChunks:e,title:t,description:s})}static \u0275fac=function(e){return new(e||n)(z(w),z(Se))};static \u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})};var Nt=n=>({"is-invalid":n});function Dt(n,i){n&1&&p(0,"app-progress")}function jt(n,i){n&1&&(a(0,"p"),l(1,"Drag & drop a video here, or click to select"),r())}function Ht(n,i){if(n&1&&(a(0,"p"),l(1),r()),n&2){let e=u();o(),h("Selected: ",e.selectedFile.name,"")}}function Ut(n,i){n&1&&(a(0,"div"),l(1,"This field is required."),r())}function Bt(n,i){if(n&1&&(a(0,"div",31),c(1,Ut,2,0,"div",1),r()),n&2){let e,t=u();o(),m("ngIf",(e=t.itemForm.get("title"))==null||e.errors==null?null:e.errors.required)}}function qt(n,i){if(n&1&&(a(0,"div")(1,"div",32)(2,"div",33),l(3),r()()()),n&2){let e=u();o(2),re("width",e.progress,"%"),o(),h("",e.progress,"%")}}function $t(n,i){n&1&&(a(0,"a",34),l(1,"Run in Background"),r())}var Ue=class n{constructor(i,e,t,s){this.mToastrService=i;this.mUploadService=e;this.fb=t;this.router=s;this.itemForm=this.fb.group({title:["",x.required]})}itemForm;mProgress=!1;selectedFile=null;progress=0;isDragging=!1;ngOnInit(){}onSubmit(i){this.mProgress=!0,this.upload(i.title,i.description)}onDragOver(i){i.preventDefault(),this.isDragging=!0}onDragLeave(i){i.preventDefault(),this.isDragging=!1}onDrop(i){i.preventDefault(),this.isDragging=!1,i.dataTransfer?.files.length&&(this.selectedFile=i.dataTransfer.files[0])}onFileSelected(i){this.selectedFile=i.target.files[0]}upload(i,e){return ke(this,null,function*(){if(!this.selectedFile||this.itemForm.invalid){this.mToastrService.error("Please fill out all fields and select a file.");return}let t=5*1024*1024,s=Math.ceil(this.selectedFile.size/t),_=(yield Ae(this.mUploadService.initUpload(this.selectedFile.name,i))).uploadId;for(let y=0;y<s;y++){let $=y*t,W=Math.min($+t,this.selectedFile.size),Z=this.selectedFile.slice($,W);yield Ae(this.mUploadService.uploadChunk(_,y,Z).pipe()),this.mProgress=!1,this.progress=Math.round((y+1)/s*100)}yield Ae(this.mUploadService.completeUpload(_,s,i)),this.mToastrService.success("Media uploaded complete!"),this.router.navigateByUrl("/media")})}static \u0275fac=function(e){return new(e||n)(v(E),v(He),v(te),v(q))};static \u0275cmp=S({type:n,selectors:[["app-create"]],hostBindings:function(e,t){e&1&&C("dragover",function(d){return t.onDragOver(d)})("dragleave",function(d){return t.onDragLeave(d)})("drop",function(d){return t.onDrop(d)})},standalone:!1,decls:49,vars:14,consts:[["fileInput",""],[4,"ngIf"],[1,"app-content-header"],[1,"container-fluid"],[1,"row"],[1,"col-sm-6"],[1,"mb-0"],[1,"breadcrumb","float-sm-end"],[1,"breadcrumb-item"],["href","#"],["aria-current","page",1,"breadcrumb-item"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-lg-12","col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-tools"],[1,"card-body"],[3,"ngSubmit","formGroup"],[1,"row","mb-3"],[1,"col-md-12"],[1,"mb-3"],[1,"dropzone"],["type","file","hidden","","accept","video/*",3,"change"],["type","button",1,"btn","btn-light","btn-sm",3,"click"],["for","title",1,"form-label","required"],["type","text","formControlName","title",1,"form-control",3,"ngModel","ngClass"],["class","invalid-feedback d-block","role","alert",4,"ngIf"],[1,"text-end"],["routerLink","/my-media","class","btn btn-warning  me-1",4,"ngIf"],["type","submit",1,"btn","btn-primary",3,"disabled"],["role","alert",1,"invalid-feedback","d-block"],[1,"progress"],["role","progressbar","aria-valuenow","25","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-warning","progress-bar-striped","progress-bar-animated"],["routerLink","/my-media",1,"btn","btn-warning","me-1"]],template:function(e,t){if(e&1){let s=U();c(0,Dt,1,0,"app-progress",1),a(1,"section")(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h3",6),l(7,"Media"),r()(),a(8,"div",5)(9,"ol",7)(10,"li",8)(11,"a",9),l(12,"Home"),r()(),a(13,"li",10),l(14,"Media"),r(),a(15,"li",11),l(16,"Create"),r()()()()(),a(17,"div",4)(18,"div",12)(19,"div",13)(20,"div",14)(21,"div",15),l(22," Create Media "),r(),p(23,"div",16),r(),a(24,"div",17)(25,"form",18),C("ngSubmit",function(){return O(s),P(t.onSubmit(t.itemForm.value))}),a(26,"div",19)(27,"div",20)(28,"div",21)(29,"div",22),c(30,jt,2,0,"p",1)(31,Ht,2,1,"p",1),a(32,"input",23,0),C("change",function(_){return O(s),P(t.onFileSelected(_))}),r(),a(34,"button",24),C("click",function(){O(s);let _=B(33);return P(_.click())}),l(35,"Choose File"),r()()()(),a(36,"div",20)(37,"div",21)(38,"label",25),l(39,"Title:"),r(),p(40,"input",26),c(41,Bt,2,1,"div",27),r()(),a(42,"div",20)(43,"div",21),c(44,qt,4,3,"div",1),r()()(),a(45,"div",28),c(46,$t,2,0,"a",29),a(47,"button",30),l(48,"Submit"),r()()()()()()()()()}if(e&2){let s,d;m("ngIf",t.mProgress),o(25),m("formGroup",t.itemForm),o(4),ot("dragging",t.isDragging),o(),m("ngIf",!t.selectedFile),o(),m("ngIf",t.selectedFile),o(9),m("ngModel",t.selectedFile==null?null:t.selectedFile.name)("ngClass",I(12,Nt,((s=t.itemForm.get("title"))==null?null:s.invalid)&&(((s=t.itemForm.get("title"))==null?null:s.dirty)||((s=t.itemForm.get("title"))==null?null:s.touched)))),o(),m("ngIf",((d=t.itemForm.get("title"))==null?null:d.invalid)&&(((d=t.itemForm.get("title"))==null?null:d.dirty)||((d=t.itemForm.get("title"))==null?null:d.touched))),o(3),m("ngIf",t.progress>0),o(2),m("ngIf",t.progress>0),o(),m("disabled",!t.selectedFile||t.itemForm.invalid)}},dependencies:[M,F,R,J,Q,X,Y,K,ee,T],styles:[".dropzone[_ngcontent-%COMP%]{border:2px dashed #bbb;border-radius:8px;padding:40px;text-align:center;cursor:pointer;transition:.2s}.dropzone.dragging[_ngcontent-%COMP%]{background-color:#eef6ff;border-color:#3b82f6}"]})};var A=class n{constructor(i,e){this.mAppContextService=i;this.http=e}allItems(){let i=`${f.base_url}/media`;return this.http.get(i,this.mAppContextService.getHttpOptions())}createItem(i){let e=`${f.base_url}/media`;return this.http.post(e,i,this.mAppContextService.getHttpOptions())}getOneItem(i){let e=`${f.base_url}/media/${i}`;return this.http.get(e,this.mAppContextService.getHttpOptions())}updateItem(i){let e=`${f.base_url}/media/${i.id}`;return this.http.put(e,i,this.mAppContextService.getHttpOptions())}deleteItem(i){let e=`${f.base_url}/media/${i.id}`;return this.http.delete(e,this.mAppContextService.getHttpOptions())}paginateItems(i){return this.http.get(i,this.mAppContextService.getHttpOptions())}unpaginatedItems(){let i=`${f.base_url}/unpaginated-items-media`;return this.http.get(i,this.mAppContextService.getHttpOptions())}searchItems(i){let e=`${f.base_url}/search-media`;return this.http.post(e,i,this.mAppContextService.getHttpOptions())}myMedia(i){let e=`${f.base_url}/my-media/${i}`;return this.http.get(e,this.mAppContextService.getHttpOptions())}likedMediaItems(){let i=`${f.base_url}/liked-media`;return this.http.get(i,this.mAppContextService.getHttpOptions())}historyMediaItems(){let i=`${f.base_url}/history-media`;return this.http.get(i,this.mAppContextService.getHttpOptions())}reactItem(i){let e=`${f.base_url}/media/${i.id}/react`;return this.http.post(e,i,this.mAppContextService.getHttpOptions())}commentItem(i){let e=`${f.base_url}/media/${i.id}/comment`;return this.http.post(e,i,this.mAppContextService.getHttpOptions())}processItem(i){let e=`${f.base_url}/media/${i.id}/process`;return this.http.post(e,i,this.mAppContextService.getHttpOptions())}upload(i){let e=`${f.base_url}/upload`;return this.http.post(e,i)}initUpload(i,e){let t=`${f.base_url}/upload/init`;return this.http.post(t,{filename:i,title:e})}uploadChunk(i,e,t){let s=new FormData;s.append("uploadId",i),s.append("chunkIndex",e.toString()),s.append("file",t,`chunk_${e}`);let d=`${f.base_url}/upload/chunk`;return this.http.post(d,s,{reportProgress:!0,observe:"events"})}completeUpload(i,e,t,s){let d=`${f.base_url}/upload/complete`;return this.http.post(d,{uploadId:i,totalChunks:e,title:t,description:s})}static \u0275fac=function(e){return new(e||n)(z(w),z(Se))};static \u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})};var de=n=>({"is-invalid":n}),zt=()=>({height:"150px"});function Vt(n,i){n&1&&p(0,"app-progress")}function Wt(n,i){n&1&&(a(0,"div"),l(1,"This field is required."),r())}function Zt(n,i){if(n&1&&(a(0,"div",46),c(1,Wt,2,0,"div",0),r()),n&2){let e,t=u();o(),m("ngIf",(e=t.itemForm.get("title"))==null||e.errors==null?null:e.errors.required)}}function Gt(n,i){n&1&&(a(0,"div"),l(1,"This field is required."),r())}function Qt(n,i){if(n&1&&(a(0,"div",46),c(1,Gt,2,0,"div",0),r()),n&2){let e,t=u();o(),m("ngIf",(e=t.itemForm.get("description"))==null||e.errors==null?null:e.errors.required)}}function Xt(n,i){n&1&&(a(0,"div"),l(1,"This field is required."),r())}function Yt(n,i){if(n&1&&(a(0,"div",46),c(1,Xt,2,0,"div",0),r()),n&2){let e,t=u();o(),m("ngIf",(e=t.itemForm.get("date_produced"))==null||e.errors==null?null:e.errors.required)}}function Jt(n,i){if(n&1){let e=U();a(0,"div",47)(1,"div",48)(2,"input",49),C("change",function(s){let d=O(e).$implicit,_=u();return P(_.onCategoryChange(s,d.id))}),r(),a(3,"label",50),l(4),r()()()}if(n&2){let e=i.$implicit;o(2),m("id","category_"+e.id)("value",e.id),o(),m("for","category_"+e.id),o(),g(e.name)}}function Kt(n,i){n&1&&(a(0,"div"),l(1,"This field is required."),r())}function ei(n,i){if(n&1&&(a(0,"div",46),c(1,Kt,2,0,"div",0),r()),n&2){let e,t=u();o(),m("ngIf",(e=t.itemForm.get("tags"))==null||e.errors==null?null:e.errors.required)}}function ti(n,i){if(n&1&&(a(0,"option",51),l(1),r()),n&2){let e=i.$implicit;Me("value",e.id),o(),g(e.name)}}function ii(n,i){n&1&&(a(0,"div"),l(1,"This field is required."),r())}function ni(n,i){if(n&1&&(a(0,"div",52),c(1,ii,2,0,"div",0),r()),n&2){let e,t=u();o(),m("ngIf",(e=t.itemForm.get("type_id"))==null||e.errors==null?null:e.errors.required)}}function ri(n,i){if(n&1&&(a(0,"option",51),l(1),r()),n&2){let e=i.$implicit;Me("value",e.id),o(),g(e.name)}}function ai(n,i){n&1&&(a(0,"div"),l(1,"This field is required."),r())}function oi(n,i){if(n&1&&(a(0,"div",52),c(1,ai,2,0,"div",0),r()),n&2){let e,t=u();o(),m("ngIf",(e=t.itemForm.get("organization_id"))==null||e.errors==null?null:e.errors.required)}}function li(n,i){n&1&&(a(0,"div"),l(1,"This field is required."),r())}function mi(n,i){if(n&1&&(a(0,"div",46),c(1,li,2,0,"div",0),r()),n&2){let e,t=u();o(),m("ngIf",(e=t.itemForm.get("allow_comments"))==null||e.errors==null?null:e.errors.required)}}var Be=class n{constructor(i,e,t,s,d){this.mToastrService=i;this.mMediaService=e;this.fb=t;this.router=s;this.route=d;this.itemForm=this.fb.group({title:["",x.required],description:["",x.required],date_produced:["",x.required],category_id:["",x.nullValidator],tags:["",x.nullValidator],type_id:["",x.required],organization_id:["",x.required],allow_comments:[!1,x.nullValidator]})}mContentCategories;mMediaTypes;mOrganizations;mSelectedCategories=[];itemForm;mProgress=!1;id;item={};ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),this.mProgress=!0,this.mMediaService.getOneItem(this.id).subscribe({next:i=>{i&&(this.item=i,this.mProgress=!1)},error:i=>{i.error.message&&this.mToastrService.error(i.error.message),this.mProgress=!1}}),this.index()}index(){this.mProgress=!0,this.mMediaService.unpaginatedItems().subscribe({next:i=>{i&&(this.mContentCategories=i.data.content_categories,this.mMediaTypes=i.data.media_types,this.mOrganizations=i.data.organizations,this.mProgress=!1)},error:i=>{i.error.message&&this.mToastrService.error(i.error.message),this.mProgress=!1}})}onSubmit(i){let e={id:this.id,title:i.title,description:i.description,date_produced:i.date_produced,category_id:this.mSelectedCategories,tags:i.tags,type_id:i.type_id,organization_id:i.organization_id,allow_comments:i.allow_comments};this.mProgress=!0,this.mMediaService.updateItem(e).subscribe({next:t=>{t&&(this.mToastrService.success(t.message),this.router.navigateByUrl("/media"),this.mProgress=!1)},error:t=>{t.error.message&&this.mToastrService.error(t.error.message),this.mProgress=!1}})}onCategoryChange(i,e){if(i.target.checked)this.mSelectedCategories.push(e);else{let t=this.mSelectedCategories.indexOf(e);t>-1&&this.mSelectedCategories.splice(t,1)}}static \u0275fac=function(e){return new(e||n)(v(E),v(A),v(te),v(q),v(xe))};static \u0275cmp=S({type:n,selectors:[["app-edit"]],standalone:!1,decls:90,vars:43,consts:[[4,"ngIf"],[1,"app-content-header"],[1,"container-fluid"],[1,"row"],[1,"col-sm-6"],[1,"mb-0"],[1,"breadcrumb","float-sm-end"],[1,"breadcrumb-item"],["href","#"],["aria-current","page",1,"breadcrumb-item"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-lg-12","col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-tools"],[1,"card-body"],[3,"ngSubmit","formGroup"],[1,"row","mb-3"],[1,"col-md-12"],[1,"mb-3"],["for","title",1,"form-label","required"],["type","text","formControlName","title",1,"form-control",3,"ngModel","ngClass"],["class","invalid-feedback d-block","role","alert",4,"ngIf"],["for","description",1,"form-label","required"],["formControlName","description",1,"w-100",3,"ngModelChange","ngModel","styles","ngClass"],["for","date_produced",1,"form-label","required"],["type","datetime-local","formControlName","date_produced",1,"form-control",3,"ngModelChange","ngModel","ngClass"],[1,"form-label","required"],["class","col-6 col-md-3",4,"ngFor","ngForOf"],["for","tags",1,"form-label","required"],["type","text","formControlName","tags",1,"form-control",3,"ngModelChange","ngModel","ngClass"],[1,"col-md-6"],["for","type_id",1,"form-label","required"],["formControlName","type_id",1,"form-select",3,"ngModelChange","ngModel","ngClass"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback d-block1","role","alert",4,"ngIf"],["for","organization_id",1,"form-label","required"],["formControlName","organization_id",1,"form-select",3,"ngModelChange","ngModel","ngClass"],[1,"form-check","d-inline-block"],["type","checkbox","formControlName","allow_comments",1,"form-check-input",3,"ngModelChange","ngModel","ngClass"],["for","allow_comments"],[1,"text-end"],["routerLink","/media",1,"btn","btn-warning","me-1"],["type","submit",1,"btn","btn-primary",3,"disabled"],["role","alert",1,"invalid-feedback","d-block"],[1,"col-6","col-md-3"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"change","id","value"],[1,"form-check-label",3,"for"],[3,"value"],["role","alert",1,"invalid-feedback","d-block1"]],template:function(e,t){if(e&1&&(c(0,Vt,1,0,"app-progress",0),a(1,"section")(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"h3",5),l(7,"Media"),r()(),a(8,"div",4)(9,"ol",6)(10,"li",7)(11,"a",8),l(12,"Home"),r()(),a(13,"li",9),l(14,"Media"),r(),a(15,"li",10),l(16,"Create"),r()()()()(),a(17,"div",3)(18,"div",11)(19,"div",12)(20,"div",13)(21,"div",14),l(22," Create Media "),r(),p(23,"div",15),r(),a(24,"div",16)(25,"form",17),C("ngSubmit",function(){return t.onSubmit(t.itemForm.value)}),a(26,"div",18)(27,"div",19)(28,"div",20)(29,"label",21),l(30,"Title:"),r(),p(31,"input",22),c(32,Zt,2,1,"div",23),r()(),a(33,"div",19)(34,"div",20)(35,"label",24),l(36,"Description:"),r(),a(37,"quill-editor",25),H("ngModelChange",function(d){return j(t.item.description,d)||(t.item.description=d),d}),r(),c(38,Qt,2,1,"div",23),r()(),a(39,"div",19)(40,"div",20)(41,"label",26),l(42,"Date Produced:"),r(),a(43,"input",27),H("ngModelChange",function(d){return j(t.item.date_produced,d)||(t.item.date_produced=d),d}),r(),c(44,Yt,2,1,"div",23),r()(),a(45,"div",19)(46,"div",20)(47,"label",28),l(48,"Category:"),r(),a(49,"div",3),c(50,Jt,5,4,"div",29),r()()(),a(51,"div",19)(52,"div",20)(53,"label",30),l(54,"Tags "),a(55,"small"),l(56,"- a comma separated list of tags"),r(),l(57,":"),r(),a(58,"input",31),H("ngModelChange",function(d){return j(t.item.tags,d)||(t.item.tags=d),d}),r(),c(59,ei,2,1,"div",23),r()(),a(60,"div",32)(61,"div",20)(62,"label",33),l(63,"Type:"),r(),a(64,"select",34),H("ngModelChange",function(d){return j(t.item.type_id,d)||(t.item.type_id=d),d}),a(65,"option",35),l(66,"--- Select type ---"),r(),c(67,ti,2,2,"option",36),r(),c(68,ni,2,1,"div",37),r()(),a(69,"div",32)(70,"div",20)(71,"label",38),l(72,"Organization:"),r(),a(73,"select",39),H("ngModelChange",function(d){return j(t.item.organization_id,d)||(t.item.organization_id=d),d}),a(74,"option",35),l(75,"--- Select organization ---"),r(),c(76,ri,2,2,"option",36),r(),c(77,oi,2,1,"div",37),r()(),a(78,"div",19)(79,"div",20)(80,"div",40)(81,"input",41),H("ngModelChange",function(d){return j(t.item.allow_comments,d)||(t.item.allow_comments=d),d}),r(),a(82,"label",42),l(83," Allow comments"),r(),c(84,mi,2,1,"div",23),r()()()(),a(85,"div",43)(86,"a",44),l(87,"Cancel"),r(),a(88,"button",45),l(89,"Submit"),r()()()()()()()()()),e&2){let s,d,_,y,$,W,Z,pe,ce,ue,ve,ge,fe,he;m("ngIf",t.mProgress),o(25),m("formGroup",t.itemForm),o(6),m("ngModel",t.item.title)("ngClass",I(28,de,((s=t.itemForm.get("title"))==null?null:s.invalid)&&(((s=t.itemForm.get("title"))==null?null:s.dirty)||((s=t.itemForm.get("title"))==null?null:s.touched)))),o(),m("ngIf",((d=t.itemForm.get("title"))==null?null:d.invalid)&&(((d=t.itemForm.get("title"))==null?null:d.dirty)||((d=t.itemForm.get("title"))==null?null:d.touched))),o(5),D("ngModel",t.item.description),m("styles",Fe(30,zt))("ngClass",I(31,de,((_=t.itemForm.get("description"))==null?null:_.invalid)&&(((_=t.itemForm.get("description"))==null?null:_.dirty)||((_=t.itemForm.get("description"))==null?null:_.touched)))),o(),m("ngIf",((y=t.itemForm.get("description"))==null?null:y.invalid)&&(((y=t.itemForm.get("description"))==null?null:y.dirty)||((y=t.itemForm.get("description"))==null?null:y.touched))),o(5),D("ngModel",t.item.date_produced),m("ngClass",I(33,de,(($=t.itemForm.get("date_produced"))==null?null:$.invalid)&&((($=t.itemForm.get("date_produced"))==null?null:$.dirty)||(($=t.itemForm.get("date_produced"))==null?null:$.touched)))),o(),m("ngIf",((W=t.itemForm.get("date_produced"))==null?null:W.invalid)&&(((W=t.itemForm.get("date_produced"))==null?null:W.dirty)||((W=t.itemForm.get("date_produced"))==null?null:W.touched))),o(6),m("ngForOf",t.mContentCategories),o(8),D("ngModel",t.item.tags),m("ngClass",I(35,de,((Z=t.itemForm.get("tags"))==null?null:Z.invalid)&&(((Z=t.itemForm.get("tags"))==null?null:Z.dirty)||((Z=t.itemForm.get("tags"))==null?null:Z.touched)))),o(),m("ngIf",((pe=t.itemForm.get("tags"))==null?null:pe.invalid)&&(((pe=t.itemForm.get("tags"))==null?null:pe.dirty)||((pe=t.itemForm.get("tags"))==null?null:pe.touched))),o(5),D("ngModel",t.item.type_id),m("ngClass",I(37,de,((ce=t.itemForm.get("type_id"))==null?null:ce.invalid)&&(((ce=t.itemForm.get("type_id"))==null?null:ce.dirty)||((ce=t.itemForm.get("type_id"))==null?null:ce.touched)))),o(3),m("ngForOf",t.mMediaTypes),o(),m("ngIf",((ue=t.itemForm.get("type_id"))==null?null:ue.invalid)&&(((ue=t.itemForm.get("type_id"))==null?null:ue.dirty)||((ue=t.itemForm.get("type_id"))==null?null:ue.touched))),o(5),D("ngModel",t.item.organization_id),m("ngClass",I(39,de,((ve=t.itemForm.get("organization_id"))==null?null:ve.invalid)&&(((ve=t.itemForm.get("organization_id"))==null?null:ve.dirty)||((ve=t.itemForm.get("organization_id"))==null?null:ve.touched)))),o(3),m("ngForOf",t.mOrganizations),o(),m("ngIf",((ge=t.itemForm.get("organization_id"))==null?null:ge.invalid)&&(((ge=t.itemForm.get("organization_id"))==null?null:ge.dirty)||((ge=t.itemForm.get("organization_id"))==null?null:ge.touched))),o(4),D("ngModel",t.item.allow_comments),m("ngClass",I(41,de,((fe=t.itemForm.get("allow_comments"))==null?null:fe.invalid)&&(((fe=t.itemForm.get("allow_comments"))==null?null:fe.dirty)||((fe=t.itemForm.get("allow_comments"))==null?null:fe.touched)))),o(3),m("ngIf",((he=t.itemForm.get("allow_comments"))==null?null:he.invalid)&&(((he=t.itemForm.get("allow_comments"))==null?null:he.dirty)||((he=t.itemForm.get("allow_comments"))==null?null:he.touched))),o(4),m("disabled",t.itemForm.invalid)}},dependencies:[M,L,F,R,J,De,je,Q,ft,Ne,X,Y,K,ee,Et,T],encapsulation:2})};var kt=Pt(Lt());var qe=class n{constructor(i,e){this.mAppContextService=i;this.http=e}allItems(){let i=`${f.base_url}/reports`;return this.http.get(i,this.mAppContextService.getHttpOptions())}createItem(i){let e=`${f.base_url}/reports`;return this.http.post(e,i,this.mAppContextService.getHttpOptions())}getOneItem(i){let e=`${f.base_url}/reports/${i}`;return this.http.get(e,this.mAppContextService.getHttpOptions())}updateItem(i){let e=`${f.base_url}/reports/${i.id}`;return this.http.put(e,i,this.mAppContextService.getHttpOptions())}deleteItem(i){let e=`${f.base_url}/reports/${i.id}`;return this.http.delete(e,this.mAppContextService.getHttpOptions())}paginateItems(i){return this.http.get(i,this.mAppContextService.getHttpOptions())}unpaginatedItems(){let i=`${f.base_url}/unpaginated-items-reports`;return this.http.get(i,this.mAppContextService.getHttpOptions())}searchItems(i){let e=`${f.base_url}/search-reports`;return this.http.post(e,i,this.mAppContextService.getHttpOptions())}insightsItems(){let i=`${f.base_url}/insights-reports`;return this.http.get(i,this.mAppContextService.getHttpOptions())}analyticsItems(){let i=`${f.base_url}/analytics-reports`;return this.http.get(i,this.mAppContextService.getHttpOptions())}static \u0275fac=function(e){return new(e||n)(z(w),z(Se))};static \u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})};var di=["chart"],Ft=(()=>{class n{constructor(){this.chart=b(),this.annotations=b(),this.colors=b(),this.dataLabels=b(),this.series=b(),this.stroke=b(),this.labels=b(),this.legend=b(),this.markers=b(),this.noData=b(),this.parsing=b(),this.fill=b(),this.tooltip=b(),this.plotOptions=b(),this.responsive=b(),this.xaxis=b(),this.yaxis=b(),this.forecastDataPoints=b(),this.grid=b(),this.states=b(),this.title=b(),this.subtitle=b(),this.theme=b(),this.autoUpdateSeries=b(!0),this.chartReady=it(),this.chartInstance=nt(null),this.chartElement=at.required("chart"),this.ngZone=Xe(tt),this.isBrowser=vt(Xe(rt))}ngOnChanges(e){this.isBrowser&&this.ngZone.runOutsideAngular(()=>{Ke.schedule(()=>this.hydrate(e))})}ngOnDestroy(){this.destroy()}hydrate(e){if(this.autoUpdateSeries()&&Object.keys(e).filter(s=>s!=="series").length===0){this.updateSeries(this.series(),!0);return}this.createElement()}createElement(){return ke(this,null,function*(){let{default:e}=yield import("./chunk-BUALBHHH.js");window.ApexCharts||=e;let t={};["annotations","chart","colors","dataLabels","series","stroke","labels","legend","fill","tooltip","plotOptions","responsive","markers","noData","parsing","xaxis","yaxis","forecastDataPoints","grid","states","title","subtitle","theme"].forEach(_=>{let y=this[_]();y&&(t[_]=y)}),this.destroy();let d=this.ngZone.runOutsideAngular(()=>new e(this.chartElement().nativeElement,t));this.chartInstance.set(d),this.render(),this.chartReady.emit({chartObj:d})})}render(){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.render())}updateOptions(e,t,s,d){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.updateOptions(e,t,s,d))}updateSeries(e,t){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.updateSeries(e,t))}appendSeries(e,t){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.appendSeries(e,t))}appendData(e){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.appendData(e))}highlightSeries(e){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.highlightSeries(e))}toggleSeries(e){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.toggleSeries(e))}showSeries(e){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.showSeries(e))}hideSeries(e){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.hideSeries(e))}resetSeries(){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.resetSeries())}zoomX(e,t){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.zoomX(e,t))}toggleDataPointSelection(e,t){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.toggleDataPointSelection(e,t))}destroy(){this.chartInstance()?.destroy(),this.chartInstance.set(null)}setLocale(e){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.setLocale(e))}paper(){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.paper())}addXaxisAnnotation(e,t,s){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addXaxisAnnotation(e,t,s))}addYaxisAnnotation(e,t,s){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addYaxisAnnotation(e,t,s))}addPointAnnotation(e,t,s){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addPointAnnotation(e,t,s))}removeAnnotation(e,t){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.removeAnnotation(e,t))}clearAnnotations(e){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.clearAnnotations(e))}dataURI(e){return this.chartInstance()?.dataURI(e)}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=S({type:n,selectors:[["apx-chart"]],viewQuery:function(t,s){t&1&&dt(s.chartElement,di,5),t&2&&pt()},inputs:{chart:[1,"chart"],annotations:[1,"annotations"],colors:[1,"colors"],dataLabels:[1,"dataLabels"],series:[1,"series"],stroke:[1,"stroke"],labels:[1,"labels"],legend:[1,"legend"],markers:[1,"markers"],noData:[1,"noData"],parsing:[1,"parsing"],fill:[1,"fill"],tooltip:[1,"tooltip"],plotOptions:[1,"plotOptions"],responsive:[1,"responsive"],xaxis:[1,"xaxis"],yaxis:[1,"yaxis"],forecastDataPoints:[1,"forecastDataPoints"],grid:[1,"grid"],states:[1,"states"],title:[1,"title"],subtitle:[1,"subtitle"],theme:[1,"theme"],autoUpdateSeries:[1,"autoUpdateSeries"]},outputs:{chartReady:"chartReady"},features:[et],decls:2,vars:0,consts:[["chart",""]],template:function(t,s){t&1&&p(0,"div",null,0)},encapsulation:2,changeDetection:0})}}return n})();var Tt=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=Ce({type:n})}static{this.\u0275inj=be({})}}return n})();var ci=["chart"],$e=class n{constructor(i,e,t,s){this.mContext=i;this.mReportService=e;this.mToastrService=t;this.mAppInfo=s}mProgress=!1;item;chart;chartOptions;mMediaPerMonth;mViewsPerMonth;mLikesPerMonth;mCommentsPerMonth;ngOnInit(){this.index()}index(){this.mProgress=!0,this.mReportService.analyticsItems().subscribe({next:i=>{i&&(this.item=i.data,this.mMediaPerMonth=Object.values(this.item.media_per_month),this.mViewsPerMonth=Object.values(this.item.views_per_month),this.mLikesPerMonth=Object.values(this.item.likes_per_month),this.mCommentsPerMonth=Object.values(this.item.comments_per_month),this.reports())},error:i=>{i.error.message&&this.mToastrService.error(i.error.message),this.mProgress=!1}})}reports(){this.chartOptions={series:[{name:"Media",data:this.mMediaPerMonth},{name:"Views",data:this.mViewsPerMonth},{name:"Likes",data:this.mLikesPerMonth},{name:"Comments",data:this.mCommentsPerMonth}],chart:{type:"line",height:350},xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},title:{text:"Yearly Trend",align:"center"}}}static \u0275fac=function(e){return new(e||n)(v(w),v(qe),v(E),v(It))};static \u0275cmp=S({type:n,selectors:[["app-analytics"]],viewQuery:function(e,t){if(e&1&&lt(ci,5),e&2){let s;mt(s=st())&&(t.chart=s.first)}},standalone:!1,decls:125,vars:50,consts:[["chart",""],[1,"row"],[1,"col-12","col-sm-6","col-md-3"],[1,"info-box"],[1,"info-box-icon","text-bg-primary","shadow-sm"],[1,"bi","bi-gear-fill"],[1,"info-box-content"],[1,"info-box-text"],[1,"info-box-number"],[1,"info-box-icon","text-bg-danger","shadow-sm"],[1,"bi","bi-hand-thumbs-up-fill"],[1,"info-box-icon","text-bg-success","shadow-sm"],[1,"bi","bi-collection-play-fill"],[1,"info-box-icon","text-bg-warning","shadow-sm"],[1,"bi","bi-people-fill"],[1,"col-md-12"],[1,"card","mb-4"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"col-md-8"],[1,"text-center"],["id","report-chart"],[3,"series","chart","xaxis","title"],[1,"col-md-4"],[1,"progress-group"],[1,"float-end"],[1,"progress","progress-sm"],[1,"progress-bar","text-bg-primary"],[1,"progress-bar","text-bg-success"],[1,"progress-bar","text-bg-danger"],[1,"progress-bar","text-bg-warning"],[1,"card-footer"],[1,"col-md-4","col-6"],[1,"text-center","border-end"],[1,"text-success"],[1,"bi","bi-caret-right-fill"],[1,"fw-bold","mb-0"],[1,"text-uppercase"],[1,"text-info"],[1,"text-danger"]],template:function(e,t){e&1&&(a(0,"section")(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),p(5,"i",5),r(),a(6,"div",6)(7,"span",7),l(8,"Memory Usage"),r(),a(9,"span",8),l(10),r()()()(),a(11,"div",2)(12,"div",3)(13,"span",9),p(14,"i",10),r(),a(15,"div",6)(16,"span",7),l(17,"Likes"),r(),a(18,"span",8),l(19),ae(20,"number"),r()()()(),a(21,"div",2)(22,"div",3)(23,"span",11),p(24,"i",12),r(),a(25,"div",6)(26,"span",7),l(27,"Media"),r(),a(28,"span",8),l(29),ae(30,"number"),r()()()(),a(31,"div",2)(32,"div",3)(33,"span",13),p(34,"i",14),r(),a(35,"div",6)(36,"span",7),l(37,"Total Views"),r(),a(38,"span",8),l(39),ae(40,"number"),r()()()()(),a(41,"div",1)(42,"div",15)(43,"div",16)(44,"div",17)(45,"h5",18),l(46,"Recap Report"),r()(),a(47,"div",19)(48,"div",1)(49,"div",20)(50,"p",21)(51,"strong"),l(52),r()(),p(53,"div",22),a(54,"div"),p(55,"apx-chart",23,0),r()(),a(57,"div",24)(58,"p",21)(59,"strong"),l(60,"Overview"),r()(),a(61,"div",25),l(62," Memory "),a(63,"span",26)(64,"b"),l(65),r(),l(66),r(),a(67,"div",27),p(68,"div",28),r()(),a(69,"div",25),l(70," Likes "),a(71,"span",26)(72,"b"),l(73),r(),l(74),r(),a(75,"div",27),p(76,"div",29),r()(),a(77,"div",25),l(78," Media "),a(79,"span",26)(80,"b"),l(81),r(),l(82),r(),a(83,"div",27),p(84,"div",30),r()(),a(85,"div",25),l(86," Views "),a(87,"span",26)(88,"b"),l(89),r(),l(90),r(),a(91,"div",27),p(92,"div",31),r()()()()(),a(93,"div",32)(94,"div",1)(95,"div",33)(96,"div",34)(97,"span",35),p(98,"i",36),l(99),r(),a(100,"h5",37),l(101),ae(102,"number"),r(),a(103,"span",38),l(104,"TOTAL COMMENTS"),r()()(),a(105,"div",33)(106,"div",34)(107,"span",39),p(108,"i",36),l(109),r(),a(110,"h5",37),l(111),ae(112,"number"),r(),a(113,"span",38),l(114,"TOTAL VIEWS"),r()()(),a(115,"div",33)(116,"div",21)(117,"span",40),p(118,"i",36),l(119),r(),a(120,"h5",37),l(121),ae(122,"number"),r(),a(123,"span",38),l(124,"TOTAL MEDIA"),r()()()()()()()()()),e&2&&(o(10),h(" ",t.mContext.formatMemory(t.item==null?null:t.item.my_total_memory)," "),o(9),g(oe(20,32,t.item.my_total_likes,"1.0-0")),o(10),g(oe(30,35,t.item.my_total_media,"1.0-0")),o(10),g(oe(40,38,t.item.my_total_views,"1.0-0")),o(13),ct("Analytics: 1 Jan,",t.mAppInfo.year," - 31 Dec,",t.mAppInfo.year,""),o(3),m("series",t.chartOptions.series)("chart",t.chartOptions.chart)("xaxis",t.chartOptions.xaxis)("title",t.chartOptions.title),o(10),g(t.mContext.formatMemory(t.item.my_total_memory)),o(),h("/",t.mContext.formatMemory(t.item.total_memory),""),o(2),re("width",t.item.total_memory_percentage,"%"),o(5),g(t.item.my_total_likes),o(),h("/",t.item.total_likes,""),o(2),re("width",t.item.total_likes_percentage,"%"),o(5),g(t.item.my_total_media),o(),h("/",t.item.total_media,""),o(2),re("width",t.item.total_media_percentage,"%"),o(5),g(t.item.my_total_views),o(),h("/",t.item.total_views,""),o(2),re("width",t.item.total_views_percentage,"%"),o(7),h(" ",t.item.total_comments_percentage,"%"),o(2),g(oe(102,41,t.item.my_total_comments,"1.0-0")),o(8),h(" ",t.item.total_views_percentage,"%"),o(2),g(oe(112,44,t.item.my_total_views,"1.0-0")),o(8),h(" ",t.item.total_media_percentage,"%"),o(2),g(oe(122,47,t.item.my_total_media,"1.0-0")))},dependencies:[Ft,ut],encapsulation:2})};var vi=()=>({exact:!0}),gi=(n,i,e)=>({"bg-warning text-dark":n,"bg-primary":i,"bg-danger":e}),fi=(n,i,e)=>({"bg-secondary":n,"bg-warning text-dark":i,"bg-dark":e}),hi=()=>[1,2,4];function _i(n,i){n&1&&p(0,"app-progress")}function bi(n,i){if(n&1&&(a(0,"div",27)(1,"div",28)(2,"label",29),l(3,"Biography:"),r(),a(4,"div",13),l(5),r()()()),n&2){let e=u();o(5),g(e.mCurrentUser.bio)}}function yi(n,i){if(n&1&&(a(0,"div",43)(1,"a",44),p(2,"i",45),l(3," Process "),r()()),n&2){let e=u(2).$implicit;o(),N("routerLink","/media/process/",e.id,"")}}function Ci(n,i){if(n&1){let e=U();a(0,"div")(1,"div",35)(2,"a",36),l(3,"Show"),r(),a(4,"a",37),l(5,"Edit"),r(),a(6,"button",38),C("click",function(){O(e);let s=u().$implicit,d=u(3);return P(d.onDelete(s))}),l(7,"Delete"),r()(),p(8,"app-media-card",39),a(9,"div",40)(10,"span",41),l(11),r(),a(12,"span",41),l(13),r()(),c(14,yi,4,2,"div",42),r()}if(n&2){let e=u().$implicit,t=u(3);o(2),N("routerLink","/media/show/",e.id,""),o(2),N("routerLink","/media/edit/",e.id,""),o(4),m("data",e),o(2),m("ngClass",Ye(10,gi,e.status_id==1,e.status_id==2,e.status_id==3)),o(),h(" ",e.status==null?null:e.status.name,""),o(),m("ngClass",Ye(14,fi,e.media_status_id==1,e.media_status_id==2,e.media_status_id==3)),o(),h(" ",e.media_status==null?null:e.media_status.name,""),o(),m("ngIf",t.mAppContextService.hasRoles(Fe(18,hi)))}}function Si(n,i){if(n&1&&(a(0,"div",34),c(1,Ci,15,19,"div",1),r()),n&2){let e=i.$implicit;o(),m("ngIf",e)}}function xi(n,i){if(n&1&&(a(0,"div",32),c(1,Si,2,1,"div",33),r()),n&2){let e=u(2);o(),m("ngForOf",e.myMedia)}}function Ii(n,i){n&1&&(a(0,"p",46),l(1,"No items"),r())}function Ei(n,i){if(n&1&&(a(0,"div",27)(1,"div",28)(2,"label",30),l(3,"Uploads:"),r(),c(4,xi,2,1,"div",31)(5,Ii,2,0,"ng-template",null,0,G),r()()),n&2){let e=B(6),t=u();o(4),m("ngIf",t.myMedia&&t.myMedia.length>0)("ngIfElse",e)}}function wi(n,i){if(n&1&&(a(0,"a",48),p(1,"app-media-card",39),r()),n&2){let e=u().$implicit;N("routerLink","/media/show/",e.id,""),o(),m("data",e)}}function Mi(n,i){if(n&1&&(a(0,"div",34),c(1,wi,2,3,"a",47),r()),n&2){let e=i.$implicit;o(),m("ngIf",e)}}function Fi(n,i){if(n&1&&(a(0,"div",32),c(1,Mi,2,1,"div",33),r()),n&2){let e=u(2);o(),m("ngForOf",e.myPlaylists)}}function Ti(n,i){n&1&&(a(0,"p",46),l(1,"No items"),r())}function ki(n,i){if(n&1&&(a(0,"div",27)(1,"div",28)(2,"label",29),l(3,"Playlists:"),r(),c(4,Fi,2,1,"div",31)(5,Ti,2,0,"ng-template",null,0,G),r()()),n&2){let e=B(6),t=u();o(4),m("ngIf",t.myPlaylists&&t.myPlaylists.length>0)("ngIfElse",e)}}function Ai(n,i){if(n&1&&(a(0,"a",48),p(1,"app-media-card",39),r()),n&2){let e=u().$implicit;N("routerLink","/media/show/",e.id,""),o(),m("data",e)}}function Oi(n,i){if(n&1&&(a(0,"div",34),c(1,Ai,2,3,"a",47),a(2,"div",49)(3,"small"),l(4,"Server Link: "),a(5,"span",13),l(6),r()(),p(7,"br"),a(8,"small"),l(9,"Stream Key: "),a(10,"span",13),l(11),r()()()()),n&2){let e=i.$implicit;o(),m("ngIf",e),o(5),g(e.server_link),o(5),g(e.stream_key)}}function Pi(n,i){if(n&1&&(a(0,"div",32),c(1,Oi,12,3,"div",33),r()),n&2){let e=u(2);o(),m("ngForOf",e.mLiveStreams)}}function Li(n,i){n&1&&(a(0,"p",46),l(1,"No items"),r())}function Ri(n,i){if(n&1&&(a(0,"div",27)(1,"div",28)(2,"label",29),l(3,"Live Streams:"),r(),c(4,Pi,2,1,"div",31)(5,Li,2,0,"ng-template",null,0,G),r()()),n&2){let e=B(6),t=u();o(4),m("ngIf",t.mLiveStreams&&t.mLiveStreams.length>0)("ngIfElse",e)}}function Ni(n,i){n&1&&(a(0,"div",27)(1,"div",28)(2,"label",50),l(3,"Analytics:"),r(),p(4,"app-analytics"),r()())}var ze=class n{constructor(i,e,t,s,d){this.mAuthService=i;this.mAppContextService=e;this.mMediaService=t;this.mToastrService=s;this.router=d}mCurrentUser;mInitials;itemForm;mProgress=!1;myMedia=[];myPlaylists=[];mLiveStreams=[];ngOnInit(){this.mCurrentUser=this.mAuthService.currentUser,this.mInitials=this.mCurrentUser.name.match(/(\b\S)?/g).join("").match(/(^\S|\S$)?/g).join("").toUpperCase(),this.index(this.mCurrentUser.id)}index(i){this.mProgress=!0,this.mMediaService.myMedia(i).subscribe({next:e=>{e&&(this.myMedia=e.data.my_media,this.myPlaylists=e.data.my_playlists,this.myPlaylists=e.data.my_playlists,this.mLiveStreams=e.data.live_streams,this.mProgress=!1)},error:e=>{e.error.message&&this.mToastrService.error(e.error.message),this.mProgress=!1}})}onDelete(i){kt.default.mixin({customClass:{cancelButton:"btn btn-dark me-2",confirmButton:"btn btn-danger"},buttonsStyling:!1}).fire({title:"Remove?",text:"You won't be able to revert this!",icon:"error",showCancelButton:!0,reverseButtons:!0,cancelButtonText:"Cancel",confirmButtonText:"Delete"}).then(t=>{t.isConfirmed&&(this.mProgress=!0,this.mMediaService.deleteItem(i).subscribe({next:s=>{s&&(this.myMedia=this.myMedia.filter(d=>d.id!==i.id),this.mToastrService.error(s.message),this.mProgress=!1)},error:s=>{s.error.message&&this.mToastrService.error(s.error.message),this.mProgress=!1}}))})}static \u0275fac=function(e){return new(e||n)(v(St),v(w),v(A),v(E),v(q))};static \u0275cmp=S({type:n,selectors:[["app-read"]],standalone:!1,decls:46,vars:13,consts:[["noItemsTemplate",""],[4,"ngIf"],[1,"app-content-header"],[1,"container-fluid"],[1,"app-content"],[1,"row"],[1,"col-lg-12","col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"d-flex","align-items-center","mb-3"],[1,"user-image","rounded-circle","bg-primary","text-white","fw-bold","d-inline-flex","justify-content-center","align-items-center","me-3",2,"width","64px","height","64px","font-size","1rem"],[1,"mb-0","fw-semibold"],[1,"text-muted"],["id","myTab","role","tablist",1,"nav","nav-tabs","border-0","text-uppercase"],["role","presentation",1,"nav-item"],["routerLink","/media/about","routerLinkActive","active","id","home-tab","data-bs-toggle","tab","data-bs-target","#home","type","button","role","tab","aria-controls","home",1,"nav-link","border-0","text-uppercase","text-sm",3,"routerLinkActiveOptions"],["routerLink","/media/index","routerLinkActive","active","id","media-tab","data-bs-toggle","tab","data-bs-target","#media","type","button","role","tab","aria-controls","media",1,"nav-link","border-0","text-uppercase","text-sm"],["routerLink","/media/my-playlist","routerLinkActive","active","id","playlist-tab","data-bs-toggle","tab","data-bs-target","#playlist","type","button","role","tab","aria-controls","playlist",1,"nav-link","border-0","text-uppercase","text-sm"],["routerLink","/media/live-streams","routerLinkActive","active","id","live-streams-tab","data-bs-toggle","tab","data-bs-target","#live-streams","type","button","role","tab","aria-controls","live-streams",1,"nav-link","border-0","text-uppercase","text-sm"],["routerLink","/media/analytics","routerLinkActive","active","id","analytics-tab","data-bs-toggle","tab","data-bs-target","#analytics","type","button","role","tab","aria-controls","analytics",1,"nav-link","border-0","text-uppercase","text-sm"],[1,"card-tools"],[1,"btn","btn-warning","btn-sm",3,"routerLink"],[1,"bi","bi-pencil-fill"],[1,"card-body","p-0","m-0"],["id","myTabContent",1,"tab-content","container-fluid","p-3"],["class","tab-pane fade show active",4,"ngIf"],[1,"tab-pane","fade","show","active"],[1,"mb-3"],["for","bio",1,"form-label"],["for","uploads",1,"form-label"],["class","row row-cols-1 row-cols-md-3 g-4",4,"ngIf","ngIfElse"],[1,"row","row-cols-1","row-cols-md-3","g-4"],["class","col",4,"ngFor","ngForOf"],[1,"col"],["role","group","aria-label","Basic mixed styles example",1,"btn-group","w-100","mb-1"],[1,"btn","btn-dark","btn-sm",3,"routerLink"],[1,"btn","btn-primary","btn-sm",3,"routerLink"],["type","button",1,"btn","btn-warning","btn-sm",3,"click"],[3,"data"],[1,"d-flex","align-items-center1","gap-2"],[1,"badge","rounded-pill",3,"ngClass"],["class","my-1",4,"ngIf"],[1,"my-1"],[1,"btn","btn-primary","btn-sm","w-100",3,"routerLink"],[1,"bi","bi-pencil-square"],[1,"p-5","text-center","text-muted"],["class","text-decoration-none text-reset",3,"routerLink",4,"ngIf"],[1,"text-decoration-none","text-reset",3,"routerLink"],[1,"no-wrap"],["for","analytics",1,"form-label"]],template:function(e,t){e&1&&(c(0,_i,1,0,"app-progress",1),a(1,"section")(2,"div",2),p(3,"div",3),r(),a(4,"div",4)(5,"div",3)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"span",11),l(13),r(),a(14,"div")(15,"p",12),l(16),r(),a(17,"small",13),l(18),r()()(),a(19,"ul",14)(20,"li",15)(21,"button",16),l(22," About "),r()(),a(23,"li",15)(24,"button",17),l(25," Media "),r()(),a(26,"li",15)(27,"button",18),l(28," Playlist "),r()(),a(29,"li",15)(30,"button",19),l(31," Live Streams "),r()(),a(32,"li",15)(33,"button",20),l(34," Analytics "),r()()()(),a(35,"div",21)(36,"a",22),p(37,"i",23),l(38," Edit Profile "),r()()(),a(39,"div",24)(40,"div",25),c(41,bi,6,1,"div",26)(42,Ei,7,2,"div",26)(43,ki,7,2,"div",26)(44,Ri,7,2,"div",26)(45,Ni,5,0,"div",26),r()()()()()()()()),e&2&&(m("ngIf",t.mProgress),o(13),h(" ",t.mAppContextService.getInitials(t.mCurrentUser.name)," "),o(3),g(t.mCurrentUser.name),o(2),g(t.mCurrentUser.role==null?null:t.mCurrentUser.role.name),o(3),m("routerLinkActiveOptions",Fe(12,vi)),o(15),N("routerLink","/profile/edit/",t.mCurrentUser.id,""),o(5),m("ngIf",t.router.url==="/media/about"),o(),m("ngIf",t.router.url==="/media/index"),o(),m("ngIf",t.router.url==="/media/my-playlist"),o(),m("ngIf",t.router.url==="/media/live-streams"),o(),m("ngIf",t.router.url==="/media/analytics"))},dependencies:[M,L,F,R,gt,T,Ct,$e],encapsulation:2})};var ne=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=S({type:n,selectors:[["app-index"]],standalone:!1,decls:1,vars:0,template:function(e,t){e&1&&p(0,"app-read")},dependencies:[ze],encapsulation:2})};var ji=n=>({"text-primary":n}),Hi=n=>({"text-warning":n}),Ui=n=>({"is-invalid":n});function Bi(n,i){n&1&&p(0,"app-progress")}function qi(n,i){if(n&1&&p(0,"app-hls-player",58),n&2){let e=u();m("data",e.item)}}function $i(n,i){n&1&&(a(0,"div"),l(1,"This field is required."),r())}function zi(n,i){if(n&1&&(a(0,"div",59),c(1,$i,2,0,"div",0),r()),n&2){let e,t=u();o(),m("ngIf",(e=t.itemForm.get("text"))==null||e.errors==null?null:e.errors.required)}}function Vi(n,i){if(n&1&&(a(0,"div",61)(1,"div",62),l(2),r(),a(3,"div",41)(4,"h6",42),l(5),a(6,"span",63),l(7),r()(),a(8,"div",64),l(9),r()()()),n&2){let e=i.$implicit,t=u(2);o(2),h(" ",t.mContext.getInitials(e.user==null?null:e.user.name)," "),o(3),h("",e.user==null?null:e.user.name," "),o(2),g(e.readable_date),o(2),g(e.text)}}function Wi(n,i){if(n&1&&(a(0,"div"),c(1,Vi,10,4,"div",60),r()),n&2){let e=u();o(),m("ngForOf",e.mComments)}}var Ve=class n{constructor(i,e,t,s,d,_){this.route=i;this.mMediaService=e;this.mToastrService=t;this.mContext=s;this.router=d;this.fb=_;this.itemForm=this.fb.group({text:["",x.required]})}id;item={};mCurrentUrl="";mItem="";mComments="";itemForm;mProgress=!1;ngOnInit(){this.route.paramMap.subscribe(i=>{let e=i.get("id");e&&(this.index(e),this.id=i.get("id"))}),this.mCurrentUrl=window.location.origin+this.router.url}index(i){this.mProgress=!0,this.mMediaService.getOneItem(i).subscribe({next:e=>{e&&(this.item=e,this.mItem=this.item,this.mComments=this.item.comments,this.mProgress=!1)},error:e=>{e.error.message&&this.mToastrService.error(e.error.message),this.mProgress=!1}})}toggleReact(i,e){let t={id:i.id,type_id:e};this.mMediaService.reactItem(t).subscribe({next:s=>{s&&(s.status==="success"&&(this.mItem=s.data),this.mProgress=!1)},error:s=>{s.error.message&&this.mToastrService.error(s.error.message),this.mProgress=!1}})}copyUrl(){navigator.clipboard.writeText(this.mCurrentUrl).then(()=>{this.mToastrService.success("Link copied to clipboard!")})}onSubmit(i){let e={id:this.item.id,text:i.text};this.mMediaService.commentItem(e).subscribe({next:t=>{t&&t.status==="success"&&(this.mComments=t.data.comments,this.mItem=t.data,this.itemForm.reset(),this.mToastrService.success(t.message))},error:t=>{t.error.message&&this.mToastrService.error(t.error.message)}})}static \u0275fac=function(e){return new(e||n)(v(xe),v(A),v(E),v(w),v(q),v(te))};static \u0275cmp=S({type:n,selectors:[["app-show"]],standalone:!1,decls:92,vars:33,consts:[[4,"ngIf"],[1,"app-content-header"],[1,"container-fluid"],[1,"app-content"],[1,"row"],[1,"col-lg-12","col-12"],[1,"card1"],[1,"card-body","p-0","m-0"],[1,"col-md-9"],[3,"data",4,"ngIf"],[1,"col-md-12"],[1,"fw-bold1","card-title1"],[1,"col-6"],[1,"d-flex","justify-content-end"],[3,"click"],[3,"ngClass"],[1,"bi","me-2",3,"ngClass"],[1,"mx-4",3,"click"],["data-bs-toggle","modal","data-bs-target","#modal"],[1,"bi","bi-share-fill","me-2"],["id","modal","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-dialog-scrollable"],[1,"modal-content"],[1,"modal-header"],["id","staticBackdropLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"d-flex","justify-content-center","gap-3"],["target","_blank",1,"btn","btn-outline-primary","rounded-circle","d-flex","align-items-center","justify-content-center",2,"width","48px","height","48px",3,"href"],[1,"bi","bi-facebook","fs-4"],["target","_blank",1,"btn","btn-outline-info","rounded-circle","d-flex","align-items-center","justify-content-center",2,"width","48px","height","48px",3,"href"],[1,"bi","bi-twitter","fs-4"],["target","_blank",1,"btn","btn-outline-secondary","rounded-circle","d-flex","align-items-center","justify-content-center",2,"width","48px","height","48px",3,"href"],[1,"bi","bi-linkedin","fs-4"],[1,"bi","bi-whatsapp","fs-4"],[1,"modal-footer"],[1,"input-group","mb-3"],["type","text","readonly","",1,"form-control",3,"ngModelChange","ngModel"],[1,"input-group-text","text-primary",3,"click"],[1,"d-flex","align-items-center"],[1,"rounded-circle","bg-primary","text-white","d-flex","justify-content-center","align-items-center","fw-bold",2,"width","40px","height","40px"],[1,"ms-2"],[1,"fw-semibold1","mb-0"],[1,"text-xs","text-muted","mt-0"],[1,"py-2"],[1,"justify-text",2,"word-break","break-word","white-space","normal",3,"innerHTML"],["for","tags",1,"text-muted","me-2"],[1,"text-primary"],[3,"ngSubmit","formGroup"],[1,"row","g-2","align-items-start"],["for","text",1,"form-label","required1"],[1,"col-auto"],[1,"rounded-circle","bg-warning","text-white","d-flex","justify-content-center","align-items-center","fw-bold",2,"width","40px","height","40px"],[1,"col"],["formControlName","text",1,"form-control",3,"ngClass"],["class","invalid-feedback d-block","role","alert",4,"ngIf"],[1,"text-end","my-2"],["type","submit",1,"btn","btn-primary","btn-sm",3,"disabled"],[3,"data"],["role","alert",1,"invalid-feedback","d-block"],["class","d-flex align-items-center mb-3",4,"ngFor","ngForOf"],[1,"d-flex","align-items-center","mb-3"],[1,"rounded-circle","bg-secondary","text-muted","d-flex","justify-content-center","align-items-center","fw-bold1",2,"width","32px","height","32px"],[1,"text-xs","text-muted"],[1,"mt-0","text-muted","justify-text"]],template:function(e,t){if(e&1&&(c(0,Bi,1,0,"app-progress",0),a(1,"section")(2,"div",1),p(3,"div",2),r(),a(4,"div",3)(5,"div",2)(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",4)(11,"div",8),c(12,qi,1,1,"app-hls-player",9),a(13,"div",4)(14,"div",10)(15,"h6",11),l(16),r()(),a(17,"div",10)(18,"div",4)(19,"div",12),l(20),r(),a(21,"div",12)(22,"div",13)(23,"span",14),C("click",function(){return t.toggleReact(t.item,1)}),a(24,"span",15),p(25,"i",16),l(26),r()(),a(27,"span",17),C("click",function(){return t.toggleReact(t.item,2)}),a(28,"span",15),p(29,"i",16),l(30),r()(),a(31,"span",18),p(32,"i",19),a(33,"span"),l(34,"SHARE"),r()(),a(35,"div",20)(36,"div",21)(37,"div",22)(38,"div",23)(39,"h5",24),l(40,"Share media"),r(),p(41,"button",25),r(),a(42,"div",26)(43,"div",27)(44,"a",28),p(45,"i",29),r(),a(46,"a",30),p(47,"i",31),r(),a(48,"a",32),p(49,"i",33),r(),a(50,"a",28),p(51,"i",34),r()()(),a(52,"div",35)(53,"div",36)(54,"input",37),H("ngModelChange",function(d){return j(t.mCurrentUrl,d)||(t.mCurrentUrl=d),d}),r(),a(55,"div",38),C("click",function(){return t.copyUrl()}),l(56,"COPY"),r()()()()()()()()(),p(57,"hr"),r(),a(58,"div",10)(59,"div",39)(60,"div",40),l(61),r(),a(62,"div",41)(63,"h6",42),l(64),r(),a(65,"div",43),l(66),r()()()(),a(67,"div",10)(68,"div",44),p(69,"p",45),a(70,"div")(71,"label",46),l(72,"Tags:"),r(),a(73,"span",47),l(74),r()()()(),p(75,"hr"),a(76,"div",10)(77,"form",48),C("ngSubmit",function(){return t.onSubmit(t.itemForm.value)}),a(78,"div",49)(79,"label",50),l(80),r(),a(81,"div",51)(82,"div",52),l(83),r()(),a(84,"div",53),p(85,"input",54),c(86,zi,2,1,"div",55),a(87,"div",56)(88,"button",57),l(89,"Submit"),r()()()()()(),a(90,"div",10),c(91,Wi,2,1,"div",0),r()()()()()()()()()()()),e&2){let s,d;m("ngIf",t.mProgress),o(12),m("ngIf",t.item),o(4),g(t.item.title),o(4),h(" ",t.item.total_views," "),o(4),m("ngClass",I(27,ji,t.mItem.is_liked)),o(),m("ngClass",t.mItem.is_liked?"bi-hand-thumbs-up-fill":"bi-hand-thumbs-up"),o(),h("",t.mItem.likes_count," "),o(2),m("ngClass",I(29,Hi,t.mItem.is_disliked)),o(),m("ngClass",t.mItem.is_disliked?"bi-hand-thumbs-down-fill":"bi-hand-thumbs-down"),o(),h("",t.mItem.dislikes_count," "),o(14),m("href","https://www.facebook.com/sharer/sharer.php?u="+t.mCurrentUrl,V),o(2),m("href","https://twitter.com/intent/tweet?url="+t.mCurrentUrl,V),o(2),m("href","https://www.linkedin.com/shareArticle?url="+t.mCurrentUrl,V),o(2),m("href","https://wa.me/?text="+t.mCurrentUrl,V),o(4),D("ngModel",t.mCurrentUrl),o(7),h(" ",t.mContext.getInitials(t.item.user==null?null:t.item.user.name)," "),o(3),g(t.item.user==null?null:t.item.user.name),o(2),h("Published ",t.item.readable_date,""),o(3),m("innerHTML",t.item.description,ye),o(5),g(t.item.tags),o(3),m("formGroup",t.itemForm),o(3),g(t.mItem.total_comments),o(3),h(" ",t.mContext.getInitials(t.item.user==null?null:t.item.user.name)," "),o(2),m("ngClass",I(31,Ui,((s=t.itemForm.get("text"))==null?null:s.invalid)&&(((s=t.itemForm.get("text"))==null?null:s.dirty)||((s=t.itemForm.get("text"))==null?null:s.touched)))),o(),m("ngIf",((d=t.itemForm.get("text"))==null?null:d.invalid)&&(((d=t.itemForm.get("text"))==null?null:d.dirty)||((d=t.itemForm.get("text"))==null?null:d.touched))),o(2),m("disabled",t.itemForm.invalid),o(3),m("ngIf",t.mComments&&t.mComments.length>0)}},dependencies:[M,L,F,J,Q,X,Y,ht,K,ee,T,yt],encapsulation:2})};var Zi=(n,i)=>({active:n,disabled:i});function Gi(n,i){n&1&&p(0,"app-progress")}function Qi(n,i){if(n&1&&(a(0,"div")(1,"a",13)(2,"div",14),p(3,"img",15),r(),a(4,"div",16)(5,"h6",17),l(6),r(),a(7,"div",18)(8,"span"),l(9),r(),l(10,"\xA0\u2022 "),a(11,"span"),l(12),r(),l(13,"\xA0\u2022 "),a(14,"span"),l(15),r()()()()()),n&2){let e=i.$implicit;o(),N("routerLink","/media/show/",e.media==null?null:e.media.id,""),o(2),m("src",e.media.thumbnail_url,V),o(3),g(e.media==null?null:e.media.title),o(3),g(e.media==null||e.media.user==null?null:e.media.user.name),o(3),g(e.media==null?null:e.media.total_views),o(3),g(e.media==null?null:e.media.readable_date)}}function Xi(n,i){if(n&1&&(a(0,"div"),c(1,Qi,16,7,"div",12),r()),n&2){let e=u();o(),m("ngForOf",e.mItems)}}function Yi(n,i){if(n&1){let e=U();a(0,"li",21)(1,"a",22),C("click",function(){let s=O(e).$implicit,d=u(2);return P(d.onChangePage(s.url))}),r()()}if(n&2){let e=i.$implicit;m("ngClass",Oe(2,Zi,e.active,!e.url)),o(),m("innerHTML",e.label,ye)}}function Ji(n,i){if(n&1&&(a(0,"div")(1,"ul",19),c(2,Yi,2,5,"li",20),r()()),n&2){let e=u();o(2),m("ngForOf",e.links)}}function Ki(n,i){n&1&&(a(0,"p",23),l(1,"No items"),r())}var We=class n{constructor(i,e,t){this.mMediaService=i;this.mToastrService=e;this.mContext=t}mItems=[];itemForm;search_term;mProgress=!1;links=[];ngOnInit(){this.index(),this.search_term=new Re("",x.required),this.itemForm=new Le({search_term:this.search_term})}index(){this.mProgress=!0,this.mProgress=!0,this.mMediaService.likedMediaItems().subscribe({next:i=>{i&&(this.mItems=i.data,this.links=i.links,this.mProgress=!1)},error:i=>{i.error.message&&this.mToastrService.error(i.error.message),this.mProgress=!1}})}onChangePage(i){this.mProgress=!0,this.mMediaService.paginateItems(i).subscribe({next:e=>{e&&(this.mItems=e.data,this.links=e.links,this.mProgress=!1)},error:e=>{e.error.message&&this.mToastrService.error(e.error.message),this.mProgress=!1}})}static \u0275fac=function(e){return new(e||n)(v(A),v(E),v(w))};static \u0275cmp=S({type:n,selectors:[["app-liked"]],standalone:!1,decls:17,vars:5,consts:[["noItemsTemplate",""],[4,"ngIf"],[1,"app-content-header"],[1,"container-fluid"],[1,"app-content"],[1,"row"],[1,"col-lg-12","col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],[1,"row","mb-2","text-decoration-none","text-reset","me-1",3,"routerLink"],[1,"col-md-2"],["width","100%","height","auto","alt","Thumbnail",1,"img-fluid","rounded","ratio","ratio-16x9",3,"src"],[1,"col-md-10"],[1,"mb-1"],[1,"text-muted","text-xs"],[1,"pagination"],["class","page-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"page-item",3,"ngClass"],[1,"page-link",3,"click","innerHTML"],[1,"p-5","text-center","text-muted"]],template:function(e,t){if(e&1&&(c(0,Gi,1,0,"app-progress",1),a(1,"section")(2,"div",2),p(3,"div",3),r(),a(4,"div",4)(5,"div",3)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9),l(11),r()(),a(12,"div",10),c(13,Xi,2,1,"div",11)(14,Ji,3,1,"div",1)(15,Ki,2,0,"ng-template",null,0,G),r()()()()()()()),e&2){let s=B(16);m("ngIf",t.mProgress),o(11),h(" Liked media (",t.mItems.length,") "),o(2),m("ngIf",t.mItems&&t.mItems.length>0)("ngIfElse",s),o(),m("ngIf",t.links)}},dependencies:[M,L,F,R,T],encapsulation:2})};var en=(n,i)=>({active:n,disabled:i});function tn(n,i){n&1&&p(0,"app-progress")}function nn(n,i){if(n&1&&(a(0,"div")(1,"a",13)(2,"div",14),p(3,"img",15),r(),a(4,"div",16)(5,"h6",17),l(6),r(),a(7,"div",18)(8,"span"),l(9),r(),l(10,"\xA0\u2022 "),a(11,"span"),l(12),r(),l(13,"\xA0\u2022 "),a(14,"span"),l(15),r()()()()()),n&2){let e=i.$implicit;o(),N("routerLink","/media/show/",e.media==null?null:e.media.id,""),o(2),m("src",e.media.thumbnail_url,V),o(3),g(e.media==null?null:e.media.title),o(3),g(e.media==null||e.media.user==null?null:e.media.user.name),o(3),g(e.media==null?null:e.media.total_views),o(3),g(e.media==null?null:e.media.readable_date)}}function rn(n,i){if(n&1&&(a(0,"div"),c(1,nn,16,7,"div",12),r()),n&2){let e=u();o(),m("ngForOf",e.mItems)}}function an(n,i){if(n&1){let e=U();a(0,"li",21)(1,"a",22),C("click",function(){let s=O(e).$implicit,d=u(2);return P(d.onChangePage(s.url))}),r()()}if(n&2){let e=i.$implicit;m("ngClass",Oe(2,en,e.active,!e.url)),o(),m("innerHTML",e.label,ye)}}function on(n,i){if(n&1&&(a(0,"div")(1,"ul",19),c(2,an,2,5,"li",20),r()()),n&2){let e=u();o(2),m("ngForOf",e.links)}}function ln(n,i){n&1&&(a(0,"p",23),l(1,"No items"),r())}var Ze=class n{constructor(i,e,t){this.mMediaService=i;this.mToastrService=e;this.mContext=t}mItems=[];itemForm;search_term;mProgress=!1;links=[];ngOnInit(){this.index(),this.search_term=new Re("",x.required),this.itemForm=new Le({search_term:this.search_term})}index(){this.mProgress=!0,this.mProgress=!0,this.mMediaService.historyMediaItems().subscribe({next:i=>{i&&(this.mItems=i.data,this.links=i.links,this.mProgress=!1)},error:i=>{i.error.message&&this.mToastrService.error(i.error.message),this.mProgress=!1}})}onChangePage(i){this.mProgress=!0,this.mMediaService.paginateItems(i).subscribe({next:e=>{e&&(this.mItems=e.data,this.links=e.links,this.mProgress=!1)},error:e=>{e.error.message&&this.mToastrService.error(e.error.message),this.mProgress=!1}})}static \u0275fac=function(e){return new(e||n)(v(A),v(E),v(w))};static \u0275cmp=S({type:n,selectors:[["app-history"]],standalone:!1,decls:17,vars:5,consts:[["noItemsTemplate",""],[4,"ngIf"],[1,"app-content-header"],[1,"container-fluid"],[1,"app-content"],[1,"row"],[1,"col-lg-12","col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],[1,"row","mb-2","text-decoration-none","text-reset","me-1",3,"routerLink"],[1,"col-md-2"],["width","100%","height","auto","alt","Thumbnail",1,"img-fluid","rounded","ratio","ratio-16x9",3,"src"],[1,"col-md-10"],[1,"mb-1"],[1,"text-muted","text-xs"],[1,"pagination"],["class","page-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"page-item",3,"ngClass"],[1,"page-link",3,"click","innerHTML"],[1,"p-5","text-center","text-muted"]],template:function(e,t){if(e&1&&(c(0,tn,1,0,"app-progress",1),a(1,"section")(2,"div",2),p(3,"div",3),r(),a(4,"div",4)(5,"div",3)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9),l(11),r()(),a(12,"div",10),c(13,rn,2,1,"div",11)(14,on,3,1,"div",1)(15,ln,2,0,"ng-template",null,0,G),r()()()()()()()),e&2){let s=B(16);m("ngIf",t.mProgress),o(11),h(" History (",t.mItems.length,") "),o(2),m("ngIf",t.mItems&&t.mItems.length>0)("ngIfElse",s),o(),m("ngIf",t.links)}},dependencies:[M,L,F,R,T],encapsulation:2})};var At=n=>({"is-invalid":n});function mn(n,i){n&1&&p(0,"app-progress")}function sn(n,i){n&1&&(a(0,"div"),l(1,"This field is required."),r())}function dn(n,i){if(n&1&&(a(0,"div",32),c(1,sn,2,0,"div",0),r()),n&2){let e,t=u();o(),m("ngIf",(e=t.itemForm.get("title"))==null||e.errors==null?null:e.errors.required)}}function pn(n,i){if(n&1&&(a(0,"option",33),l(1),r()),n&2){let e=i.$implicit;Me("value",e.id),o(),g(e.alias)}}function cn(n,i){n&1&&(a(0,"div"),l(1,"This field is required."),r())}function un(n,i){if(n&1&&(a(0,"div",34),c(1,cn,2,0,"div",0),r()),n&2){let e,t=u();o(),m("ngIf",(e=t.itemForm.get("status_id"))==null||e.errors==null?null:e.errors.required)}}var Ge=class n{constructor(i,e,t,s,d){this.mToastrService=i;this.mMediaService=e;this.fb=t;this.router=s;this.route=d;this.itemForm=this.fb.group({title:["",x.required],status_id:["",x.required]})}mContentStatus;itemForm;mProgress=!1;id;item={};ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),this.mProgress=!0,this.mMediaService.getOneItem(this.id).subscribe({next:i=>{i&&(this.item=i,this.mProgress=!1)},error:i=>{i.error.message&&this.mToastrService.error(i.error.message),this.mProgress=!1}}),this.index()}index(){this.mProgress=!0,this.mMediaService.unpaginatedItems().subscribe({next:i=>{i&&(this.mContentStatus=i.data.content_status,this.mProgress=!1)},error:i=>{i.error.message&&this.mToastrService.error(i.error.message),this.mProgress=!1}})}onSubmit(i){let e={id:this.id,title:i.title,status_id:i.status_id};this.mProgress=!0,this.mMediaService.processItem(e).subscribe({next:t=>{t&&(this.mToastrService.success(t.message),this.router.navigateByUrl("/media"),this.mProgress=!1)},error:t=>{t.error.message&&this.mToastrService.error(t.error.message),this.mProgress=!1}})}static \u0275fac=function(e){return new(e||n)(v(E),v(A),v(te),v(q),v(xe))};static \u0275cmp=S({type:n,selectors:[["app-process"]],standalone:!1,decls:47,vars:14,consts:[[4,"ngIf"],[1,"app-content-header"],[1,"container-fluid"],[1,"row"],[1,"col-sm-6"],[1,"mb-0"],[1,"breadcrumb","float-sm-end"],[1,"breadcrumb-item"],["href","#"],["aria-current","page",1,"breadcrumb-item"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-lg-12","col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-tools"],[1,"card-body"],[3,"ngSubmit","formGroup"],[1,"row","mb-3"],[1,"col-md-12"],[1,"mb-3"],["for","title",1,"form-label","required"],["type","text","formControlName","title","readonly","",1,"form-control",3,"ngModel","ngClass"],["class","invalid-feedback d-block","role","alert",4,"ngIf"],["for","status_id",1,"form-label","required"],["formControlName","status_id",1,"form-select",3,"ngModelChange","ngModel","ngClass"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback d-block1","role","alert",4,"ngIf"],[1,"text-end"],["routerLink","/media",1,"btn","btn-warning","me-1"],["type","submit",1,"btn","btn-primary",3,"disabled"],["role","alert",1,"invalid-feedback","d-block"],[3,"value"],["role","alert",1,"invalid-feedback","d-block1"]],template:function(e,t){if(e&1&&(c(0,mn,1,0,"app-progress",0),a(1,"section")(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"h3",5),l(7,"Media"),r()(),a(8,"div",4)(9,"ol",6)(10,"li",7)(11,"a",8),l(12,"Home"),r()(),a(13,"li",9),l(14,"Media"),r(),a(15,"li",10),l(16,"Process"),r()()()()(),a(17,"div",3)(18,"div",11)(19,"div",12)(20,"div",13)(21,"div",14),l(22," Process Media "),r(),p(23,"div",15),r(),a(24,"div",16)(25,"form",17),C("ngSubmit",function(){return t.onSubmit(t.itemForm.value)}),a(26,"div",18)(27,"div",19)(28,"div",20)(29,"label",21),l(30,"Title:"),r(),p(31,"input",22),c(32,dn,2,1,"div",23),r()(),a(33,"div",19)(34,"div",20)(35,"label",24),l(36,"Status:"),r(),a(37,"select",25),H("ngModelChange",function(d){return j(t.item.status_id,d)||(t.item.status_id=d),d}),a(38,"option",26),l(39,"--- Select status ---"),r(),c(40,pn,2,2,"option",27),r(),c(41,un,2,1,"div",28),r()()(),a(42,"div",29)(43,"a",30),l(44,"Cancel"),r(),a(45,"button",31),l(46,"Submit"),r()()()()()()()()()),e&2){let s,d,_,y;m("ngIf",t.mProgress),o(25),m("formGroup",t.itemForm),o(6),m("ngModel",t.item.title)("ngClass",I(10,At,((s=t.itemForm.get("title"))==null?null:s.invalid)&&(((s=t.itemForm.get("title"))==null?null:s.dirty)||((s=t.itemForm.get("title"))==null?null:s.touched)))),o(),m("ngIf",((d=t.itemForm.get("title"))==null?null:d.invalid)&&(((d=t.itemForm.get("title"))==null?null:d.dirty)||((d=t.itemForm.get("title"))==null?null:d.touched))),o(5),D("ngModel",t.item.status_id),m("ngClass",I(12,At,((_=t.itemForm.get("status_id"))==null?null:_.invalid)&&(((_=t.itemForm.get("status_id"))==null?null:_.dirty)||((_=t.itemForm.get("status_id"))==null?null:_.touched)))),o(3),m("ngForOf",t.mContentStatus),o(),m("ngIf",((y=t.itemForm.get("status_id"))==null?null:y.invalid)&&(((y=t.itemForm.get("status_id"))==null?null:y.dirty)||((y=t.itemForm.get("status_id"))==null?null:y.touched))),o(4),m("disabled",t.itemForm.invalid)}},dependencies:[M,L,F,R,J,De,je,Q,Ne,X,Y,K,ee,T],encapsulation:2})};var vn=[{path:"",redirectTo:"index",pathMatch:"full"},{path:"index",component:ne,data:{title:"Index"}},{path:"create",component:Ue,data:{title:"Create"}},{path:"edit/:id",component:Be,data:{title:"Edit"}},{path:"show/:id",component:Ve,data:{title:"Show"}},{path:"about",component:ne,data:{title:"Index"}},{path:"my-playlist",component:ne,data:{title:"Index"}},{path:"liked",component:We,data:{title:"Index"}},{path:"history",component:Ze,data:{title:"Index"}},{path:"live-streams",component:ne,data:{title:"Index"}},{path:"analytics",component:ne,data:{title:"Index"}},{path:"process/:id",component:Ge,data:{title:"Show"}}],Qe=class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=Ce({type:n});static \u0275inj=be({imports:[Pe,Te.forChild(vn),Te]})};var Ot=class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=Ce({type:n});static \u0275inj=be({imports:[Pe,Te,_t,bt,wt.forRoot(),Qe,xt,Tt]})};export{Ot as MediaModule};
