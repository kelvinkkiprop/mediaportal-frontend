import{a as je,b as Ue}from"./chunk-SBGHF6LF.js";import{a as We}from"./chunk-47TLDLVH.js";import{c as te,e as A,f as ie,g as ne,h as re,i as oe,j as Oe,k as ae,m as le,n as me,r as se,s as Ae,t as Le}from"./chunk-QXBATIDL.js";import{h as k,j as E}from"./chunk-APVSM5AM.js";import{a as Re,b as He,c as f,d as De,e as y,h as Ne}from"./chunk-AKZJIA4H.js";import{$a as w,Aa as l,Ba as g,Ca as h,D as S,E as I,Ea as Ee,Fa as Me,Ga as Te,Ia as K,Ja as N,Ka as X,Pa as j,R as $,S as F,T as a,X as v,Y as x,Z as J,Za as R,_a as H,aa as c,bb as Z,ea as s,fa as we,ga as ke,h as W,hb as ee,ja as r,ka as o,la as p,lb as Fe,nb as B,oa as L,ob as D,pb as Pe,qa as _,ra as u,rb as q,v as Q,va as P,w as Y,y as U,za as O}from"./chunk-YZKR2ES7.js";import{f as Ge,g as Ie}from"./chunk-GAL4ENT6.js";var de=class n{constructor(t,e){this.mAppContextService=t;this.http=e}createItem(t){let e=`${f.base_url}/upload`;return this.http.post(e,t)}initUpload(t,e){let i=`${f.base_url}/upload/init`;return this.http.post(i,{filename:t,title:e})}uploadChunk(t,e,i){let m=new FormData;m.append("uploadId",t),m.append("chunkIndex",e.toString()),m.append("file",i,`chunk_${e}`);let d=`${f.base_url}/upload/chunk`;return this.http.post(d,m,{reportProgress:!0,observe:"events"})}completeUpload(t,e,i,m){let d=`${f.base_url}/upload/complete`;return this.http.post(d,{uploadId:t,totalChunks:e,title:i,description:m})}static \u0275fac=function(e){return new(e||n)(U(y),U(ee))};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})};var $e=n=>({"is-invalid":n}),Ke=()=>({height:"150px"});function Xe(n,t){n&1&&p(0,"app-progress")}function Ze(n,t){n&1&&(r(0,"p"),l(1,"Drag & drop a video here, or click to select"),o())}function et(n,t){if(n&1&&(r(0,"p"),l(1),o()),n&2){let e=u();a(),h("Selected: ",e.selectedFile.name,"")}}function tt(n,t){n&1&&(r(0,"div"),l(1,"This field is required."),o())}function it(n,t){if(n&1&&(r(0,"div",33),c(1,tt,2,0,"div",1),o()),n&2){let e,i=u();a(),s("ngIf",(e=i.itemForm.get("title"))==null||e.errors==null?null:e.errors.required)}}function nt(n,t){n&1&&(r(0,"div"),l(1,"This field is required."),o())}function rt(n,t){if(n&1&&(r(0,"div",33),c(1,nt,2,0,"div",1),o()),n&2){let e,i=u();a(),s("ngIf",(e=i.itemForm.get("description"))==null||e.errors==null?null:e.errors.required)}}function ot(n,t){if(n&1&&(r(0,"div")(1,"div",34)(2,"div",35),l(3),o()()()),n&2){let e=u();a(2),we("width",e.progress,"%"),a(),h("",e.progress,"%")}}function at(n,t){n&1&&(r(0,"a",36),l(1,"Run in Background"),o())}var pe=class n{constructor(t,e,i,m){this.mToastrService=t;this.mUploadService=e;this.fb=i;this.router=m;this.itemForm=this.fb.group({title:["",A.required],description:["",A.required]})}selectedFile=null;progress=0;isDragging=!1;itemForm;mProgress=!1;onSubmit(t){this.mProgress=!0,this.upload(t.title,t.description)}onDragOver(t){t.preventDefault(),this.isDragging=!0}onDragLeave(t){t.preventDefault(),this.isDragging=!1}onDrop(t){t.preventDefault(),this.isDragging=!1,t.dataTransfer?.files.length&&(this.selectedFile=t.dataTransfer.files[0])}onFileSelected(t){this.selectedFile=t.target.files[0]}upload(t,e){return Ie(this,null,function*(){if(!this.selectedFile||this.itemForm.invalid){this.mToastrService.error("Please fill out all fields and select a file.");return}let i=5*1024*1024,m=Math.ceil(this.selectedFile.size/i),b=(yield W(this.mUploadService.initUpload(this.selectedFile.name,t))).uploadId;for(let C=0;C<m;C++){let Se=C*i,ze=Math.min(Se+i,this.selectedFile.size),qe=this.selectedFile.slice(Se,ze);yield W(this.mUploadService.uploadChunk(b,C,qe).pipe()),this.mProgress=!1,this.progress=Math.round((C+1)/m*100)}yield W(this.mUploadService.completeUpload(b,m,t,e)),this.mToastrService.success("Media uploaded complete!"),this.router.navigateByUrl("/media")})}static \u0275fac=function(e){return new(e||n)(v(k),v(de),v(se),v(B))};static \u0275cmp=x({type:n,selectors:[["app-create"]],hostBindings:function(e,i){e&1&&_("dragover",function(d){return i.onDragOver(d)})("dragleave",function(d){return i.onDragLeave(d)})("drop",function(d){return i.onDrop(d)})},standalone:!1,decls:54,vars:20,consts:[["fileInput",""],[4,"ngIf"],[1,"app-content-header"],[1,"container-fluid"],[1,"row"],[1,"col-sm-6"],[1,"mb-0"],[1,"breadcrumb","float-sm-end"],[1,"breadcrumb-item"],["href","#"],["aria-current","page",1,"breadcrumb-item"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-lg-12","col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-tools"],[1,"card-body"],[3,"ngSubmit","formGroup"],[1,"row","mb-3"],[1,"col-md-12"],[1,"mb-3"],[1,"dropzone"],["type","file","hidden","","accept","video/*",3,"change"],["type","button",1,"btn","btn-light","btn-sm",3,"click"],["for","title",1,"form-label","required"],["type","text","formControlName","title",1,"form-control",3,"ngModel","ngClass"],["class","invalid-feedback d-block","role","alert",4,"ngIf"],["for","description",1,"form-label","required"],["formControlName","description",1,"w-100",3,"styles","ngClass"],[1,"text-end"],["routerLink","/my-media","class","btn btn-warning  me-1",4,"ngIf"],["type","submit",1,"btn","btn-primary",3,"disabled"],["role","alert",1,"invalid-feedback","d-block"],[1,"progress"],["role","progressbar","aria-valuenow","25","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-warning","progress-bar-striped","progress-bar-animated"],["routerLink","/my-media",1,"btn","btn-warning","me-1"]],template:function(e,i){if(e&1){let m=L();c(0,Xe,1,0,"app-progress",1),r(1,"section")(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h3",6),l(7,"Media"),o()(),r(8,"div",5)(9,"ol",7)(10,"li",8)(11,"a",9),l(12,"Home"),o()(),r(13,"li",10),l(14,"Media"),o(),r(15,"li",11),l(16,"Create"),o()()()()(),r(17,"div",4)(18,"div",12)(19,"div",13)(20,"div",14)(21,"div",15),l(22," Create Media "),o(),p(23,"div",16),o(),r(24,"div",17)(25,"form",18),_("ngSubmit",function(){return S(m),I(i.onSubmit(i.itemForm.value))}),r(26,"div",19)(27,"div",20)(28,"div",21)(29,"div",22),c(30,Ze,2,0,"p",1)(31,et,2,1,"p",1),r(32,"input",23,0),_("change",function(b){return S(m),I(i.onFileSelected(b))}),o(),r(34,"button",24),_("click",function(){S(m);let b=O(33);return I(b.click())}),l(35,"Choose File"),o()()()(),r(36,"div",20)(37,"div",21)(38,"label",25),l(39,"Title:"),o(),p(40,"input",26),c(41,it,2,1,"div",27),o()()(),r(42,"div",20)(43,"div",21)(44,"label",28),l(45,"Description:"),o(),p(46,"quill-editor",29),c(47,rt,2,1,"div",27),o()(),r(48,"div",21),c(49,ot,4,3,"div",1),o(),r(50,"div",30),c(51,at,2,0,"a",31),r(52,"button",32),l(53,"Submit"),o()()()()()()()()()}if(e&2){let m,d,b,C;s("ngIf",i.mProgress),a(25),s("formGroup",i.itemForm),a(4),ke("dragging",i.isDragging),a(),s("ngIf",!i.selectedFile),a(),s("ngIf",i.selectedFile),a(9),s("ngModel",i.selectedFile==null?null:i.selectedFile.name)("ngClass",N(15,$e,((m=i.itemForm.get("title"))==null?null:m.invalid)&&(((m=i.itemForm.get("title"))==null?null:m.dirty)||((m=i.itemForm.get("title"))==null?null:m.touched)))),a(),s("ngIf",((d=i.itemForm.get("title"))==null?null:d.invalid)&&(((d=i.itemForm.get("title"))==null?null:d.dirty)||((d=i.itemForm.get("title"))==null?null:d.touched))),a(5),s("styles",K(17,Ke))("ngClass",N(18,$e,((b=i.itemForm.get("description"))==null?null:b.invalid)&&(((b=i.itemForm.get("description"))==null?null:b.dirty)||((b=i.itemForm.get("description"))==null?null:b.touched)))),a(),s("ngIf",((C=i.itemForm.get("description"))==null?null:C.invalid)&&(((C=i.itemForm.get("description"))==null?null:C.dirty)||((C=i.itemForm.get("description"))==null?null:C.touched))),a(2),s("ngIf",i.progress>0),a(2),s("ngIf",i.progress>0),a(),s("disabled",!i.selectedFile||i.itemForm.invalid)}},dependencies:[R,w,D,ae,te,ie,ne,le,me,je,E],styles:[".dropzone[_ngcontent-%COMP%]{border:2px dashed #bbb;border-radius:8px;padding:40px;text-align:center;cursor:pointer;transition:.2s}.dropzone.dragging[_ngcontent-%COMP%]{background-color:#eef6ff;border-color:#3b82f6}"]})};var ge=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-edit"]],standalone:!1,decls:2,vars:0,template:function(e,i){e&1&&(r(0,"p"),l(1,"edit works!"),o())},encapsulation:2})};var Be=Ge(We());var T=class n{constructor(t,e){this.mAppContextService=t;this.http=e}allItems(){let t=`${f.base_url}/media`;return this.http.get(t,this.mAppContextService.getHttpOptions())}createItem(t){let e=`${f.base_url}/media`;return this.http.post(e,t,this.mAppContextService.getHttpOptions())}getOneItem(t){let e=`${f.base_url}/media/${t}`;return this.http.get(e,this.mAppContextService.getHttpOptions())}updateItem(t){let e=`${f.base_url}/media/${t.id}`;return this.http.put(e,t,this.mAppContextService.getHttpOptions())}deleteItem(t){let e=`${f.base_url}/media/${t.id}`;return this.http.delete(e,this.mAppContextService.getHttpOptions())}paginateItems(t){return this.http.get(t,this.mAppContextService.getHttpOptions())}unpaginatedItems(){let t=`${f.base_url}/unpaginated-items-media`;return this.http.get(t,this.mAppContextService.getHttpOptions())}searchItems(t){let e=`${f.base_url}/search-media`;return this.http.post(e,t,this.mAppContextService.getHttpOptions())}myMedia(t){let e=`${f.base_url}/my-media/${t}`;return this.http.get(e,this.mAppContextService.getHttpOptions())}likedMediaItems(){let t=`${f.base_url}/liked-media`;return this.http.get(t,this.mAppContextService.getHttpOptions())}historyMediaItems(){let t=`${f.base_url}/history-media`;return this.http.get(t,this.mAppContextService.getHttpOptions())}reactItem(t){let e=`${f.base_url}/media/${t.id}/react`;return this.http.post(e,t,this.mAppContextService.getHttpOptions())}commentItem(t){let e=`${f.base_url}/media/${t.id}/comment`;return this.http.post(e,t,this.mAppContextService.getHttpOptions())}upload(t){let e=`${f.base_url}/upload`;return this.http.post(e,t)}initUpload(t,e){let i=`${f.base_url}/upload/init`;return this.http.post(i,{filename:t,title:e})}uploadChunk(t,e,i){let m=new FormData;m.append("uploadId",t),m.append("chunkIndex",e.toString()),m.append("file",i,`chunk_${e}`);let d=`${f.base_url}/upload/chunk`;return this.http.post(d,m,{reportProgress:!0,observe:"events"})}completeUpload(t,e,i,m){let d=`${f.base_url}/upload/complete`;return this.http.post(d,{uploadId:t,totalChunks:e,title:i,description:m})}static \u0275fac=function(e){return new(e||n)(U(y),U(ee))};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})};var lt=()=>({exact:!0});function mt(n,t){n&1&&p(0,"app-progress")}function st(n,t){if(n&1&&(r(0,"div",25)(1,"div",26)(2,"label",27),l(3,"Biography:"),o(),r(4,"div",13),l(5),o()()()),n&2){let e=u();a(5),g(e.mCurrentUser.bio)}}function dt(n,t){if(n&1){let e=L();r(0,"div")(1,"div",33)(2,"a",34),l(3,"Show"),o(),r(4,"a",35),l(5,"Edit"),o(),r(6,"button",36),_("click",function(){S(e);let m=u().$implicit,d=u(3);return I(d.onDelete(m))}),l(7,"Delete"),o()(),p(8,"app-media-card",37),o()}if(n&2){let e=u().$implicit;a(2),P("routerLink","/media/show/",e.id,""),a(2),P("routerLink","/media/edit/",e.id,""),a(4),s("data",e)}}function pt(n,t){if(n&1&&(r(0,"div",32),c(1,dt,9,5,"div",1),o()),n&2){let e=t.$implicit;a(),s("ngIf",e)}}function ct(n,t){if(n&1&&(r(0,"div",30),c(1,pt,2,1,"div",31),o()),n&2){let e=u(2);a(),s("ngForOf",e.myMedia)}}function ut(n,t){n&1&&(r(0,"p",38),l(1,"No items"),o())}function vt(n,t){if(n&1&&(r(0,"div",25)(1,"div",26)(2,"label",28),l(3,"Uploads:"),o(),c(4,ct,2,1,"div",29)(5,ut,2,0,"ng-template",null,0,j),o()()),n&2){let e=O(6),i=u();a(4),s("ngIf",i.myMedia&&i.myMedia.length>0)("ngIfElse",e)}}function ft(n,t){if(n&1&&(r(0,"a",40),p(1,"app-media-card",37),o()),n&2){let e=u().$implicit;P("routerLink","/media/show/",e.id,""),a(),s("data",e)}}function gt(n,t){if(n&1&&(r(0,"div",32),c(1,ft,2,3,"a",39),o()),n&2){let e=t.$implicit;a(),s("ngIf",e)}}function ht(n,t){if(n&1&&(r(0,"div",30),c(1,gt,2,1,"div",31),o()),n&2){let e=u(2);a(),s("ngForOf",e.myPlaylists)}}function _t(n,t){n&1&&(r(0,"p",38),l(1,"No items"),o())}function bt(n,t){if(n&1&&(r(0,"div",25)(1,"div",26)(2,"label",27),l(3,"Playlists:"),o(),c(4,ht,2,1,"div",29)(5,_t,2,0,"ng-template",null,0,j),o()()),n&2){let e=O(6),i=u();a(4),s("ngIf",i.myPlaylists&&i.myPlaylists.length>0)("ngIfElse",e)}}var _e=class n{constructor(t,e,i,m,d){this.mAuthService=t;this.mAppContextService=e;this.mMediaService=i;this.mToastrService=m;this.router=d}mCurrentUser;mInitials;itemForm;mProgress=!1;myMedia=[];myPlaylists=[];ngOnInit(){this.mCurrentUser=this.mAuthService.currentUser,this.mInitials=this.mCurrentUser.name.match(/(\b\S)?/g).join("").match(/(^\S|\S$)?/g).join("").toUpperCase(),this.index(this.mCurrentUser.id)}index(t){this.mProgress=!0,this.mMediaService.myMedia(t).subscribe({next:e=>{e&&(this.myMedia=e.data.my_media,this.myPlaylists=e.data.my_playlists,this.mProgress=!1)},error:e=>{e.error.message&&this.mToastrService.error(e.error.message),this.mProgress=!1}})}onDelete(t){Be.default.mixin({customClass:{cancelButton:"btn btn-dark me-2",confirmButton:"btn btn-danger"},buttonsStyling:!1}).fire({title:"Remove?",text:"You won't be able to revert this!",icon:"error",showCancelButton:!0,reverseButtons:!0,cancelButtonText:"Cancel",confirmButtonText:"Delete"}).then(i=>{i.isConfirmed&&(this.mProgress=!0,this.mMediaService.deleteItem(t).subscribe({next:m=>{m&&(this.myMedia=this.myMedia.filter(d=>d.id!==t.id),this.mToastrService.error(m.message),this.mProgress=!1)},error:m=>{m.error.message&&this.mToastrService.error(m.error.message),this.mProgress=!1}}))})}static \u0275fac=function(e){return new(e||n)(v(De),v(y),v(T),v(k),v(B))};static \u0275cmp=x({type:n,selectors:[["app-read"]],standalone:!1,decls:38,vars:11,consts:[["noItemsTemplate",""],[4,"ngIf"],[1,"app-content-header"],[1,"container-fluid"],[1,"app-content"],[1,"row"],[1,"col-lg-12","col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"d-flex","align-items-center","mb-3"],[1,"user-image","rounded-circle","bg-primary","text-white","fw-bold","d-inline-flex","justify-content-center","align-items-center","me-3",2,"width","64px","height","64px","font-size","1rem"],[1,"mb-0","fw-semibold"],[1,"text-muted"],["id","myTab","role","tablist",1,"nav","nav-tabs","border-0","text-uppercase"],["role","presentation",1,"nav-item"],["routerLink","/media/about","routerLinkActive","active","id","home-tab","data-bs-toggle","tab","data-bs-target","#home","type","button","role","tab","aria-controls","home",1,"nav-link","border-0","text-uppercase","text-sm",3,"routerLinkActiveOptions"],["routerLink","/media/index","routerLinkActive","active","id","media-tab","data-bs-toggle","tab","data-bs-target","#media","type","button","role","tab","aria-controls","media",1,"nav-link","border-0","text-uppercase","text-sm"],["routerLink","/media/my-playlist","routerLinkActive","active","id","playlist-tab","data-bs-toggle","tab","data-bs-target","#playlist","type","button","role","tab","aria-controls","playlist",1,"nav-link","border-0","text-uppercase","text-sm"],[1,"card-tools"],[1,"btn","btn-warning","btn-sm",3,"routerLink"],[1,"bi","bi-pencil-fill"],[1,"card-body","p-0","m-0"],["id","myTabContent",1,"tab-content","container","py-3"],["class","tab-pane fade show active",4,"ngIf"],[1,"tab-pane","fade","show","active"],[1,"mb-3","container"],["for","bio",1,"form-label"],["for","uploads",1,"form-label"],["class","row row-cols-1 row-cols-md-3 g-4",4,"ngIf","ngIfElse"],[1,"row","row-cols-1","row-cols-md-3","g-4"],["class","col",4,"ngFor","ngForOf"],[1,"col"],["role","group","aria-label","Basic mixed styles example",1,"btn-group","w-100","mb-1"],[1,"btn","btn-dark","btn-sm",3,"routerLink"],[1,"btn","btn-primary","btn-sm",3,"routerLink"],["type","button",1,"btn","btn-warning","btn-sm",3,"click"],[3,"data"],[1,"p-5","text-center","text-muted"],["class","text-decoration-none text-reset",3,"routerLink",4,"ngIf"],[1,"text-decoration-none","text-reset",3,"routerLink"]],template:function(e,i){e&1&&(c(0,mt,1,0,"app-progress",1),r(1,"section")(2,"div",2),p(3,"div",3),o(),r(4,"div",4)(5,"div",3)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"span",11),l(13),o(),r(14,"div")(15,"p",12),l(16),o(),r(17,"small",13),l(18),o()()(),r(19,"ul",14)(20,"li",15)(21,"button",16),l(22," About "),o()(),r(23,"li",15)(24,"button",17),l(25," Media "),o()(),r(26,"li",15)(27,"button",18),l(28," Playlist "),o()()()(),r(29,"div",19)(30,"a",20),p(31,"i",21),l(32," Edit Profile "),o()()(),r(33,"div",22)(34,"div",23),c(35,st,6,1,"div",24)(36,vt,7,2,"div",24)(37,bt,7,2,"div",24),o()()()()()()()()),e&2&&(s("ngIf",i.mProgress),a(13),h(" ",i.mAppContextService.getInitials(i.mCurrentUser.name)," "),a(3),g(i.mCurrentUser.name),a(2),g(i.mCurrentUser.role==null?null:i.mCurrentUser.role.name),a(3),s("routerLinkActiveOptions",K(10,lt)),a(9),P("routerLink","/profile/edit/",i.mCurrentUser.id,""),a(5),s("ngIf",i.router.url==="/media/about"),a(),s("ngIf",i.router.url==="/media/index"),a(),s("ngIf",i.router.url==="/media/my-playlist"))},dependencies:[H,w,D,Pe,E,He],encapsulation:2})};var z=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-index"]],standalone:!1,decls:1,vars:0,template:function(e,i){e&1&&p(0,"app-read")},dependencies:[_e],encapsulation:2})};var Ct=n=>({"text-primary":n}),yt=n=>({"text-warning":n}),St=n=>({"is-invalid":n});function It(n,t){n&1&&p(0,"app-progress")}function wt(n,t){if(n&1&&p(0,"app-hls-player",56),n&2){let e=u();s("data",e.item)}}function kt(n,t){n&1&&(r(0,"div"),l(1,"This field is required."),o())}function Et(n,t){if(n&1&&(r(0,"div",57),c(1,kt,2,0,"div",0),o()),n&2){let e,i=u();a(),s("ngIf",(e=i.itemForm.get("text"))==null||e.errors==null?null:e.errors.required)}}function Mt(n,t){if(n&1&&(r(0,"div",59)(1,"div",60),l(2),o(),r(3,"div",41)(4,"h6",42),l(5),r(6,"span",61),l(7),o()(),r(8,"div",62),l(9),o()()()),n&2){let e=t.$implicit,i=u(2);a(2),h(" ",i.mContext.getInitials(e.user==null?null:e.user.name)," "),a(3),h("",e.user==null?null:e.user.name," "),a(2),g(e.readable_date),a(2),g(e.text)}}function Tt(n,t){if(n&1&&(r(0,"div"),c(1,Mt,10,4,"div",58),o()),n&2){let e=u();a(),s("ngForOf",e.mComments)}}var be=class n{constructor(t,e,i,m,d,b){this.route=t;this.mMediaService=e;this.mToastrService=i;this.mContext=m;this.router=d;this.fb=b;this.itemForm=this.fb.group({text:["",A.required]})}id;item={};mCurrentUrl="";mItem="";mComments="";itemForm;mProgress=!1;ngOnInit(){this.route.paramMap.subscribe(t=>{let e=t.get("id");e&&(this.index(e),this.id=t.get("id"))}),this.mCurrentUrl=window.location.origin+this.router.url}index(t){this.mProgress=!0,this.mMediaService.getOneItem(t).subscribe({next:e=>{e&&(this.item=e,this.mItem=this.item,this.mComments=this.item.comments,this.mProgress=!1)},error:e=>{e.error.message&&this.mToastrService.error(e.error.message),this.mProgress=!1}})}toggleReact(t,e){let i={id:t.id,type_id:e};this.mMediaService.reactItem(i).subscribe({next:m=>{m&&(m.status==="success"&&(this.mItem=m.data),this.mProgress=!1)},error:m=>{m.error.message&&this.mToastrService.error(m.error.message),this.mProgress=!1}})}copyUrl(){navigator.clipboard.writeText(this.mCurrentUrl).then(()=>{this.mToastrService.success("Link copied to clipboard!")})}onSubmit(t){let e={id:this.item.id,text:t.text};this.mMediaService.commentItem(e).subscribe({next:i=>{i&&i.status==="success"&&(this.mComments=i.data.comments,this.mItem=i.data,this.itemForm.reset(),this.mToastrService.success(i.message))},error:i=>{i.error.message&&this.mToastrService.error(i.error.message)}})}static \u0275fac=function(e){return new(e||n)(v(Fe),v(T),v(k),v(y),v(B),v(se))};static \u0275cmp=x({type:n,selectors:[["app-show"]],standalone:!1,decls:87,vars:32,consts:[[4,"ngIf"],[1,"app-content-header"],[1,"container-fluid"],[1,"app-content"],[1,"row"],[1,"col-lg-12","col-12"],[1,"card1"],[1,"card-body","p-0","m-0"],[1,"col-md-9"],[3,"data",4,"ngIf"],[1,"col-md-12"],[1,"fw-bold1","card-title1"],[1,"col-6"],[1,"d-flex","justify-content-end"],[3,"click"],[3,"ngClass"],[1,"bi","me-2",3,"ngClass"],[1,"mx-4",3,"click"],["data-bs-toggle","modal","data-bs-target","#modal"],[1,"bi","bi-share-fill","me-2"],["id","modal","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-dialog-scrollable"],[1,"modal-content"],[1,"modal-header"],["id","staticBackdropLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"d-flex","justify-content-center","gap-3"],["target","_blank",1,"btn","btn-outline-primary","rounded-circle","d-flex","align-items-center","justify-content-center",2,"width","48px","height","48px",3,"href"],[1,"bi","bi-facebook","fs-4"],["target","_blank",1,"btn","btn-outline-info","rounded-circle","d-flex","align-items-center","justify-content-center",2,"width","48px","height","48px",3,"href"],[1,"bi","bi-twitter","fs-4"],["target","_blank",1,"btn","btn-outline-secondary","rounded-circle","d-flex","align-items-center","justify-content-center",2,"width","48px","height","48px",3,"href"],[1,"bi","bi-linkedin","fs-4"],[1,"bi","bi-whatsapp","fs-4"],[1,"modal-footer"],[1,"input-group","mb-3"],["type","text","readonly","",1,"form-control",3,"ngModelChange","ngModel"],[1,"input-group-text","text-primary",3,"click"],[1,"d-flex","align-items-center"],[1,"rounded-circle","bg-primary","text-white","d-flex","justify-content-center","align-items-center","fw-bold",2,"width","40px","height","40px"],[1,"ms-2"],[1,"fw-semibold1","mb-0"],[1,"text-xs","text-muted","mt-0"],[1,"py-2"],[1,"justify-text",2,"word-break","break-word","white-space","normal",3,"innerHTML"],[3,"ngSubmit","formGroup"],[1,"row","g-2","align-items-start"],["for","text",1,"form-label","required1"],[1,"col-auto"],[1,"rounded-circle","bg-warning","text-white","d-flex","justify-content-center","align-items-center","fw-bold",2,"width","40px","height","40px"],[1,"col"],["formControlName","text",1,"form-control",3,"ngClass"],["class","invalid-feedback d-block","role","alert",4,"ngIf"],[1,"text-end","my-2"],["type","submit",1,"btn","btn-primary","btn-sm",3,"disabled"],[3,"data"],["role","alert",1,"invalid-feedback","d-block"],["class","d-flex align-items-center mb-3",4,"ngFor","ngForOf"],[1,"d-flex","align-items-center","mb-3"],[1,"rounded-circle","bg-secondary","text-muted","d-flex","justify-content-center","align-items-center","fw-bold1",2,"width","32px","height","32px"],[1,"text-xs","text-muted"],[1,"mt-0","text-muted","justify-text"]],template:function(e,i){if(e&1&&(c(0,It,1,0,"app-progress",0),r(1,"section")(2,"div",1),p(3,"div",2),o(),r(4,"div",3)(5,"div",2)(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",4)(11,"div",8),c(12,wt,1,1,"app-hls-player",9),r(13,"div",4)(14,"div",10)(15,"h6",11),l(16),o()(),r(17,"div",10)(18,"div",4)(19,"div",12),l(20),o(),r(21,"div",12)(22,"div",13)(23,"span",14),_("click",function(){return i.toggleReact(i.item,1)}),r(24,"span",15),p(25,"i",16),l(26),o()(),r(27,"span",17),_("click",function(){return i.toggleReact(i.item,2)}),r(28,"span",15),p(29,"i",16),l(30),o()(),r(31,"span",18),p(32,"i",19),r(33,"span"),l(34,"SHARE"),o()(),r(35,"div",20)(36,"div",21)(37,"div",22)(38,"div",23)(39,"h5",24),l(40,"Share media"),o(),p(41,"button",25),o(),r(42,"div",26)(43,"div",27)(44,"a",28),p(45,"i",29),o(),r(46,"a",30),p(47,"i",31),o(),r(48,"a",32),p(49,"i",33),o(),r(50,"a",28),p(51,"i",34),o()()(),r(52,"div",35)(53,"div",36)(54,"input",37),Te("ngModelChange",function(d){return Me(i.mCurrentUrl,d)||(i.mCurrentUrl=d),d}),o(),r(55,"div",38),_("click",function(){return i.copyUrl()}),l(56,"COPY"),o()()()()()()()()(),p(57,"hr"),o(),r(58,"div",10)(59,"div",39)(60,"div",40),l(61),o(),r(62,"div",41)(63,"h6",42),l(64),o(),r(65,"div",43),l(66),o()()()(),r(67,"div",10)(68,"div",44),p(69,"p",45),o()(),p(70,"hr"),r(71,"div",10)(72,"form",46),_("ngSubmit",function(){return i.onSubmit(i.itemForm.value)}),r(73,"div",47)(74,"label",48),l(75),o(),r(76,"div",49)(77,"div",50),l(78),o()(),r(79,"div",51),p(80,"input",52),c(81,Et,2,1,"div",53),r(82,"div",54)(83,"button",55),l(84,"Submit"),o()()()()()(),r(85,"div",10),c(86,Tt,2,1,"div",0),o()()()()()()()()()()()),e&2){let m,d;s("ngIf",i.mProgress),a(12),s("ngIf",i.item),a(4),g(i.item.title),a(4),h(" ",i.item.total_views," "),a(4),s("ngClass",N(26,Ct,i.mItem.is_liked)),a(),s("ngClass",i.mItem.is_liked?"bi-hand-thumbs-up-fill":"bi-hand-thumbs-up"),a(),h("",i.mItem.likes_count," "),a(2),s("ngClass",N(28,yt,i.mItem.is_disliked)),a(),s("ngClass",i.mItem.is_disliked?"bi-hand-thumbs-down-fill":"bi-hand-thumbs-down"),a(),h("",i.mItem.dislikes_count," "),a(14),s("href","https://www.facebook.com/sharer/sharer.php?u="+i.mCurrentUrl,F),a(2),s("href","https://twitter.com/intent/tweet?url="+i.mCurrentUrl,F),a(2),s("href","https://www.linkedin.com/shareArticle?url="+i.mCurrentUrl,F),a(2),s("href","https://wa.me/?text="+i.mCurrentUrl,F),a(4),Ee("ngModel",i.mCurrentUrl),a(7),h(" ",i.mContext.getInitials(i.item.user==null?null:i.item.user.name)," "),a(3),g(i.item.user==null?null:i.item.user.name),a(2),h("Published ",i.item.readable_date,""),a(3),s("innerHTML",i.item.description,$),a(3),s("formGroup",i.itemForm),a(3),g(i.mItem.total_comments),a(3),h(" ",i.mContext.getInitials(i.item.user==null?null:i.item.user.name)," "),a(2),s("ngClass",N(30,St,((m=i.itemForm.get("text"))==null?null:m.invalid)&&(((m=i.itemForm.get("text"))==null?null:m.dirty)||((m=i.itemForm.get("text"))==null?null:m.touched)))),a(),s("ngIf",((d=i.itemForm.get("text"))==null?null:d.invalid)&&(((d=i.itemForm.get("text"))==null?null:d.dirty)||((d=i.itemForm.get("text"))==null?null:d.touched))),a(2),s("disabled",i.itemForm.invalid),a(3),s("ngIf",i.mComments&&i.mComments.length>0)}},dependencies:[R,H,w,ae,te,ie,ne,Oe,le,me,E,Re],encapsulation:2})};var Ft=(n,t)=>({active:n,disabled:t});function Pt(n,t){n&1&&p(0,"app-progress")}function Ot(n,t){if(n&1&&(r(0,"div")(1,"a",13)(2,"div",14),p(3,"img",15),o(),r(4,"div",16)(5,"h6",17),l(6),o(),r(7,"div",18)(8,"span"),l(9),o(),l(10,"\xA0\u2022 "),r(11,"span"),l(12),o(),l(13,"\xA0\u2022 "),r(14,"span"),l(15),o()()()()()),n&2){let e=t.$implicit;a(),P("routerLink","/media/show/",e.media==null?null:e.media.id,""),a(2),s("src",e.media.thumbnail_url,F),a(3),g(e.media==null?null:e.media.title),a(3),g(e.media==null||e.media.user==null?null:e.media.user.name),a(3),g(e.media==null?null:e.media.total_views),a(3),g(e.media==null?null:e.media.readable_date)}}function At(n,t){if(n&1&&(r(0,"div"),c(1,Ot,16,7,"div",12),o()),n&2){let e=u();a(),s("ngForOf",e.mItems)}}function Lt(n,t){if(n&1){let e=L();r(0,"li",21)(1,"a",22),_("click",function(){let m=S(e).$implicit,d=u(2);return I(d.onChangePage(m.url))}),o()()}if(n&2){let e=t.$implicit;s("ngClass",X(2,Ft,e.active,!e.url)),a(),s("innerHTML",e.label,$)}}function Rt(n,t){if(n&1&&(r(0,"div")(1,"ul",19),c(2,Lt,2,5,"li",20),o()()),n&2){let e=u();a(2),s("ngForOf",e.links)}}function Ht(n,t){n&1&&(r(0,"p",23),l(1,"No items"),o())}var xe=class n{constructor(t,e,i){this.mMediaService=t;this.mToastrService=e;this.mContext=i}mItems=[];itemForm;search_term;mProgress=!1;links=[];ngOnInit(){this.index(),this.search_term=new oe("",A.required),this.itemForm=new re({search_term:this.search_term})}index(){this.mProgress=!0,this.mProgress=!0,this.mMediaService.likedMediaItems().subscribe({next:t=>{t&&(this.mItems=t.data,this.links=t.links,this.mProgress=!1)},error:t=>{t.error.message&&this.mToastrService.error(t.error.message),this.mProgress=!1}})}onChangePage(t){this.mProgress=!0,this.mMediaService.paginateItems(t).subscribe({next:e=>{e&&(this.mItems=e.data,this.links=e.links,this.mProgress=!1)},error:e=>{e.error.message&&this.mToastrService.error(e.error.message),this.mProgress=!1}})}static \u0275fac=function(e){return new(e||n)(v(T),v(k),v(y))};static \u0275cmp=x({type:n,selectors:[["app-liked"]],standalone:!1,decls:17,vars:5,consts:[["noItemsTemplate",""],[4,"ngIf"],[1,"app-content-header"],[1,"container-fluid"],[1,"app-content"],[1,"row"],[1,"col-lg-12","col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],[1,"row","mb-2","text-decoration-none","text-reset","me-1",3,"routerLink"],[1,"col-md-2"],["width","100%","height","auto","alt","Thumbnail",1,"img-fluid","rounded","ratio","ratio-16x9",3,"src"],[1,"col-md-10"],[1,"mb-1"],[1,"text-muted","text-xs"],[1,"pagination"],["class","page-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"page-item",3,"ngClass"],[1,"page-link",3,"click","innerHTML"],[1,"p-5","text-center","text-muted"]],template:function(e,i){if(e&1&&(c(0,Pt,1,0,"app-progress",1),r(1,"section")(2,"div",2),p(3,"div",3),o(),r(4,"div",4)(5,"div",3)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9),l(11),o()(),r(12,"div",10),c(13,At,2,1,"div",11)(14,Rt,3,1,"div",1)(15,Ht,2,0,"ng-template",null,0,j),o()()()()()()()),e&2){let m=O(16);s("ngIf",i.mProgress),a(11),h(" Liked media (",i.mItems.length,") "),a(2),s("ngIf",i.mItems&&i.mItems.length>0)("ngIfElse",m),a(),s("ngIf",i.links)}},dependencies:[R,H,w,D,E],encapsulation:2})};var Dt=(n,t)=>({active:n,disabled:t});function Nt(n,t){n&1&&p(0,"app-progress")}function jt(n,t){if(n&1&&(r(0,"div")(1,"a",13)(2,"div",14),p(3,"img",15),o(),r(4,"div",16)(5,"h6",17),l(6),o(),r(7,"div",18)(8,"span"),l(9),o(),l(10,"\xA0\u2022 "),r(11,"span"),l(12),o(),l(13,"\xA0\u2022 "),r(14,"span"),l(15),o()()()()()),n&2){let e=t.$implicit;a(),P("routerLink","/media/show/",e.media==null?null:e.media.id,""),a(2),s("src",e.media.thumbnail_url,F),a(3),g(e.media==null?null:e.media.title),a(3),g(e.media==null||e.media.user==null?null:e.media.user.name),a(3),g(e.media==null?null:e.media.total_views),a(3),g(e.media==null?null:e.media.readable_date)}}function Ut(n,t){if(n&1&&(r(0,"div"),c(1,jt,16,7,"div",12),o()),n&2){let e=u();a(),s("ngForOf",e.mItems)}}function $t(n,t){if(n&1){let e=L();r(0,"li",21)(1,"a",22),_("click",function(){let m=S(e).$implicit,d=u(2);return I(d.onChangePage(m.url))}),o()()}if(n&2){let e=t.$implicit;s("ngClass",X(2,Dt,e.active,!e.url)),a(),s("innerHTML",e.label,$)}}function Bt(n,t){if(n&1&&(r(0,"div")(1,"ul",19),c(2,$t,2,5,"li",20),o()()),n&2){let e=u();a(2),s("ngForOf",e.links)}}function Vt(n,t){n&1&&(r(0,"p",23),l(1,"No items"),o())}var Ce=class n{constructor(t,e,i){this.mMediaService=t;this.mToastrService=e;this.mContext=i}mItems=[];itemForm;search_term;mProgress=!1;links=[];ngOnInit(){this.index(),this.search_term=new oe("",A.required),this.itemForm=new re({search_term:this.search_term})}index(){this.mProgress=!0,this.mProgress=!0,this.mMediaService.historyMediaItems().subscribe({next:t=>{t&&(this.mItems=t.data,this.links=t.links,this.mProgress=!1)},error:t=>{t.error.message&&this.mToastrService.error(t.error.message),this.mProgress=!1}})}onChangePage(t){this.mProgress=!0,this.mMediaService.paginateItems(t).subscribe({next:e=>{e&&(this.mItems=e.data,this.links=e.links,this.mProgress=!1)},error:e=>{e.error.message&&this.mToastrService.error(e.error.message),this.mProgress=!1}})}static \u0275fac=function(e){return new(e||n)(v(T),v(k),v(y))};static \u0275cmp=x({type:n,selectors:[["app-history"]],standalone:!1,decls:17,vars:5,consts:[["noItemsTemplate",""],[4,"ngIf"],[1,"app-content-header"],[1,"container-fluid"],[1,"app-content"],[1,"row"],[1,"col-lg-12","col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],[1,"row","mb-2","text-decoration-none","text-reset","me-1",3,"routerLink"],[1,"col-md-2"],["width","100%","height","auto","alt","Thumbnail",1,"img-fluid","rounded","ratio","ratio-16x9",3,"src"],[1,"col-md-10"],[1,"mb-1"],[1,"text-muted","text-xs"],[1,"pagination"],["class","page-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"page-item",3,"ngClass"],[1,"page-link",3,"click","innerHTML"],[1,"p-5","text-center","text-muted"]],template:function(e,i){if(e&1&&(c(0,Nt,1,0,"app-progress",1),r(1,"section")(2,"div",2),p(3,"div",3),o(),r(4,"div",4)(5,"div",3)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9),l(11),o()(),r(12,"div",10),c(13,Ut,2,1,"div",11)(14,Bt,3,1,"div",1)(15,Vt,2,0,"ng-template",null,0,j),o()()()()()()()),e&2){let m=O(16);s("ngIf",i.mProgress),a(11),h(" History (",i.mItems.length,") "),a(2),s("ngIf",i.mItems&&i.mItems.length>0)("ngIfElse",m),a(),s("ngIf",i.links)}},dependencies:[R,H,w,D,E],encapsulation:2})};var zt=[{path:"",redirectTo:"index",pathMatch:"full"},{path:"index",component:z,data:{title:"Index"}},{path:"create",component:pe,data:{title:"Create"}},{path:"edit/:id",component:ge,data:{title:"Edit"}},{path:"show/:id",component:be,data:{title:"Show"}},{path:"about",component:z,data:{title:"Index"}},{path:"my-playlist",component:z,data:{title:"Index"}},{path:"liked",component:xe,data:{title:"Index"}},{path:"history",component:Ce,data:{title:"Index"}}],ye=class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=J({type:n});static \u0275inj=Y({imports:[Z,q.forChild(zt),q]})};var Ve=class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=J({type:n});static \u0275inj=Y({imports:[Z,q,Ae,Le,Ue.forRoot(),ye,Ne]})};export{Ve as MediaModule};
